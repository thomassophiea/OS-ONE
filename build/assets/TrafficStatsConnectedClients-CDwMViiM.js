import{j as e}from"./vendor-ui-CO0mBmim.js";import{a as r}from"./vendor-react-BQC692LR.js";import{a as re,w as C,C as p,b as y,t as G,d as g,B as f,A as xe,l as me,c as k,h as Ve,I as We,m as H,n as q,o as V,p as W,q as h,e as he}from"./index-CrdvL8SR.js";import{T as Je,a as Ke,b as ue,c as j,d as _e,e as N}from"./table-BR47Ry2r.js";import{D as Qe,a as Ye,b as Ze,c as Xe,d as es}from"./dialog-BqYeg193.js";import{C as pe}from"./checkbox-DKtTTixp.js";import{T as b,a as v,b as w}from"./tooltip-8iq8-UkY.js";import{t as ss}from"./traffic-mTtwmE2a.js";import{R as ge,J as fe,aE as J,f as je,W as Ne,aw as be,A as as,S as ts,aB as rs,a0 as ve,P as ls,ah as ns,a1 as we,M as is,aF as cs,ai as os,b as ds,av as xs,aG as ms,aH as hs,i as us,aI as ps,aJ as gs,aj as fs,aK as js,aL as Ns,aM as bs,aN as vs}from"./vendor-icons-DmoIqCnf.js";import"./vendor-charts-CCS-1Xlq.js";function K(A){if(!A||A.length<2)return!1;const c=A.replace(/[:\-]/g,"");if(c.length<2)return!1;const _=c[1].toUpperCase();return["2","6","A","E"].includes(_)}function Ys({onShowDetail:A}){const[c,_]=r.useState([]),[Q,Y]=r.useState(!0),[le,ne]=r.useState(""),[d,ye]=r.useState(""),[P,ws]=r.useState("all"),[D,Se]=r.useState("all"),[L,Ce]=r.useState("all"),[$,ys]=r.useState("all"),[I,Ae]=r.useState("all"),[Ss,De]=r.useState(null),[Cs,Te]=r.useState(!1),[o,R]=r.useState(new Set),[As,Ds]=r.useState(!1),[Ts,ks]=r.useState(!1),[Ls,Is]=r.useState(""),[Bs,Ms]=r.useState(""),[zs,Ps]=r.useState(""),[$s,Rs]=r.useState([]),[Fs,Es]=r.useState(!1),[F,ke]=r.useState(new Map),[Z,ie]=r.useState(!1),[Le,E]=r.useState(!1),[X,ce]=r.useState(!1),[m,T]=r.useState(1),[S,Ie]=r.useState(100),[Os,Be]=r.useState(0);r.useEffect(()=>{ee()},[]);const ee=async()=>{if(!re.isAuthenticated()){console.warn("[TrafficStatsConnectedClients] User not authenticated, skipping data load"),Y(!1);return}Y(!0),ne("");try{const s=await re.getStationsWithSiteCorrelation(),a=Array.isArray(s)?s:[];_(a),Be(a.length),a.length>0&&await oe(a)}catch(s){ne(s instanceof Error?s.message:"Failed to load connected clients"),console.error("Error loading stations:",s)}finally{Y(!1)}},oe=async s=>{ie(!0);try{const a=(m-1)*S,l=await ss.loadTrafficStatisticsForStations(s,S,a);ke(l),console.log(`[TrafficStats] Loaded traffic for page ${m} (${l.size} stations)`)}catch(a){console.warn("Error loading traffic statistics:",a),C.error("Failed to load traffic statistics",{description:"Some traffic data may be unavailable"})}finally{ie(!1)}};r.useEffect(()=>{c.length>0&&oe(c)},[m,S]);const Me=s=>{switch(s?.toLowerCase()){case"connected":case"associated":case"active":return"default";case"disconnected":case"inactive":return"destructive";case"idle":case"low":return"secondary";default:return"outline"}},B=s=>{if(!s||s===0)return"0 B";const a=1024,l=["B","KB","MB","GB","TB","PB"],n=Math.min(Math.floor(Math.log(s)/Math.log(a)),l.length-1);return parseFloat((s/Math.pow(a,n)).toFixed(2))+" "+l[n]},ze=s=>{if(!s)return null;try{const a=new Date(s),n=new Date().getTime()-a.getTime(),i=Math.floor(n/1e3),x=Math.floor(i/60),t=Math.floor(x/60),u=Math.floor(t/24);return i<60?"Just now":x<60?`${x} min${x!==1?"s":""} ago`:t<24?`${t} hr${t!==1?"s":""} ago`:u<7?`${u} day${u!==1?"s":""} ago`:a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:u>365?"numeric":void 0})}catch{return s}},M=s=>{switch(s){case 1:return{band:"2.4 GHz",color:"text-blue-500",bgColor:"bg-blue-500/10"};case 2:return{band:"5 GHz",color:"text-green-500",bgColor:"bg-green-500/10"};case 3:return{band:"6 GHz",color:"text-purple-500",bgColor:"bg-purple-500/10"};case 20:return{band:"Eth1 Wired",color:"text-orange-500",bgColor:"bg-orange-500/10"};default:return{band:"Unknown",color:"text-muted-foreground",bgColor:"bg-muted/10"}}},Pe=(s,a)=>a===20?{icon:gs,color:"text-blue-500",label:"Wired",quality:"Ethernet",bgColor:"bg-blue-500/10"}:s==null?{icon:be,color:"text-muted-foreground",label:"No Signal",quality:"No Data",bgColor:"bg-muted/10"}:s>=-30?{icon:fs,color:"text-green-500",label:`${s} dBm`,quality:"Excellent",bgColor:"bg-green-500/10"}:s>=-50?{icon:js,color:"text-green-400",label:`${s} dBm`,quality:"Very Good",bgColor:"bg-green-400/10"}:s>=-60?{icon:Ns,color:"text-yellow-500",label:`${s} dBm`,quality:"Good",bgColor:"bg-yellow-500/10"}:s>=-70?{icon:bs,color:"text-orange-500",label:`${s} dBm`,quality:"Fair",bgColor:"bg-orange-500/10"}:{icon:vs,color:"text-red-500",label:`${s} dBm`,quality:"Poor",bgColor:"bg-red-500/10"},se=c.filter(s=>{const a=!d||s.macAddress?.toLowerCase().includes(d.toLowerCase())||s.ipAddress?.toLowerCase().includes(d.toLowerCase())||s.hostName?.toLowerCase().includes(d.toLowerCase())||s.apName?.toLowerCase().includes(d.toLowerCase())||s.apSerial?.toLowerCase().includes(d.toLowerCase())||s.username?.toLowerCase().includes(d.toLowerCase())||s.siteName?.toLowerCase().includes(d.toLowerCase())||s.network?.toLowerCase().includes(d.toLowerCase())||s.manufacturer?.toLowerCase().includes(d.toLowerCase())||s.deviceType?.toLowerCase().includes(d.toLowerCase()),l=P==="all"||s.status?.toLowerCase()===P.toLowerCase(),n=D==="all"||s.apSerial===D||s.apName===D,i=L==="all"||s.siteName===L,x=$==="all"||s.deviceType===$;let t=!0;return I==="randomized"?t=K(s.macAddress):I==="permanent"&&(t=!K(s.macAddress)),a&&l&&n&&i&&x&&t}),O=se.length,z=Math.ceil(O/S),ae=(m-1)*S,de=Math.min(ae+S,O),U=se.slice(ae,de);r.useEffect(()=>{T(1)},[d,P,D,L,$,I]);const $e=()=>{const s=new Set(c.map(a=>a.apName||a.apSerial).filter(Boolean));return Array.from(s)},Re=()=>{const s=new Set(c.map(a=>a.siteName).filter(Boolean));return Array.from(s)},Fe=()=>c.reduce((s,a)=>{const l=F.get(a.macAddress);if(l){const x=l.inBytes||0,t=l.outBytes||0;return s+x+t}const n=a.rxBytes||a.clientBandwidthBytes||0,i=a.txBytes||a.outBytes||0;return s+n+i},0),Ee=()=>c.filter(s=>s.status?.toLowerCase()==="connected"||s.status?.toLowerCase()==="associated"||s.status?.toLowerCase()==="active").length,Oe=()=>c.filter(s=>s.status?.toLowerCase()==="disconnected"||s.status?.toLowerCase()==="inactive").length,te=()=>c.filter(s=>K(s.macAddress)).length,Ue=(s,a)=>{const l=new Set(o);a?l.add(s):l.delete(s),R(l)},Ge=s=>{if(s){const a=new Set(U.map(l=>l.macAddress));R(a)}else R(new Set)},He=()=>{const s=c.filter(a=>o.has(a.macAddress));if(s.length===0){C.error("No clients selected");return}try{const a={exportDate:new Date().toISOString(),gdprDataExport:!0,exportType:s.length===1?"single_client":"bulk_export",totalClients:s.length,clients:s.map(t=>{const u=F.get(t.macAddress);return{clientIdentifier:t.macAddress,basicInformation:{macAddress:t.macAddress,ipAddress:t.ipAddress,hostname:t.hostName,username:t.username,deviceType:t.deviceType,manufacturer:t.manufacturer,osType:t.osType},networkInformation:{siteName:t.siteName,siteId:t.siteId,accessPoint:t.apName,apSerial:t.apSerial,network:t.network,ssid:t.ssid,role:t.role,vlan:t.vlan,radioId:t.radioId,channel:t.channel},connectionStatus:{status:t.status,lastSeen:t.lastSeen},trafficStatistics:{inBytes:u?.inBytes||t.rxBytes||0,outBytes:u?.outBytes||t.txBytes||0},signalQuality:{rss:u?.rss||t.rss,rssi:t.rssi,snr:t.snr}}})},l=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n;const x=s.length===1?`client-data-${s[0].macAddress.replace(/:/g,"-")}-${new Date().toISOString().split("T")[0]}.json`:`client-data-export-${s.length}-clients-${new Date().toISOString().split("T")[0]}.json`;i.download=x,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),C.success(`Exported data for ${s.length} client${s.length>1?"s":""}`)}catch(a){console.error("[TrafficStatsConnectedClients] Error exporting client data:",a),C.error("Failed to export client data")}},qe=async()=>{if(o.size===0){C.error("No clients selected");return}ce(!0);try{const s=Array.from(o);await re.bulkDeleteStations(s),C.success(`Deleted data for ${s.length} client${s.length>1?"s":""}`),E(!1),R(new Set),await ee()}catch(s){console.error("[TrafficStatsConnectedClients] Error deleting client data:",s),C.error("Failed to delete client data")}finally{ce(!1)}};return Q?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(s=>e.jsxs(p,{children:[e.jsx(y,{children:e.jsx(G,{className:"h-4 w-20"})}),e.jsx(g,{children:e.jsx(G,{className:"h-8 w-16"})})]},s))}),e.jsxs(p,{children:[e.jsx(y,{children:e.jsx(G,{className:"h-6 w-32"})}),e.jsx(g,{children:e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(s=>e.jsx(G,{className:"h-12 w-full"},s))})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage connected wireless client devices across your network with real-time traffic statistics and signal strength (RSSI)"})}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(f,{onClick:ee,variant:"outline",size:"sm",children:[e.jsx(ge,{className:"mr-2 h-4 w-4"}),"Refresh"]})})]}),le&&e.jsxs(xe,{variant:"destructive",children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx(me,{children:le})]}),!Q&&te()>0&&e.jsxs(xe,{children:[e.jsx(J,{className:"h-4 w-4"}),e.jsxs(me,{children:[e.jsxs("strong",{children:[te()," of ",c.length," clients"]})," are using randomized MAC addresses for privacy. These addresses change periodically to prevent device tracking across networks."]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs(p,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-card to-card/50 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500 to-purple-500 opacity-[0.08] group-hover:opacity-[0.12] transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -top-8 w-24 h-24 bg-violet-500/10 rounded-full blur-2xl group-hover:bg-violet-500/20 transition-all"}),e.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[e.jsx(k,{className:"text-sm font-semibold",children:"Total Clients"}),e.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-violet-500 to-purple-500 shadow-md group-hover:scale-110 transition-transform",children:e.jsx(je,{className:"h-3.5 w-3.5 text-white"})})]}),e.jsxs(g,{className:"relative",children:[e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:c.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Connected devices"})]})]}),e.jsxs(p,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-card to-card/50 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500 to-green-500 opacity-[0.08] group-hover:opacity-[0.12] transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -top-8 w-24 h-24 bg-emerald-500/10 rounded-full blur-2xl group-hover:bg-emerald-500/20 transition-all"}),e.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[e.jsx(k,{className:"text-sm font-semibold",children:"Active Connections"}),e.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-emerald-500 to-green-500 shadow-md group-hover:scale-110 transition-transform",children:e.jsx(Ne,{className:"h-3.5 w-3.5 text-white"})})]}),e.jsxs(g,{className:"relative",children:[e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent",children:Ee()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),e.jsxs(p,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-card to-card/50 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500 to-rose-500 opacity-[0.08] group-hover:opacity-[0.12] transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -top-8 w-24 h-24 bg-pink-500/10 rounded-full blur-2xl group-hover:bg-pink-500/20 transition-all"}),e.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[e.jsx(k,{className:"text-sm font-semibold",children:"Randomized MACs"}),e.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-pink-500 to-rose-500 shadow-md group-hover:scale-110 transition-transform",children:e.jsx(J,{className:"h-3.5 w-3.5 text-white"})})]}),e.jsxs(g,{className:"relative",children:[e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:te()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Privacy-enabled devices"})]})]}),e.jsxs(p,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-card to-card/50 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500 to-rose-500 opacity-[0.08] group-hover:opacity-[0.12] transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -top-8 w-24 h-24 bg-red-500/10 rounded-full blur-2xl group-hover:bg-red-500/20 transition-all"}),e.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[e.jsx(k,{className:"text-sm font-semibold",children:"Disconnected"}),e.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-red-500 to-rose-500 shadow-md group-hover:scale-110 transition-transform",children:e.jsx(be,{className:"h-3.5 w-3.5 text-white"})})]}),e.jsxs(g,{className:"relative",children:[e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-rose-600 bg-clip-text text-transparent",children:Oe()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Recently offline"})]})]}),e.jsxs(p,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-card to-card/50 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-cyan-500 opacity-[0.08] group-hover:opacity-[0.12] transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -top-8 w-24 h-24 bg-blue-500/10 rounded-full blur-2xl group-hover:bg-blue-500/20 transition-all"}),e.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative",children:[e.jsx(k,{className:"text-sm font-semibold",children:"Total Traffic"}),e.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 shadow-md group-hover:scale-110 transition-transform",children:e.jsx(as,{className:"h-3.5 w-3.5 text-white animate-pulse"})})]}),e.jsxs(g,{className:"relative",children:[e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:B(Fe())}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Data transferred ",Z&&"(loading...)"]})]})]})]}),e.jsx(p,{className:"border border-blue-500/50 bg-gradient-to-r from-blue-950/20 to-indigo-950/20",children:e.jsx(g,{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"h-4 w-4 text-blue-400"}),e.jsx("span",{className:"font-medium text-sm",children:"GDPR"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:o.size>0?`${o.size} selected`:"Select clients below"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(f,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white h-8",onClick:He,disabled:o.size===0,children:[e.jsx(rs,{className:"mr-1.5 h-3.5 w-3.5"}),"Download (",o.size,")"]}),e.jsxs(f,{size:"sm",variant:"destructive",className:"h-8",onClick:()=>E(!0),disabled:o.size===0,children:[e.jsx(ve,{className:"mr-1.5 h-3.5 w-3.5"}),"Delete (",o.size,")"]})]})]})})}),e.jsx(Qe,{open:Le,onOpenChange:E,children:e.jsxs(Ye,{children:[e.jsxs(Ze,{children:[e.jsxs(Xe,{className:"flex items-center gap-2 text-red-600",children:[e.jsx(fe,{className:"h-5 w-5"}),"Confirm Data Deletion"]}),e.jsxs(es,{className:"pt-4 space-y-3",children:[e.jsxs("p",{children:["You are about to permanently delete all data for ",e.jsxs("strong",{children:[o.size," client",o.size>1?"s":""]}),"."]}),e.jsx("div",{className:"bg-muted p-3 rounded-lg font-mono text-xs max-h-32 overflow-y-auto",children:Array.from(o).map(s=>{const a=c.find(l=>l.macAddress===s);return e.jsxs("div",{className:"py-1 border-b last:border-0",children:[e.jsx("span",{className:"font-medium",children:s}),a?.hostName&&e.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",a.hostName,")"]})]},s)})}),e.jsx("p",{className:"text-red-600 font-medium",children:"This action cannot be undone. All connection history, events, and statistics for these devices will be permanently removed."})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[e.jsx(f,{variant:"outline",onClick:()=>E(!1),disabled:X,children:"Cancel"}),e.jsx(f,{variant:"destructive",onClick:qe,disabled:X,children:X?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"mr-2 h-4 w-4"}),"Delete All Data (",o.size,")"]})})]})]})}),e.jsxs(p,{className:"surface-2dp",children:[e.jsxs(y,{children:[e.jsx(k,{children:"Device Monitoring & Traffic Analytics"}),e.jsx(Ve,{children:"Select clients using checkboxes to manage GDPR data rights. Click any client to view detailed connection information. Signal strength (RSS/RSSI) included."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-[2] min-w-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(We,{placeholder:"Search clients by name, MAC, device type, or site...",value:d,onChange:s=>ye(s.target.value),className:"pl-10 h-10"})]})}),e.jsxs(H,{value:L,onValueChange:Ce,children:[e.jsxs(q,{className:"w-48 h-10",children:[e.jsx(ns,{className:"mr-2 h-4 w-4"}),e.jsx(V,{placeholder:"Select Site"})]}),e.jsxs(W,{children:[e.jsx(h,{value:"all",children:"All Sites"}),Re().map(s=>e.jsx(h,{value:s,children:s},s))]})]}),e.jsxs(H,{value:D,onValueChange:Se,children:[e.jsxs(q,{className:"w-36 h-10",children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),e.jsx(V,{placeholder:"Access Point"})]}),e.jsxs(W,{children:[e.jsx(h,{value:"all",children:"All Sites"}),$e().map(s=>e.jsx(h,{value:s,children:s},s))]})]}),e.jsxs(H,{value:I,onValueChange:Ae,children:[e.jsxs(q,{className:"w-48 h-10",children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),e.jsx(V,{placeholder:"MAC Type"})]}),e.jsxs(W,{children:[e.jsx(h,{value:"all",children:"All MACs"}),e.jsx(h,{value:"randomized",children:"Randomized Only"}),e.jsx(h,{value:"permanent",children:"Permanent Only"})]})]})]})]}),e.jsxs(g,{children:[se.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(je,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Connected Clients Found"}),e.jsx("p",{className:"text-muted-foreground",children:d||P!=="all"||D!=="all"||L!=="all"||$!=="all"||I!=="all"?"No clients match your current filters.":"No clients are currently connected to the network."})]}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(Je,{className:"text-[11px]",children:[e.jsx(Ke,{children:e.jsxs(ue,{className:"h-8",children:[e.jsx(j,{className:"w-12 p-2 text-[10px]",children:e.jsx(pe,{checked:o.size===U.length&&U.length>0,onCheckedChange:Ge,className:"h-3 w-3"})}),e.jsx(j,{className:"w-20 p-2 text-[10px]",children:"Status / Last Seen"}),e.jsx(j,{className:"w-28 p-2 text-[10px]",children:"Client Info"}),e.jsx(j,{className:"w-32 p-2 text-[10px]",children:"Device Info"}),e.jsx(j,{className:"w-28 p-2 text-[10px]",children:"User & Network"}),e.jsx(j,{className:"w-28 p-2 text-[10px]",children:"Access Point"}),e.jsx(j,{className:"w-20 p-2 text-[10px]",children:"Band"}),e.jsx(j,{className:"w-24 p-2 text-[10px]",children:"Signal Strength"}),e.jsx(j,{className:"w-32 p-2 text-[10px]",children:"Traffic Statistics"})]})}),e.jsx(_e,{children:U.map((s,a)=>{const l=F.get(s.macAddress);return e.jsxs(ue,{className:"cursor-pointer hover:bg-muted/50 h-10",onClick:n=>{n.target.closest("[data-checkbox]")||(A?A(s.macAddress,s.hostName):(De(s),Te(!0)))},children:[e.jsx(N,{className:"p-1","data-checkbox":!0,children:e.jsx(pe,{checked:o.has(s.macAddress),onCheckedChange:n=>Ue(s.macAddress,n),className:"h-3 w-3",onClick:n=>n.stopPropagation()})}),e.jsx(N,{className:"p-1",children:e.jsxs("div",{className:"space-y-0.5",children:[s.status?e.jsx(he,{variant:Me(s.status),className:"text-[9px] px-1 py-0 h-3 min-h-0",children:s.status}):"-",s.status?.toLowerCase()==="disconnected"&&s.lastSeen&&e.jsxs(b,{children:[e.jsx(v,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-0.5 text-muted-foreground",children:[e.jsx(we,{className:"h-2 w-2 flex-shrink-0"}),e.jsx("span",{className:"text-[8px] leading-none",children:ze(s.lastSeen)})]})}),e.jsx(w,{children:e.jsxs("p",{className:"text-xs",children:["Last seen: ",new Date(s.lastSeen).toLocaleString()]})})]})]})}),e.jsx(N,{className:"p-1",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[e.jsx("span",{className:"font-medium text-[12px] leading-none",children:s.hostName||s.macAddress}),K(s.macAddress)&&e.jsxs(b,{children:[e.jsx(v,{asChild:!0,children:e.jsx(J,{className:"h-3 w-3 text-purple-500 flex-shrink-0"})}),e.jsxs(w,{children:[e.jsx("p",{className:"font-medium",children:"Randomized MAC Address"}),e.jsx("p",{className:"text-xs",children:"Privacy feature - prevents device tracking"})]})]})]}),s.hostName&&e.jsx("div",{className:"font-mono text-[10px] text-muted-foreground leading-none mb-0.5",children:s.macAddress}),e.jsx("div",{className:"font-mono text-[10px] text-muted-foreground leading-none",children:s.ipAddress||"No IP"})]})}),e.jsx(N,{className:"p-0.5 w-16",children:e.jsxs("div",{className:"space-y-0.5 max-w-16",children:[e.jsxs(b,{children:[e.jsx(v,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(is,{className:"h-2 w-2 text-muted-foreground flex-shrink-0"}),e.jsx("span",{className:"text-[9px] truncate leading-none",children:s.siteName||"-"}),s.siteRating!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx(cs,{className:"h-2 w-2 text-yellow-500 flex-shrink-0"}),e.jsx("span",{className:"text-[8px] leading-none",children:s.siteRating})]})]})}),e.jsx(w,{children:e.jsx("p",{children:s.siteName||"-"})})]}),s.deviceType&&e.jsxs(b,{children:[e.jsx(v,{asChild:!0,children:e.jsx(he,{variant:"outline",className:"text-[8px] h-2.5 px-1 py-0 max-w-14",children:e.jsx("span",{className:"truncate",children:s.deviceType})})}),e.jsx(w,{children:e.jsx("p",{children:s.deviceType})})]}),s.manufacturer&&e.jsxs(b,{children:[e.jsx(v,{asChild:!0,children:e.jsx("div",{className:"text-[10px] text-muted-foreground leading-none truncate max-w-14",children:s.manufacturer})}),e.jsx(w,{children:e.jsx("p",{children:s.manufacturer})})]})]})}),e.jsx(N,{className:"p-1",children:e.jsx("div",{children:s.role&&e.jsx("div",{className:"text-[13px] text-muted-foreground leading-none mb-0.5",children:s.role})})}),e.jsx(N,{className:"p-1",children:e.jsxs("div",{children:[(s.apName||s.apDisplayName||s.apHostname||s.accessPointName)&&e.jsx("div",{className:"text-[12px] font-medium leading-none mb-0.5 truncate",children:s.apName||s.apDisplayName||s.apHostname||s.accessPointName}),s.apSerial&&e.jsx("div",{className:"font-mono text-[8px] text-muted-foreground truncate leading-none mb-0.5",children:s.apSerial}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(we,{className:"h-2 w-2 text-muted-foreground flex-shrink-0"}),e.jsx("span",{className:"text-[10px] leading-none",children:s.lastSeen||"-"})]})]})}),e.jsx(N,{className:"p-1",children:e.jsxs(b,{children:[e.jsx(v,{asChild:!0,children:e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md transition-all duration-200 hover:scale-105 ${M(s.radioId||s.radio)?.bgColor||"bg-muted/10"}`,children:[e.jsx(os,{className:`h-2 w-2 ${M(s.radioId||s.radio)?.color||"text-muted-foreground"}`}),e.jsx("span",{className:`text-[10px] font-medium ${M(s.radioId||s.radio)?.color||"text-muted-foreground"}`,children:M(s.radioId||s.radio)?.band||"Unknown"})]})}),e.jsx(w,{children:e.jsxs("p",{children:["Radio Band: ",M(s.radioId||s.radio)?.band||"Unknown"]})})]})}),e.jsx(N,{className:"p-1",children:(()=>{const i=F.get(s.macAddress)?.rss??s.rss??s.signalStrength,x=s.radioId||s.radio,t=Pe(i,x),u=t.icon;return e.jsxs(b,{children:[e.jsx(v,{asChild:!0,children:e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md transition-all duration-200 hover:scale-105 ${t.bgColor}`,children:[e.jsx(u,{className:`h-2 w-2 ${t.color}`}),e.jsx("span",{className:`text-[10px] font-medium ${t.color}`,children:x===20?t.label:i!==void 0?`${i}`:"-"})]})}),e.jsx(w,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium",children:t.quality}),e.jsx("p",{className:"text-xs text-muted-foreground",children:x===20?"Physical ethernet connection":i!==void 0?`${i} dBm`:"No signal data"})]})})]})})()}),e.jsx(N,{className:"p-1",children:e.jsx("div",{className:"space-y-0.5",children:l?e.jsxs(e.Fragment,{children:[e.jsxs(b,{children:[e.jsx(v,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ds,{className:"h-2 w-2 text-green-500"}),e.jsx("span",{className:"text-[10px] text-green-600 font-medium",children:B(l.inBytes||0)})]})}),e.jsx(w,{children:e.jsxs("p",{children:["Inbound: ",B(l.inBytes||0)]})})]}),e.jsxs(b,{children:[e.jsx(v,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xs,{className:"h-2 w-2 text-blue-500"}),e.jsx("span",{className:"text-[10px] text-blue-600 font-medium",children:B(l.outBytes||0)})]})}),e.jsx(w,{children:e.jsxs("p",{children:["Outbound: ",B(l.outBytes||0)]})})]})]}):Z?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"animate-spin h-2 w-2 border border-muted-foreground border-t-transparent rounded-full"}),e.jsx("span",{className:"text-[8px] text-muted-foreground",children:"Loading..."})]}):e.jsx("div",{className:"text-[8px] text-muted-foreground",children:"No data"})})})]},s.macAddress||a)})})]})}),O>0&&e.jsxs("div",{className:"flex items-center justify-between px-2 py-4 border-t",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",ae+1,"-",de," of ",O," clients",Z&&e.jsx("span",{className:"ml-2 text-xs",children:"(loading traffic...)"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Per page:"}),e.jsxs(H,{value:S.toString(),onValueChange:s=>{Ie(Number(s)),T(1)},children:[e.jsx(q,{className:"h-8 w-20",children:e.jsx(V,{})}),e.jsxs(W,{children:[e.jsx(h,{value:"25",children:"25"}),e.jsx(h,{value:"50",children:"50"}),e.jsx(h,{value:"100",children:"100"}),e.jsx(h,{value:"200",children:"200"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(f,{variant:"outline",size:"sm",onClick:()=>T(1),disabled:m===1,className:"h-8 w-8 p-0",children:e.jsx(ms,{className:"h-4 w-4"})}),e.jsx(f,{variant:"outline",size:"sm",onClick:()=>T(Math.max(1,m-1)),disabled:m===1,className:"h-8 w-8 p-0",children:e.jsx(hs,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex items-center gap-1 px-2",children:e.jsxs("span",{className:"text-sm",children:["Page ",m," of ",z]})}),e.jsx(f,{variant:"outline",size:"sm",onClick:()=>T(Math.min(z,m+1)),disabled:m===z,className:"h-8 w-8 p-0",children:e.jsx(us,{className:"h-4 w-4"})}),e.jsx(f,{variant:"outline",size:"sm",onClick:()=>T(z),disabled:m===z,className:"h-8 w-8 p-0",children:e.jsx(ps,{className:"h-4 w-4"})})]})]})]})]})]})]})}export{Ys as TrafficStatsConnectedClients};
