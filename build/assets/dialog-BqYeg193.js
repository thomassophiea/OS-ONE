import{B as S,j as o,H as T,J as y,G as L,K as w,L as D,E as X,O as N}from"./vendor-ui-CO0mBmim.js";import{a as e}from"./vendor-react-BQC692LR.js";import{f as l}from"./index-CrdvL8SR.js";import{X as Y}from"./vendor-icons-DmoIqCnf.js";const G=S,J=X,F=T,b=e.forwardRef(({className:a,...t},i)=>o.jsx(N,{ref:i,className:l("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t}));b.displayName=N.displayName;const P=e.forwardRef(({className:a,children:t,...i},j)=>{const[g,c]=e.useState({x:0,y:0}),[d,h]=e.useState(!1),[p,E]=e.useState({x:0,y:0}),m=e.useRef(null);e.useImperativeHandle(j,()=>m.current);const R=s=>{const n=s.target;n.closest("button, input, select, textarea, a")||n.closest('[data-drag-handle="true"]')&&(s.preventDefault(),h(!0),E({x:s.clientX-g.x,y:s.clientY-g.y}))};e.useEffect(()=>{const s=r=>{if(!d)return;const f=r.clientX-p.x,M=r.clientY-p.y,v=m.current;if(!v)return;const x=v.getBoundingClientRect(),C=window.innerWidth,H=window.innerHeight,k=Math.max(-x.width/2+50,Math.min(f,C-x.width/2-50)),z=Math.max(-(x.height-100),Math.min(M,H-100));c({x:k,y:z})},n=()=>{h(!1)};return d&&(document.addEventListener("mousemove",s),document.addEventListener("mouseup",n)),()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",n)}},[d,p]);const u=e.useCallback(()=>{const s=m.current;if(!s){c({x:0,y:0});return}requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(()=>{const n=s.getBoundingClientRect(),r=window.innerHeight;if(console.log("ðŸ“ Dialog dimensions:",{height:n.height,viewportHeight:r,threshold:r*.7}),n.height===0){console.log("âš ï¸ Dialog height is 0, setting default position"),c({x:0,y:0});return}if(n.height>r*.7){const f=-(n.height/2-150);console.log("ðŸ“ Tall dialog detected, positioning higher:",{targetY:f}),c({x:0,y:f})}else console.log("ðŸ“ Small dialog detected, centering"),c({x:0,y:0})},100)})})},[]);return e.useEffect(()=>{u()},[t,u]),e.useEffect(()=>{u()},[u]),o.jsxs(F,{children:[o.jsx(b,{}),o.jsxs(y,{ref:m,className:l("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] max-h-[calc(100vh-2rem)] gap-4 rounded-lg border p-6 shadow-lg sm:max-w-lg overflow-y-auto",d&&"cursor-move select-none",a),style:{transform:`translate(calc(-50% + ${g.x}px), calc(-50% + ${g.y}px))`,transition:d?"none":"all 200ms"},onMouseDown:R,...i,children:[t,o.jsxs(L,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(Y,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});P.displayName=y.displayName;const B=({className:a,...t})=>o.jsx("div",{"data-drag-handle":"true",className:l("flex flex-col gap-2 text-center sm:text-left cursor-move select-none","hover:bg-accent/5 active:bg-accent/10 rounded-md -mx-1 px-1 -mt-1 pt-1 transition-colors",a),title:"Click and drag to move",...t});B.displayName="DialogHeader";const O=({className:a,...t})=>o.jsx("div",{className:l("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...t});O.displayName="DialogFooter";const _=e.forwardRef(({className:a,...t},i)=>o.jsx(w,{ref:i,className:l("text-lg leading-none font-semibold",a),...t}));_.displayName=w.displayName;const q=e.forwardRef(({className:a,...t},i)=>o.jsx(D,{ref:i,className:l("text-muted-foreground text-sm",a),...t}));q.displayName=D.displayName;export{G as D,P as a,B as b,_ as c,q as d,O as e,J as f};
