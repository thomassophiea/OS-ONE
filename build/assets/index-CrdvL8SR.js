const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardEnhanced-DzfzkWjs.js","assets/vendor-ui-CO0mBmim.js","assets/vendor-react-BQC692LR.js","assets/BestPracticesWidget-CfEpE3yG.js","assets/collapsible-DGvlXWsX.js","assets/index-nrHyQllr.js","assets/vendor-icons-DmoIqCnf.js","assets/units-YHb9M7pt.js","assets/vendor-charts-CCS-1Xlq.js","assets/tooltip-8iq8-UkY.js","assets/AccessPointDetail-B0gJCdMV.js","assets/TimelineControls-CCmpQUlq.js","assets/ClientDetail-Cp0Sh9yq.js","assets/traffic-mTtwmE2a.js","assets/AccessPoints-B-02vLMl.js","assets/table-BR47Ry2r.js","assets/switch-iy-vimzq.js","assets/checkbox-DKtTTixp.js","assets/TrafficStatsConnectedClients-CDwMViiM.js","assets/dialog-BqYeg193.js","assets/ReportWidgets-B5DuSDsa.js","assets/ServiceLevelsEnhanced-B2k_o4G6.js","assets/supabaseClient-VxXemYU-.js","assets/vendor-supabase-UKL6O6TB.js","assets/AlertsEventsEnhanced-DEyDQMh8.js","assets/ConfigureNetworks-CdlFGBKu.js","assets/textarea-PnFczYiL.js","assets/ConfigureSites-DlTS4Ngg.js","assets/assignmentStorage-CCeSXJMB.js","assets/ConfigurePolicy-8JJZPa6N.js","assets/ConfigureAAAPolicies-BxgxgA7j.js","assets/ConfigureAdoptionRules-DTkP0zl7.js","assets/ConfigureGuest-DxhEyOUn.js","assets/Administration-CjJ4tlK-.js","assets/Tools-Cz8cTqFE.js","assets/ApiTestTool-BvMyl68F.js","assets/SiteDetail-DFwCC6gk.js","assets/NetworkChatbot-BX6NU1U6.js","assets/AppInsights-mtkLx82w.js","assets/PCIReport-92ps7LmK.js","assets/SystemBackupManager-gP7aRMjp.js","assets/MobileOptimized-BTJ5PvfS.js","assets/LicenseDashboard-UkIwPykt.js","assets/APFirmwareManager-D-__Vot-.js","assets/NetworkDiagnostics-C9TRSsmn.js","assets/EventAlarmDashboard-B-jkndmQ.js","assets/SecurityDashboard-aQ0m7kc3.js","assets/GuestManagement-D5SnYV6u.js","assets/ApiDocumentation-BbpP8phw.js"])))=>i.map(i=>d[i]);
import{j as n,c as Ss,b as Is,u as Lo,R as _o,d as ks,e as Do,f as _e,P as We,g as ye,A as js,h as et,i as Oo,k as zo,l as Mo,m as qo,F as Uo,D as Bo,C as Wo,n as Go,o as Le,p as Nt,q as Vo,T as Ho,I as Jo,V as Yo,r as Qo,s as Xo,v as Ko,w as Zo,x as en,y as tn,S as rn,z as sn,B as on,E as nn,G as Rs,H as an,O as ln,J as cn,K as dn,L as un,M as hn,N as pn,Q as fn,U as gn,W as mn,X as vn,Y as wn,Z as yn}from"./vendor-ui-CO0mBmim.js";import{b as xn,a as g,R as bn,r as An,c as j}from"./vendor-react-BQC692LR.js";import{c as Ns}from"./vendor-charts-CCS-1Xlq.js";import{L as Ct,I as Et,R as ir,M as Pn,N as Cs,S as lr,U as Sn,a as Es,D as In,K as $s,b as Ts,A as qe,B as jt,F as kn,c as Wr,d as jn,e as cr,f as dr,W as ur,C as Rn,g as Nn,h as Xe,i as $t,H as Cn,j as En,k as hr,l as $n,m as Tn,n as Fn,o as Fs,p as Ln,q as _n,r as Dn,s as On,E as rr,t as zn,u as Mn,T as qn,v as Un,w as Bn,x as pr,y as Ls,X as dt,z as Wn,G as fr,J as Ue,O as Gn,P as Dt,Q as _s,V as Gr,Y as Vn,Z as Hn,_ as Jn,$ as Yn,a0 as Qn,a1 as Xn,a2 as Vr,a3 as Kn,a4 as Hr,a5 as Zn,a6 as ea,a7 as ta,a8 as ra}from"./vendor-icons-DmoIqCnf.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var mt={},Jr;function sa(){if(Jr)return mt;Jr=1;var a=xn();return mt.createRoot=a.createRoot,mt.hydrateRoot=a.hydrateRoot,mt}var oa=sa();const na="modulepreload",aa=function(a){return"/"+a},Yr={},W=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");s=l(t.map(h=>{if(h=aa(h),h in Yr)return;Yr[h]=!0;const f=h.endsWith(".css"),u=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${u}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":na,f||(p.as="script"),p.crossOrigin="",p.href=h,d&&p.setAttribute("nonce",d),document.head.appendChild(p),f)return new Promise((v,y)=>{p.addEventListener("load",v),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},Ds="aura_global_filters",Tt={site:"all",timeRange:"24h"};let ve={...Tt};const sr=new Set;try{const a=localStorage.getItem(Ds);if(a){const e=JSON.parse(a);ve={...Tt,...e},e.dateFrom&&(ve.dateFrom=new Date(e.dateFrom)),e.dateTo&&(ve.dateTo=new Date(e.dateTo))}}catch(a){console.warn("[GlobalFilters] Failed to load from localStorage:",a)}function vt(){sr.forEach(a=>a(ve));try{localStorage.setItem(Ds,JSON.stringify(ve))}catch(a){console.warn("[GlobalFilters] Failed to save to localStorage:",a)}}function ia(){const[a,e]=g.useState(ve);return g.useEffect(()=>{const l=c=>{e(c)};return sr.add(l),()=>{sr.delete(l)}},[]),{filters:a,updateFilter:(l,c)=>{ve={...ve,[l]:c},vt()},updateFilters:l=>{ve={...ve,...l},vt()},resetFilters:()=>{ve={...Tt},vt()},resetFilter:l=>{ve={...ve,[l]:Tt[l]},vt()},hasActiveFilters:a.site!=="all"||a.timeRange!=="24h"}}var la=Symbol.for("react.lazy"),Ft=bn[" use ".trim().toString()];function ca(a){return typeof a=="object"&&a!==null&&"then"in a}function Os(a){return a!=null&&typeof a=="object"&&"$$typeof"in a&&a.$$typeof===la&&"_payload"in a&&ca(a._payload)}function Ot(a){const e=da(a),t=g.forwardRef((r,s)=>{let{children:i,...l}=r;Os(i)&&typeof Ft=="function"&&(i=Ft(i._payload));const c=g.Children.toArray(i),d=c.find(ha);if(d){const h=d.props.children,f=c.map(u=>u===d?g.Children.count(h)>1?g.Children.only(null):g.isValidElement(h)?h.props.children:null:u);return n.jsx(e,{...l,ref:s,children:g.isValidElement(h)?g.cloneElement(h,void 0,f):null})}return n.jsx(e,{...l,ref:s,children:i})});return t.displayName=`${a}.Slot`,t}var zs=Ot("Slot");function da(a){const e=g.forwardRef((t,r)=>{let{children:s,...i}=t;if(Os(s)&&typeof Ft=="function"&&(s=Ft(s._payload)),g.isValidElement(s)){const l=fa(s),c=pa(i,s.props);return s.type!==g.Fragment&&(c.ref=r?Ss(r,l):l),g.cloneElement(s,c)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${a}.SlotClone`,e}var ua=Symbol("radix.slottable");function ha(a){return g.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===ua}function pa(a,e){const t={...e};for(const r in e){const s=a[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...a,...t}}function fa(a){let e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?a.ref:(e=Object.getOwnPropertyDescriptor(a,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?a.props.ref:a.props.ref||a.ref)}const Qr=a=>typeof a=="boolean"?`${a}`:a===0?"0":a,Xr=Ns,gr=(a,e)=>t=>{var r;if(e?.variants==null)return Xr(a,t?.class,t?.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(h=>{const f=t?.[h],u=i?.[h];if(f===null)return null;const p=Qr(f)||Qr(u);return s[h][p]}),c=t&&Object.entries(t).reduce((h,f)=>{let[u,p]=f;return p===void 0||(h[u]=p),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,f)=>{let{class:u,className:p,...v}=f;return Object.entries(v).every(y=>{let[x,A]=y;return Array.isArray(A)?A.includes({...i,...c}[x]):{...i,...c}[x]===A})?[...h,u,p]:h},[]);return Xr(a,l,d,t?.class,t?.className)},mr="-",ga=a=>{const e=va(a),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=a;return{getClassGroupId:l=>{const c=l.split(mr);return c[0]===""&&c.length!==1&&c.shift(),Ms(c,e)||ma(l)},getConflictingClassGroupIds:(l,c)=>{const d=t[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},Ms=(a,e)=>{if(a.length===0)return e.classGroupId;const t=a[0],r=e.nextPart.get(t),s=r?Ms(a.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=a.join(mr);return e.validators.find(({validator:l})=>l(i))?.classGroupId},Kr=/^\[(.+)\]$/,ma=a=>{if(Kr.test(a)){const e=Kr.exec(a)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},va=a=>{const{theme:e,prefix:t}=a,r={nextPart:new Map,validators:[]};return ya(Object.entries(a.classGroups),t).forEach(([i,l])=>{or(l,r,i,e)}),r},or=(a,e,t,r)=>{a.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Zr(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(wa(s)){or(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,l])=>{or(l,Zr(e,i),t,r)})})},Zr=(a,e)=>{let t=a;return e.split(mr).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},wa=a=>a.isThemeGetter,ya=(a,e)=>e?a.map(([t,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,c])=>[e+l,c])):i);return[t,s]}):a,xa=a=>{if(a<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,l)=>{t.set(i,l),e++,e>a&&(e=0,r=t,t=new Map)};return{get(i){let l=t.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){t.has(i)?t.set(i,l):s(i,l)}}},qs="!",ba=a=>{const{separator:e,experimentalParseClassName:t}=a,r=e.length===1,s=e[0],i=e.length,l=c=>{const d=[];let h=0,f=0,u;for(let A=0;A<c.length;A++){let I=c[A];if(h===0){if(I===s&&(r||c.slice(A,A+i)===e)){d.push(c.slice(f,A)),f=A+i;continue}if(I==="/"){u=A;continue}}I==="["?h++:I==="]"&&h--}const p=d.length===0?c:c.substring(f),v=p.startsWith(qs),y=v?p.substring(1):p,x=u&&u>f?u-f:void 0;return{modifiers:d,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}};return t?c=>t({className:c,parseClassName:l}):l},Aa=a=>{if(a.length<=1)return a;const e=[];let t=[];return a.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},Pa=a=>({cache:xa(a.cacheSize),parseClassName:ba(a),...ga(a)}),Sa=/\s+/,Ia=(a,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],l=a.trim().split(Sa);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:f,hasImportantModifier:u,baseClassName:p,maybePostfixModifierPosition:v}=t(h);let y=!!v,x=r(y?p.substring(0,v):p);if(!x){if(!y){c=h+(c.length>0?" "+c:c);continue}if(x=r(p),!x){c=h+(c.length>0?" "+c:c);continue}y=!1}const A=Aa(f).join(":"),I=u?A+qs:A,R=I+x;if(i.includes(R))continue;i.push(R);const m=s(x,y);for(let k=0;k<m.length;++k){const F=m[k];i.push(I+F)}c=h+(c.length>0?" "+c:c)}return c};function ka(){let a=0,e,t,r="";for(;a<arguments.length;)(e=arguments[a++])&&(t=Us(e))&&(r&&(r+=" "),r+=t);return r}const Us=a=>{if(typeof a=="string")return a;let e,t="";for(let r=0;r<a.length;r++)a[r]&&(e=Us(a[r]))&&(t&&(t+=" "),t+=e);return t};function ja(a,...e){let t,r,s,i=l;function l(d){const h=e.reduce((f,u)=>u(f),a());return t=Pa(h),r=t.cache.get,s=t.cache.set,i=c,c(d)}function c(d){const h=r(d);if(h)return h;const f=Ia(d,t);return s(d,f),f}return function(){return i(ka.apply(null,arguments))}}const X=a=>{const e=t=>t[a]||[];return e.isThemeGetter=!0,e},Bs=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ra=/^\d+\/\d+$/,Na=new Set(["px","full","screen"]),Ca=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ea=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$a=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ta=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fa=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ke=a=>Qe(a)||Na.has(a)||Ra.test(a),Ee=a=>tt(a,"length",Ua),Qe=a=>!!a&&!Number.isNaN(Number(a)),Ht=a=>tt(a,"number",Qe),at=a=>!!a&&Number.isInteger(Number(a)),La=a=>a.endsWith("%")&&Qe(a.slice(0,-1)),D=a=>Bs.test(a),$e=a=>Ca.test(a),_a=new Set(["length","size","percentage"]),Da=a=>tt(a,_a,Ws),Oa=a=>tt(a,"position",Ws),za=new Set(["image","url"]),Ma=a=>tt(a,za,Wa),qa=a=>tt(a,"",Ba),it=()=>!0,tt=(a,e,t)=>{const r=Bs.exec(a);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Ua=a=>Ea.test(a)&&!$a.test(a),Ws=()=>!1,Ba=a=>Ta.test(a),Wa=a=>Fa.test(a),Ga=()=>{const a=X("colors"),e=X("spacing"),t=X("blur"),r=X("brightness"),s=X("borderColor"),i=X("borderRadius"),l=X("borderSpacing"),c=X("borderWidth"),d=X("contrast"),h=X("grayscale"),f=X("hueRotate"),u=X("invert"),p=X("gap"),v=X("gradientColorStops"),y=X("gradientColorStopPositions"),x=X("inset"),A=X("margin"),I=X("opacity"),R=X("padding"),m=X("saturate"),k=X("scale"),F=X("sepia"),$=X("skew"),w=X("space"),b=X("translate"),S=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",D,e],E=()=>[D,e],G=()=>["",ke,Ee],J=()=>["auto",Qe,D],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",D],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Qe,D];return{cacheSize:500,separator:":",theme:{colors:[it],spacing:[ke,Ee],blur:["none","",$e,D],brightness:O(),borderColor:[a],borderRadius:["none","","full",$e,D],borderSpacing:E(),borderWidth:G(),contrast:O(),grayscale:Z(),hueRotate:O(),invert:Z(),gap:E(),gradientColorStops:[a],gradientColorStopPositions:[La,Ee],inset:z(),margin:z(),opacity:O(),padding:E(),saturate:O(),scale:O(),sepia:Z(),skew:O(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",D]}],container:["container"],columns:[{columns:[$e]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),D]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",at,D]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",D]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",at,D]}],"grid-cols":[{"grid-cols":[it]}],"col-start-end":[{col:["auto",{span:["full",at,D]},D]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[it]}],"row-start-end":[{row:["auto",{span:[at,D]},D]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",D]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",D]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",D,e]}],"min-w":[{"min-w":[D,e,"min","max","fit"]}],"max-w":[{"max-w":[D,e,"none","full","min","max","fit","prose",{screen:[$e]},$e]}],h:[{h:[D,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[D,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[D,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[D,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$e,Ee]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ht]}],"font-family":[{font:[it]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",D]}],"line-clamp":[{"line-clamp":["none",Qe,Ht]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ke,D]}],"list-image":[{"list-image":["none",D]}],"list-style-type":[{list:["none","disc","decimal",D]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[a]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[a]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ke,Ee]}],"underline-offset":[{"underline-offset":["auto",ke,D]}],"text-decoration-color":[{decoration:[a]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",D]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",D]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),Oa]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Da]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ma]}],"bg-color":[{bg:[a]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[ke,D]}],"outline-w":[{outline:[ke,Ee]}],"outline-color":[{outline:[a]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[a]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[ke,Ee]}],"ring-offset-color":[{"ring-offset":[a]}],shadow:[{shadow:["","inner","none",$e,qa]}],"shadow-color":[{shadow:[it]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",$e,D]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[u]}],saturate:[{saturate:[m]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",D]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",D]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",D]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[at,D]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",D]}],accent:[{accent:["auto",a]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",D]}],"caret-color":[{caret:[a]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",D]}],fill:[{fill:[a,"none"]}],"stroke-w":[{stroke:[ke,Ee,Ht]}],stroke:[{stroke:[a,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Va=ja(Ga);function C(...a){return Va(Ns(a))}const Ha=gr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),q=g.forwardRef(({className:a,variant:e,size:t,asChild:r=!1,...s},i)=>{const l=r?zs:"button";return n.jsx(l,{"data-slot":"button",className:C(Ha({variant:e,size:t}),a),ref:i,...s})});q.displayName="Button";const Be=g.forwardRef(({className:a,type:e,...t},r)=>n.jsx("input",{type:e,"data-slot":"input",className:C("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),ref:r,...t}));Be.displayName="Input";var Ja=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ya=Ja.reduce((a,e)=>{const t=Ot(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:l,...c}=s,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...a,[e]:r}},{}),Qa="Label",Gs=g.forwardRef((a,e)=>n.jsx(Ya.label,{...a,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(a.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Gs.displayName=Qa;var Xa=Gs;function es({className:a,...e}){return n.jsx(Xa,{"data-slot":"label",className:C("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...e})}function zt({className:a,...e}){return n.jsx("div",{"data-slot":"card",className:C("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",a),...e})}function vr({className:a,...e}){return n.jsx("div",{"data-slot":"card-header",className:C("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...e})}function wr({className:a,...e}){return n.jsx("h4",{"data-slot":"card-title",className:C("leading-none",a),...e})}function Vs({className:a,...e}){return n.jsx("p",{"data-slot":"card-description",className:C("text-muted-foreground",a),...e})}function yr({className:a,...e}){return n.jsx("div",{"data-slot":"card-content",className:C("px-6 [&:last-child]:pb-6",a),...e})}const Ka=gr("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Za({className:a,variant:e,...t}){return n.jsx("div",{"data-slot":"alert",role:"alert",className:C(Ka({variant:e}),a),...t})}function ei({className:a,...e}){return n.jsx("div",{"data-slot":"alert-description",className:C("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...e})}const ti="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function ri(a){const[e,t]=g.useState(!1),r=()=>{t(!0)},{src:s,alt:i,style:l,className:c,...d}=a;return e?n.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${c??""}`,style:l,children:n.jsx("div",{className:"flex items-center justify-center w-full h-full",children:n.jsx("img",{src:ti,alt:"Error loading image",...d,"data-original-url":s})})}):n.jsx("img",{src:s,alt:i,className:c,style:l,...d,onError:r})}const si="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAABcCAYAAADj79JYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAIdUAACHVAQSctJ0AAAW9SURBVHhe7Z1LT1tXFEa/KlXTQdRJK1WdRw3Y4WVyMdj4bZLOMiL5B51UVQOEl3k4EDCxjZ/4BUmjKsP+kw6qqvkFnSBlXqS2OqlPtX0ctTlJmovxvcbcvaQlBkm2N+se/JJiAIZhGIZhGIZhGOZfQkh+eBONr2fwpBDDoaOlBtSCmuidukYMjaE4Gs1beCZv4QeH+0xSC2qid+oaUTyeiKHxMo4jGcehwz2S1IKa6J26RgyHRhyHgoOTrQaCmuidugYH/68c3GY5uM1ycJvl4DbLwW3WtuANoW6w4XBbDawPHlM3Qk/6HW6rAQe3z74Irt8P9rOtl/bS8pf2nQZvLyhiaPweRf2k343h6CSG+q9RPP5c79Q1Og0ex2MZReP5DOr+OKqDUdRd/e4tHLljOPhUb9RVYqgaMdTplMoY6qa9iacygtqBPo95D2cJHkWtqs9j3gMHtxkKHkVdRFuPznXTznDwzlDBa0KFrJl2Bt9z8E7g4DbDwW1GBa8KFbJq2hk8kVFUOPhpoeARVEUENRlB1bRxPJERDn56OLjNqOAVoUJWTEsv7Tl4B3BwmwmiaoRREWFUZRgV08Y4eGeo4AdChTwwbQxHMoKDjoOHULkaQf1OBCXLDaN8N4zK7QmUPtH3sJ1eBP8KpcthlH+hGfpbBlZJd4EhlFb1XWwniKIRRFmEcCBDKJs2ikMZ6jB4CJUrIZRf0EXW51plBHUKXtR3sZ3eBS8d2x08iFJe38V2VPCSUIuVTEs/piGUzhC8eEx3Tfpcq6TXGecmeAAlEUSZFjItnZjAGYIHUTymnyp9rlWGUaN9z0vwolCLFU1LJyaAwhmCF47pp0qfa5X0tDeAAgfX51rluQo+jYIIoEgLmbb9DXQcPID8MV1kfa5VhlChrxxcn2uV5yx4XqjF8qalp3QB5M8YnC7ym7OtkB6gA8idj+B+5MQ08nIaOdPSN+BHrqbPM0MIySvTyB3TRdbnWiU9C/Njv++Dl/V5ZnB08ClkDR/2hR85Wsi0AZSkD/tL+jwzUHA/9l/QRdbnWiXtO41s71/aq+BZoRbLmpT+bk76kA7o88xAb175kP052LpfffMBzgrptvzI9v7NKwo+hazwYV/6kDXlNArSh8xPISQ/1ueZZRK5q37k7/iRtVwf0nd9yN+eQLL3b8+q4BmhYmZMSBdm/89JZOL6LMYEFHwSGTGFrJxC5n9Mt084Bc98q89hTKKCp8WrqO+WTne2OYVHK/oM5hRMIWV48UhMIi0n8eittoM3vUgt6/+eOSUq+J5QcffeIgXPSC92+WR3gxtIGRNICS/2pBep11TB000vdvhkd4t3B1enm2N3GQpuYFdMICUnsNvyVXADD/lupNuo4DtCxd5pR081DWzzybaCG9gybuChMLAjSTrpfLItRAXfbgWfwG7TwBbHthIKPo6tvw3sNMc5tvV4sOUdx/ZfHjxY0P+MsQAPkpMeJJ+OIzkwiqTLyRrYdhtYsfa/fl9F6fIYNvc82PrDg+SJB5sO9sHJGDafe5D4Qu/UVVxIfuTBRmMcD6UHSQf7QI5hUw5jw6s36jr0AbdjWK95sCXHsOFQN+Uo1sUoNqz7gJrX+fHSCNbqdKVHse5AN+QI1uwMrk76CBK1MSTpxh3muhxGwt7gBEUfQqI2ik05goSDXJPDWBWjWLE3ODGL2UtDWKmNYIOWcIgJOYQV4e5FcEKddIq+Tos4wFV5Hcu9C06o6Ev1YazRMvI6li6wy9KNxd4GJyj6dSzWhpB4y5IXyXMSnKDorlb0FVpKunH/ArooXVgQbiz0Prhi9pIL83U3VqQL92m59teL4qIcPF/B1UkfxHzVjaX2kvMXyAU5iLmXLsxZ98mcHfLBAOa/GcDcbyr6kqQL0P8uy0Hcaw5hzrpfK3MWvsT8Zy7Mz17Dd+lruFfodwcxXxjAPWt/cRLDMAzDMAzDMEw/8g9h3eSr3I9axAAAAABJRU5ErkJggg==";class oi{cache=new Map;get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(e),null):t.data:null}set(e,t,r){this.cache.set(e,{data:t,timestamp:Date.now(),ttl:r})}clear(e){this.cache.delete(e)}clearAll(){this.cache.clear()}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const Te=new oi,wt={SHORT:60*1e3,MEDIUM:300*1e3,LONG:600*1e3,VERY_LONG:1800*1e3},ni=!1;class ai{enabled;constructor(){this.enabled=ni}formatMessage(e,t,...r){if(!this.enabled)return;const i=`[${new Date().toISOString()}] [${e.toUpperCase()}]`;switch(e){case"error":console.error(i,t,...r);break;case"warn":console.warn(i,t,...r);break;case"info":console.info(i,t,...r);break;case"debug":console.debug(i,t,...r);break;default:console.log(i,t,...r)}}log(e,...t){this.formatMessage("log",e,...t)}info(e,...t){this.formatMessage("info",e,...t)}warn(e,...t){this.formatMessage("warn",e,...t)}error(e,...t){this.formatMessage("error",e,...t)}debug(e,...t){this.formatMessage("debug",e,...t)}enable(){this.enabled=!0}disable(){this.enabled=!1}}const o=new ai,Me="/api/management";o.log("[API Service] Environment:","Production (using proxy)");o.log("[API Service] BASE_URL:",Me);class ii{accessToken=null;refreshToken=null;pendingRequests=new Set;requestCounter=0;sessionExpiredHandler=null;loginPromise=null;apiCallLogs=[];apiLogSubscribers=new Set;maxLogs=500;constructor(){this.accessToken=localStorage.getItem("access_token"),this.refreshToken=localStorage.getItem("refresh_token")}buildQueryString(e){if(!e)return"";const t=[];return e.fields&&e.fields.length>0&&t.push(`fields=${e.fields.join(",")}`),e.limit!==void 0&&t.push(`limit=${e.limit}`),e.offset!==void 0&&t.push(`offset=${e.offset}`),e.sortBy&&t.push(`sortBy=${e.sortBy}`),e.sortOrder&&t.push(`sortOrder=${e.sortOrder}`),e.params&&Object.entries(e.params).forEach(([r,s])=>{t.push(`${r}=${encodeURIComponent(String(s))}`)}),t.length>0?`?${t.join("&")}`:""}async login(e,t){if(this.loginPromise)return o.log("[Auth] Login already in progress, returning existing promise"),this.loginPromise;this.loginPromise=this._performLogin(e,t);try{const r=await this.loginPromise;return this.loginPromise=null,r}catch(r){throw this.loginPromise=null,r}}async _performLogin(e,t){try{if(!e.trim())throw new Error("User ID is required");if(!t.trim())throw new Error("Password is required");const r=[{headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({grantType:"password",userId:e.trim(),password:t})},{headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({grant_type:"password",userId:e.trim(),password:t})},{headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({grantType:"password",userId:e.trim(),password:t,scope:""})},{headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({grant_type:"password",userId:e.trim(),password:t,scope:""})},{headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({grantType:"password",username:e.trim(),password:t})},{headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({grant_type:"password",username:e.trim(),password:t})}];let s=null,i=null;for(let l=0;l<r.length;l++){const c=r[l];try{l===0&&o.log("Attempting authentication...");const d=new AbortController,h=setTimeout(()=>d.abort(),8e3),f=await fetch(`${Me}/v1/oauth2/token`,{method:"POST",signal:d.signal,...c});if(clearTimeout(h),f.ok){const u=await f.json();return this.accessToken=u.access_token,this.refreshToken=u.refresh_token,localStorage.setItem("access_token",u.access_token),localStorage.setItem("refresh_token",u.refresh_token),localStorage.setItem("admin_role",u.adminRole),localStorage.setItem("user_email",e.trim()),o.log("✅ Login successful"),u}else{const u=await f.text();let p=`Authentication failed (${f.status})`;try{const y=JSON.parse(u);y.errors&&y.errors.length>0&&(p=y.errors[0].errorMessage||p)}catch{u.length>0&&u.length<200&&(p=u)}const v=new Error(p);f.status===401&&(i=v),s=v}}catch(d){d instanceof Error&&d.name==="AbortError"?s=new Error("Authentication timed out after 8 seconds"):s=d instanceof Error?d:new Error("Network error during authentication")}}throw i?(o.error("❌ Authentication failed: Invalid credentials"),i):(o.error("❌ Authentication failed: Unable to connect to server"),s||new Error("Login failed with all authentication formats"))}catch(r){throw r}}async logout(){if(this.cancelAllRequests(),this.accessToken)try{await fetch(`${Me}/v1/oauth2/token/${this.accessToken}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.accessToken}`,Accept:"application/json"}})}catch(e){o.error("Logout error:",e)}this.accessToken=null,this.refreshToken=null,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("admin_role"),localStorage.removeItem("user_email")}async makeAuthenticatedRequest(e,t={},r=6e3){if(!this.accessToken)throw new Error("No access token available");const s={Authorization:`Bearer ${this.accessToken}`,Accept:"application/json","Content-Type":"application/json",...t.headers},i=new AbortController;this.pendingRequests.add(i);const l=setTimeout(()=>{i.abort()},r),c=++this.requestCounter,d=Date.now(),h=e.includes("/sites/report")||e.includes("/aps/report")||e.includes("/reports/")||e.includes("/alerts")||e.includes("/devices")||e.includes("/globalsettings")||e.includes("/stations")||e.includes("report/widgets")||e.includes("/events")||e.includes("/countries")||e.includes("/roles")||e.includes("/notifications")||e.includes("/services");h||o.log(`[Request ${c}] Starting: ${e}`);const f={id:c,timestamp:new Date,method:(t.method||"GET").toUpperCase(),endpoint:e,isPending:!0,requestBody:t.body?this.safeParseJSON(t.body):void 0};this.addApiLog(f);try{const u=await fetch(`${Me}${e}`,{...t,headers:s,signal:i.signal}),p=Date.now()-d;h||o.log(`[Request ${c}] Completed: ${e} (${u.status})`);const v=u.clone();let y;try{const x=await v.text();y=this.safeParseJSON(x)}catch{}if(this.updateApiLog(c,{status:u.status,duration:p,responseBody:this.truncateResponseBody(y),isPending:!1}),clearTimeout(l),this.pendingRequests.delete(i),u.status===401){const x=e.includes("/stations")||e.includes("/services")||e.includes("/notifications")||e.includes("/alerts")||e.includes("/events")||e.includes("/report")||e.includes("/reports")||e.includes("/analytics");if(this.refreshToken&&!h&&!x)try{return await this.refreshAccessToken(),this.makeAuthenticatedRequest(e,t,r)}catch{throw o.log("Token refresh failed, clearing authentication state"),await this.logout(),this.sessionExpiredHandler&&this.sessionExpiredHandler(),new Error("Session expired. Please login again.")}else throw x?(o.warn(`Authentication failed for ${e}, but not logging out (non-critical endpoint)`),h?new Error(`SUPPRESSED_ANALYTICS_ERROR: Authentication required for ${e}`):new Error(`SUPPRESSED_NON_CRITICAL_ERROR: Authentication required for ${e}`)):h?new Error(`SUPPRESSED_ANALYTICS_ERROR: Authentication required for ${e}`):(o.log("Authentication required, clearing authentication state"),await this.logout(),this.sessionExpiredHandler&&this.sessionExpiredHandler(),new Error("Session expired. Please login again."))}return u}catch(u){const p=Date.now()-d;clearTimeout(l),this.pendingRequests.delete(i);const v=u instanceof Error?u.message:"Unknown error";throw this.updateApiLog(c,{duration:p,error:v,isPending:!1}),u instanceof Error?u.name==="AbortError"?(h||o.warn(`Request to ${e} timed out after ${r}ms`),h?new Error(`SUPPRESSED_ANALYTICS_ERROR: Request timeout for ${e}`):new Error("Request timeout")):u.message==="Failed to fetch"?h?new Error(`SUPPRESSED_ANALYTICS_ERROR: ${e}`):(o.warn(`Network error for ${e}: ${u.message}`),new Error("Network error: Unable to connect to Extreme Platform ONE. Please check your connection and server availability.")):(h||o.warn(`Request to ${e} failed:`,u.message),u):new Error("Network request failed")}}async refreshAccessToken(){if(!this.refreshToken)throw new Error("No refresh token available");const e=new AbortController,t=setTimeout(()=>e.abort(),6e3);try{const r=await fetch(`${Me}/v1/oauth2/refreshToken`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({refresh_token:this.refreshToken}),signal:e.signal});if(clearTimeout(t),!r.ok)throw new Error("Token refresh failed");const s=await r.json();this.accessToken=s.access_token,this.refreshToken=s.refresh_token,localStorage.setItem("access_token",s.access_token),localStorage.setItem("refresh_token",s.refresh_token)}catch(r){throw clearTimeout(t),r instanceof Error&&r.name==="AbortError"?new Error("Token refresh timed out - please login again"):r}}isAuthenticated(){const e=!!this.accessToken,t=!!localStorage.getItem("access_token");return!e&&t?(o.log("[Auth] Reloading tokens from localStorage into memory"),this.accessToken=localStorage.getItem("access_token"),this.refreshToken=localStorage.getItem("refresh_token"),!0):e&&!t?(o.log("[Auth] Token in memory but not storage - clearing authentication"),this.accessToken=null,this.refreshToken=null,!1):e&&t}getAccessToken(){return this.accessToken}getAdminRole(){return localStorage.getItem("admin_role")}async validateSession(){if(!this.isAuthenticated())return!1;try{return(await this.makeAuthenticatedRequest("/v1/globalsettings",{method:"GET"},4e3)).ok}catch(e){return o.log("Session validation failed:",e instanceof Error?e.message:"Unknown error"),e instanceof Error&&(e.message.includes("Session expired")||e.message.includes("Authentication required"))&&(o.log("Clearing invalid session"),await this.logout(),this.sessionExpiredHandler&&this.sessionExpiredHandler()),!1}}async makeRequestWithRetry(e,t=2,r=1e3){let s;for(let i=0;i<=t;i++)try{return await e()}catch(l){if(s=l instanceof Error?l:new Error("Unknown error"),s.message.includes("Session expired")||s.message.includes("Authentication required")||s.message.includes("403")||s.message.includes("404")||s.message.includes("422"))throw s;if(i===t)break;await new Promise(c=>setTimeout(c,r*(i+1))),o.log(`Retrying request (attempt ${i+2}/${t+1})...`)}throw s}cancelAllRequests(){const e=this.pendingRequests.size;e>0&&o.log(`Canceling ${e} pending request(s)`);for(const t of this.pendingRequests)t.abort();this.pendingRequests.clear()}async getSites(e){const t="sites";if(!e){const i=Te.get(t);if(i)return i}const r=this.buildQueryString(e),s=["/v3/sites","/v1/sites","/sites","/v2/sites","/v1/sites/all"];for(let i=0;i<s.length;i++){const l=s[i]+r;try{const c=await this.makeAuthenticatedRequest(l,{},1e4);if(!c.ok){if(o.warn(`Sites API ${l} returned status ${c.status}: ${c.statusText}`),c.status===404){o.log(`Endpoint ${l} not found, trying next...`);continue}throw new Error(`Failed to fetch sites from ${l}: ${c.status} ${c.statusText}`)}const d=await c.json();if(o.log(`Successfully fetched ${d?d.length:0} sites from ${l}`),d&&d.length>0){o.log("Sample site structure:",{endpoint:l,firstSite:d[0],totalSites:d.length,sampleSiteIds:d.slice(0,3).map(f=>({id:f.id,name:f.name||f.siteName}))});const h=d.find(f=>f.id==="c7395471-aa5c-46dc-9211-3ed24c5789bd");return h&&o.log("Found target site in response:",{endpoint:l,site:h}),e||Te.set(t,d,wt.MEDIUM),d}else{o.warn(`${l} returned empty or null sites array`);continue}}catch(c){if(o.warn(`Failed to load sites from ${l}:`,c),c instanceof Error){if(o.warn(`Sites API ${l} error details:`,{message:c.message,stack:c.stack?.split(`
`)[0]}),c.message.includes("404")||c.message.includes("Not Found")||c.message.includes("Failed to fetch")){o.log(`Network/404 error for ${l}, trying next endpoint...`);continue}if(c.message.includes("SUPPRESSED_ANALYTICS_ERROR")||c.message.includes("SUPPRESSED_NON_CRITICAL_ERROR")){o.log(`Sites endpoint ${l} was marked as suppressed endpoint - this should not happen`);continue}}if(i===s.length-1)break}}return o.warn("All site endpoints failed or returned empty results"),[]}async getSiteById(e){try{const r=(await this.getSites()).find(i=>i.id===e);if(r)return r;const s=[`/v3/sites/${e}`,`/v1/sites/${e}`,`/sites/${e}`,`/v2/sites/${e}`];for(const i of s)try{o.log(`Trying individual site lookup: ${i}`);const l=await this.makeAuthenticatedRequest(i,{},5e3);if(l.ok){const c=await l.json();return o.log(`Found individual site via ${i}:`,c),c}else if(l.status===404){o.log(`Individual site endpoint ${i} not found, trying next...`);continue}}catch(l){o.warn(`Individual site lookup failed for ${i}:`,l);continue}return null}catch(t){return o.warn(`Failed to find site with ID ${e}:`,t),null}}async getServices(){try{const e=await this.makeAuthenticatedRequest("/v1/services",{},8e3);if(!e.ok)return o.warn(`Services API returned status ${e.status}: ${e.statusText}`),[];const t=await e.json();return t&&Array.isArray(t)?(o.log(`Successfully fetched ${t.length} services`),t):(o.warn("Invalid services response format"),[])}catch(e){return o.warn("Failed to load services:",e),[]}}async getRoles(){const e="roles",t=Te.get(e);if(t)return o.log(`✓ Returned ${t.length} roles from cache`),t;try{const r=await this.makeAuthenticatedRequest("/v3/roles",{},8e3);if(!r.ok)return o.warn(`Failed to fetch roles: ${r.status} ${r.statusText}`),[];const s=await r.json();return Array.isArray(s)?(o.log(`✓ Successfully loaded ${s.length} network roles from /v3/roles`),Te.set(e,s,wt.VERY_LONG),s):(o.warn("Roles response is not an array:",s),[])}catch(r){return o.error("Error fetching roles:",r),[]}}async getRoleNameToIdMap(){try{const e=await this.makeAuthenticatedRequest("/v3/roles/nametoidmap",{},8e3);if(!e.ok)return o.warn(`Failed to fetch role name map: ${e.status} ${e.statusText}`),{};const t=await e.json();return o.log("✓ Successfully loaded role name to ID mapping"),t}catch(e){return o.error("Error fetching role name map:",e),{}}}setSessionExpiredHandler(e){this.sessionExpiredHandler=e}subscribeToApiLogs(e){return this.apiLogSubscribers.add(e),()=>{this.apiLogSubscribers.delete(e)}}getApiLogs(){return[...this.apiCallLogs]}clearApiLogs(){this.apiCallLogs=[],this.notifyLogSubscribers()}notifyLogSubscribers(){this.apiLogSubscribers.forEach(e=>{this.apiCallLogs.length>0&&e(this.apiCallLogs[this.apiCallLogs.length-1])})}addApiLog(e){this.apiCallLogs.push(e),this.apiCallLogs.length>this.maxLogs&&this.apiCallLogs.shift(),this.apiLogSubscribers.forEach(t=>t(e))}updateApiLog(e,t){const r=this.apiCallLogs.find(s=>s.id===e);r&&(Object.assign(r,t),this.apiLogSubscribers.forEach(s=>s(r)))}safeParseJSON(e){if(typeof e!="string")return e;try{return JSON.parse(e)}catch{return e}}truncateResponseBody(e){if(!e)return e;const t=JSON.stringify(e);return t.length>5e4?{_truncated:!0,_originalSize:t.length,_preview:t.substring(0,5e4)+"..."}:e}async testConnectivity(){try{o.log("Testing connectivity to Extreme Platform ONE...");const e=new AbortController,t=setTimeout(()=>e.abort(),4e3),r=await fetch(`${Me}/v1/oauth2/token`,{method:"OPTIONS",headers:{Accept:"application/json"},signal:e.signal});return clearTimeout(t),r.ok||r.status===405?{success:!0,message:"Extreme Platform ONE is reachable",details:{status:r.status,statusText:r.statusText,headers:Object.fromEntries(r.headers.entries())}}:{success:!1,message:`Server responded with ${r.status}: ${r.statusText}`,details:{status:r.status,statusText:r.statusText}}}catch(e){let t="Cannot reach Extreme Platform ONE";return e instanceof Error&&(e.name==="AbortError"?t="Connection test timed out - server may be unreachable":e.message.includes("CORS")?t="CORS policy blocking request - check server configuration":e.message.includes("network")?t="Network error - check internet connection":e.message.includes("certificate")||e.message.includes("SSL")?t="SSL/Certificate error - check HTTPS configuration":t=e.message),{success:!1,message:t,details:{error:e instanceof Error?e.message:"Unknown error"}}}}async getAccessPoints(e){return this.makeRequestWithRetry(async()=>{const t=this.buildQueryString(e),r=await this.makeAuthenticatedRequest("/v1/aps/query"+t);if(!r.ok)throw new Error(`Failed to fetch access points: ${r.status}`);return await r.json()})}async getAPQueryColumns(){const e="ap-query-columns",t=Te.get(e);if(t)return t;try{const r=await this.makeAuthenticatedRequest("/v1/aps/query/columns");if(!r.ok)throw new Error(`Failed to fetch AP query columns: ${r.status}`);const s=await r.json(),i=Array.isArray(s)?s:[];return i.length>0&&Te.set(e,i,wt.LONG),i}catch{return[]}}async queryAccessPoints(e){if(!e||Object.keys(e).length===0)return this.getAccessPoints();try{const t=await this.makeAuthenticatedRequest("/v1/aps/query",{method:"POST",body:JSON.stringify(e)});return t.ok?await t.json():this.getAccessPoints()}catch{return this.getAccessPoints()}}async getAccessPointDetails(e){const t=await this.makeAuthenticatedRequest(`/v1/aps/${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`Failed to fetch AP details: ${t.status} ${t.statusText}`);return await t.json()}async getAccessPointStations(e){const t=await this.makeAuthenticatedRequest(`/v1/aps/${encodeURIComponent(e)}/stations`);if(!t.ok)throw new Error(`Failed to fetch AP stations: ${t.status} ${t.statusText}`);const r=await t.json();return Array.isArray(r)?r:[]}async getAccessPointEvents(e,t=14){const r=Date.now(),s=r-t*24*60*60*1e3,i=Date.now(),l=`/v1/aps/${encodeURIComponent(e)}/alarms?startTime=${s}&endTime=${r}&noCache=${i}`;o.log(`[API] Fetching AP events for ${e} (${t}D)`);const c=await this.makeAuthenticatedRequest(l);if(!c.ok)throw new Error(`Failed to fetch AP events: ${c.status} ${c.statusText}`);const d=await c.json();return o.log(`[API] ✓ Fetched AP events for ${e}`),Array.isArray(d)?d:[]}flattenAPEvents(e){const t=[];for(const r of e)for(const s of r.alarmTypes)for(const i of s.alarms)t.push(i);return t.sort((r,s)=>s.ts-r.ts)}async getAccessPointInsights(e,t="3H",r=15){const s=Date.now(),l=encodeURIComponent(["throughputReport|all","apPowerConsumptionTimeseries","countOfUniqueUsersReport|all","baseliningAPRss","channelUtilization5","channelUtilization2_4","noisePerRadio|all","apQoE"].join(",")),c=`/v1/report/aps/${encodeURIComponent(e)}?noCache=${s}&duration=${t}&resolution=${r}&widgetList=${l}`;o.log("[API] Fetching AP insights:",{serialNumber:e,duration:t,resolution:r});try{const d=await this.makeAuthenticatedRequest(c);if(!d.ok)throw new Error(`Failed to fetch AP insights: ${d.status} ${d.statusText}`);const h=await d.json();return o.log("[API] AP insights data received"),h}catch(d){throw o.error("[API] Error fetching AP insights:",d),d}}async getClientInsights(e,t="3H",r=15,s="all"){const i=Date.now(),l=["throughputReport|all","rfQuality|all","topAppGroupsByThroughputReport","appGroupsThroughputDetails"],c=["baseliningRFQI","baseliningWirelessRTT","baseliningNetworkRTT","baseliningRss","baseliningRxRate","baseliningTxRate"],d=["rfQuality|all","baseliningRFQI","muEvent","dlRetries"];let h;if(s==="default")h=l;else if(s==="expert")h=c;else if(s==="troubleshoot")h=d;else{const p=new Set([...l,...c,...d]);h=Array.from(p)}const f=encodeURIComponent(h.join(",")),u=`/v1/report/stations/${encodeURIComponent(e)}?noCache=${i}&duration=${t}&resolution=${r}&widgetList=${f}`;o.log("[API] Fetching Client insights:",{macAddress:e,duration:t,resolution:r,mode:s});try{const p=await this.makeAuthenticatedRequest(u);if(!p.ok)throw new Error(`Failed to fetch Client insights: ${p.status} ${p.statusText}`);const v=await p.json();return o.log("[API] Client insights data received"),v}catch(p){throw o.error("[API] Error fetching Client insights:",p),p}}async updateAccessPoint(e,t){const r=await this.makeAuthenticatedRequest(`/v1/aps/${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const s=await r.text();throw new Error(`Failed to update AP: ${r.status} ${r.statusText} - ${s}`)}return await r.json()}async getAPPlatforms(){const e=await this.makeAuthenticatedRequest("/v1/aps/platforms");if(!e.ok)throw new Error(`Failed to fetch AP platforms: ${e.status}`);return await e.json()}async getAPHardwareTypes(){const e=await this.makeAuthenticatedRequest("/v1/aps/hardwaretypes");if(!e.ok)throw new Error(`Failed to fetch AP hardware types: ${e.status}`);return await e.json()}async getAPDefaults(e){const t=e?`/v1/aps/default?hardwareType=${encodeURIComponent(e)}`:"/v1/aps/default",r=await this.makeAuthenticatedRequest(t);if(!r.ok)throw new Error(`Failed to fetch AP defaults: ${r.status}`);return await r.json()}async getAllStations(e){try{return await this.makeRequestWithRetry(async()=>{const t=this.buildQueryString(e),r=await this.makeAuthenticatedRequest("/v1/stations"+t);if(!r.ok)throw new Error(`Failed to fetch stations: ${r.status} ${r.statusText}`);const s=await r.json();return Array.isArray(s)?s:[]})}catch(t){if(t instanceof Error&&(t.message.includes("SUPPRESSED_ANALYTICS_ERROR")||t.message.includes("SUPPRESSED_NON_CRITICAL_ERROR")))return o.log("Returning empty stations array for suppressed endpoint"),[];throw t}}async getStations(e){return this.getAllStations(e)}async getStationsWithSiteCorrelation(){try{o.log("Fetching stations with site correlation...");const[e,t]=await Promise.all([this.getAllStations(),this.getAccessPoints()]),r=new Map;t.forEach(l=>{l.serialNumber&&l.hostSite&&r.set(l.serialNumber,l.hostSite)}),o.log(`Found ${t.length} access points with site mappings`),o.log(`Processing ${e.length} stations for site correlation`);const s=e.map(l=>{const c=l.apSerial||l.apSerialNumber||l.accessPointSerialNumber||l.apSerial;let d=l.siteName;return c&&r.has(c)&&(d=r.get(c)),{...l,siteName:d,correlatedSite:d,correlationSource:c&&r.has(c)?"AP-correlation":"original-data"}}),i=s.filter(l=>l.correlationSource==="AP-correlation").length;return o.log(`Successfully correlated ${i} stations with sites via AP mapping`),s}catch(e){return e instanceof Error&&(e.message.includes("SUPPRESSED_ANALYTICS_ERROR")||e.message.includes("SUPPRESSED_NON_CRITICAL_ERROR"))?(o.log("Returning empty stations array for suppressed endpoint"),[]):(o.warn("Site correlation failed, falling back to regular station data:",e),this.getAllStations())}}async getStation(e){try{try{const s=await this.makeAuthenticatedRequest(`/v1/stations/${encodeURIComponent(e)}`);if(s.ok)return await s.json()}catch{o.log("Specific station endpoint not available, searching in all stations")}const r=(await this.getAllStations()).find(s=>s.macAddress?.toLowerCase()===e.toLowerCase());if(!r)throw new Error(`Station with MAC address ${e} not found`);return r}catch(t){if(t instanceof Error&&(t.message.includes("SUPPRESSED_ANALYTICS_ERROR")||t.message.includes("SUPPRESSED_NON_CRITICAL_ERROR")))return o.log("Returning default station object for suppressed endpoint"),{macAddress:e,status:"Unknown",hostName:"Unknown",deviceType:"Unknown"};throw t}}async disassociateStations(e){const t=await this.makeAuthenticatedRequest("/v1/stations/disassociate",{method:"POST",body:JSON.stringify({macAddresses:e})});if(!t.ok)throw new Error(`Failed to disassociate stations: ${t.status} ${t.statusText}`)}async updateSite(e,t){const r=await this.makeAuthenticatedRequest(`/v3/sites/${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const s=await r.text();throw new Error(`Failed to update site: ${r.status} ${r.statusText} - ${s}`)}return await r.json()}async deleteSite(e){const t=await this.makeAuthenticatedRequest(`/v3/sites/${encodeURIComponent(e)}`,{method:"DELETE"});if(!t.ok){const r=await t.text();throw new Error(`Failed to delete site: ${t.status} ${t.statusText} - ${r}`)}}async getAccessPointsBySite(e){return!e||e==="all"?this.getAccessPoints():this.makeRequestWithRetry(async()=>{const t=await this.getSiteById(e),r=t?.name||t?.siteName||null,s=await this.getAccessPoints();o.log(`Filtering ${s.length} access points for site ID: ${e}, site name: ${r}`);const i=s.filter(l=>r&&l.hostSite&&String(l.hostSite).trim().toLowerCase()===r.toLowerCase()?!0:[l.location,l.locationName,l.apLocation,l.ap_location,l.site,l.siteId,l.siteName,l.site_name,l.campus,l.building,l.place,l.area,l.zone].some(h=>{if(!h)return!1;const f=String(h).trim(),u=String(e).trim();return f===u||f.toLowerCase()===u.toLowerCase()}));return o.log(`Found ${i.length} access points for site ${e} (${r})`),i.length===0&&s.length>0&&(o.log("No APs found for site. Available location/site values in APs:"),s.slice(0,5).forEach(l=>{o.log(`AP ${l.serialNumber}:`,{hostSite:l.hostSite,location:l.location,locationName:l.locationName,site:l.site,siteId:l.siteId,siteName:l.siteName,campus:l.campus,building:l.building,allLocationFields:Object.keys(l).filter(c=>c.toLowerCase().includes("site")||c.toLowerCase().includes("location")||c.toLowerCase().includes("campus")||c.toLowerCase().includes("building")||c.toLowerCase().includes("place")||c.toLowerCase().includes("area")||c.toLowerCase().includes("zone")||c.toLowerCase().includes("host")).map(c=>`${c}: ${l[c]}`)})})),i})}async reauthenticateStation(e){const t=await this.makeAuthenticatedRequest(`/v1/stations/${encodeURIComponent(e)}/reauthenticate`,{method:"POST"});if(!t.ok)throw new Error(`Failed to reauthenticate station: ${t.status} ${t.statusText}`)}async getServiceById(e){const t=await this.makeAuthenticatedRequest(`/v1/services/${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`Failed to fetch service: ${t.status} ${t.statusText}`);return await t.json()}async updateService(e,t){const r=await this.makeAuthenticatedRequest(`/v1/services/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(t)});if(!r.ok){let i=`Failed to update service: ${r.status} ${r.statusText}`,l="",c="";try{const d=await r.text();if(c=d,d)try{const h=JSON.parse(d);if(h.errors&&Array.isArray(h.errors)&&h.errors.length>0){const f=h.errors[0];i=f.errorMessage||f.message||i,l=f.details||f.resource||f.field||"",o.error("Detailed error info:",{errorMessage:f.errorMessage,message:f.message,details:f.details,resource:f.resource,field:f.field,code:f.code,fullError:f})}else h.message?i=h.message:h.error&&(i=typeof h.error=="string"?h.error:JSON.stringify(h.error));h.validationErrors&&(l+=` Validation errors: ${JSON.stringify(h.validationErrors)}`)}catch(h){o.error("Failed to parse error response as JSON:",h),d.length>0&&d.length<1e3&&(l=d)}r.status===422?(i+=" - Validation failed",l?i+=`: ${l}`:c?i+=`. Server response: ${c.substring(0,200)}${c.length>200?"...":""}`:i+=". Check that all field values are valid and within acceptable ranges."):r.status===400?i+=" - Bad request. Check the request format and required fields.":r.status===403?i+=" - Access denied. You may not have permission to update this service.":r.status===404&&(i+=" - Service not found. The service may have been deleted.")}catch(d){o.error("Error reading response text:",d),i+=` (Unable to read error details: ${d.message})`}throw new Error(i)}const s=await r.json();return o.log("Service updated successfully:",s),s}async createService(e){o.log("Creating service:",e);const t=await this.makeAuthenticatedRequest("/v1/services",{method:"POST",body:JSON.stringify(e)});if(!t.ok){let s=`Failed to create service: ${t.status} ${t.statusText}`;try{const i=await t.text();if(i)try{const l=JSON.parse(i);if(l.errors&&Array.isArray(l.errors)&&l.errors.length>0){const c=l.errors[0];s=c.errorMessage||c.message||s,o.error("Detailed error info:",c)}else l.message&&(s=l.message)}catch(l){o.error("Failed to parse error response:",l)}t.status===422?s+=" - Validation failed. Check that all required fields are provided.":t.status===400?s+=" - Bad request. Check the request format and required fields.":t.status===403&&(s+=" - Access denied. You may not have permission to create services.")}catch(i){o.error("Error reading response text:",i)}throw new Error(s)}const r=await t.json();return o.log("Service created successfully:",r),r}async deleteService(e){o.log("Deleting service:",e);const t=await this.makeAuthenticatedRequest(`/v1/services/${encodeURIComponent(e)}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete service: ${t.status} ${t.statusText}`);o.log("Service deleted successfully")}async getServiceStations(e){const t=await this.makeAuthenticatedRequest(`/v1/services/${encodeURIComponent(e)}/stations`);if(!t.ok)throw new Error(`Failed to fetch service stations: ${t.status} ${t.statusText}`);const r=await t.json();return Array.isArray(r)?r:[]}async createSite(e){o.log("Creating site:",{url:`${Me}/v3/sites`,payload:e});const t=await this.makeAuthenticatedRequest("/v3/sites",{method:"POST",body:JSON.stringify(e)});if(o.log("Site creation response:",{status:t.status,statusText:t.statusText,headers:Object.fromEntries(t.headers.entries())}),!t.ok){let s=`Failed to create site: ${t.status} ${t.statusText}`,i="",l="";try{const c=await t.text();if(l=c,o.error("Full site creation error response:",{status:t.status,statusText:t.statusText,responseText:c,responseLength:c.length}),c)try{const d=JSON.parse(c);if(o.error("Parsed error data:",d),d.errors&&Array.isArray(d.errors)&&d.errors.length>0){const h=d.errors[0];s=h.errorMessage||h.message||s,i=h.details||h.resource||h.field||"",o.error("Detailed error info:",{errorMessage:h.errorMessage,message:h.message,details:h.details,resource:h.resource,field:h.field,code:h.code,fullError:h})}else d.message?s=d.message:d.error&&(s=typeof d.error=="string"?d.error:JSON.stringify(d.error));d.validationErrors&&(i+=` Validation errors: ${JSON.stringify(d.validationErrors)}`)}catch(d){o.error("Failed to parse error response as JSON:",d),c.length>0&&c.length<1e3&&(i=c)}t.status===422?(s+=" - Validation failed",i?s+=`: ${i}`:l?s+=`. Server response: ${l.substring(0,200)}${l.length>200?"...":""}`:s+=". Check that all field values are valid and within acceptable ranges."):t.status===400?s+=" - Bad request. Check the request format and required fields.":t.status===403?s+=" - Access denied. You may not have permission to create sites.":t.status===409&&(s+=" - Conflict. A site with this name may already exist.")}catch(c){o.error("Error reading response text:",c),s+=` (Unable to read error details: ${c.message})`}throw new Error(s)}const r=await t.json();return o.log("Site created successfully:",r),r}async getRoleById(e){const t=await this.makeAuthenticatedRequest(`/v3/roles/${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`Failed to fetch role: ${t.status} ${t.statusText}`);return await t.json()}async createRole(e){const t=await this.makeAuthenticatedRequest("/v3/roles",{method:"POST",body:JSON.stringify(e)});if(!t.ok){const r=await t.text();throw o.error("Create role error:",r),new Error(`Failed to create role: ${t.status} ${t.statusText}`)}return await t.json()}async updateRole(e,t){const r=await this.makeAuthenticatedRequest(`/v3/roles/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(t)});if(!r.ok){const s=await r.text();throw o.error("Update role error:",s),new Error(`Failed to update role: ${r.status} ${r.statusText}`)}return await r.json()}async deleteRole(e){const t=await this.makeAuthenticatedRequest(`/v3/roles/${encodeURIComponent(e)}`,{method:"DELETE"});if(!t.ok){const r=await t.text();throw o.error("Delete role error:",r),new Error(`Failed to delete role: ${t.status} ${t.statusText}`)}}async getRoleDefaultTemplate(){const e=await this.makeAuthenticatedRequest("/v3/roles/default");if(!e.ok)throw new Error(`Failed to fetch role template: ${e.status} ${e.statusText}`);return await e.json()}async getClassOfService(){try{const e=await this.makeAuthenticatedRequest("/v3/cos",{},8e3);if(!e.ok)return o.warn(`Failed to fetch CoS: ${e.status} ${e.statusText}`),[];const t=await e.json();return Array.isArray(t)?(o.log(`✓ Successfully loaded ${t.length} Class of Service options`),t):(o.warn("CoS response is not an array:",t),[])}catch(e){return o.error("Error fetching CoS:",e),[]}}async getTopologies(){const e="topologies",t=Te.get(e);if(t)return o.log(`✓ Returned ${t.length} topologies from cache`),t;try{const r=await this.makeAuthenticatedRequest("/v3/topologies",{},8e3);if(!r.ok)return o.warn(`Failed to fetch topologies: ${r.status} ${r.statusText}`),[];const s=await r.json();return Array.isArray(s)?(o.log(`✓ Successfully loaded ${s.length} topology/VLAN options`),Te.set(e,s,wt.VERY_LONG),s):(o.warn("Topologies response is not an array:",s),[])}catch(r){return o.error("Error fetching topologies:",r),[]}}async getSiteStats(){const e=await this.makeAuthenticatedRequest("/v1/sites/stats");if(!e.ok)throw new Error(`Failed to fetch site stats: ${e.status} ${e.statusText}`);return await e.json()}async getAaaPolicies(){try{const e=await this.makeAuthenticatedRequest("/v1/aaa-policies",{},8e3);if(!e.ok)return o.warn(`AAA Policies API returned status ${e.status}`),[];const t=await e.json();return Array.isArray(t)?t:[]}catch(e){return o.warn("Failed to fetch AAA policies:",e),[]}}async getDeviceGroups(){const e=["/v3/devicegroups","/v1/devicegroups","/v3/groups"];for(const t of e)try{const r=await this.makeAuthenticatedRequest(t,{},8e3);if(r.ok){const s=await r.json();return o.log(`Found device groups at ${t}`),Array.isArray(s)?s:[]}}catch{continue}return o.warn("No device groups endpoint found"),[]}async getDeviceGroupsBySite(e){try{o.log(`[API] Fetching site details to get device groups for site ${e}...`);const t=await this.makeAuthenticatedRequest(`/v3/sites/${encodeURIComponent(e)}`);if(!t.ok)return o.warn(`Failed to fetch site details: ${t.status}`),[];const r=await t.json();o.log(`[API] Site details fetched for ${e}`),o.log("[API] Site.deviceGroups:",r.deviceGroups);const s=r.deviceGroups||[];return o.log(`[API] Found ${s.length} device groups for site ${e}`),s}catch(t){return o.error(`[API] Error fetching device groups for site ${e}:`,t),[]}}async getProfiles(){const e=["/v3/profiles","/v1/profiles","/v3/approfiles","/v3/networkprofiles"];for(const t of e)try{const r=await this.makeAuthenticatedRequest(t,{},8e3);if(r.ok){const s=await r.json();return o.log(`Found profiles at ${t}`),Array.isArray(s)?s:[]}}catch{continue}return o.warn("No profiles endpoint found"),[]}async getProfilesByDeviceGroup(e){const t=[`/v3/devicegroups/${encodeURIComponent(e)}/profiles`,`/v1/devicegroups/${encodeURIComponent(e)}/profiles`,`/v3/profiles?deviceGroupId=${encodeURIComponent(e)}`,`/v3/groups/${encodeURIComponent(e)}/profiles`];for(const r of t)try{const s=await this.makeAuthenticatedRequest(r,{},8e3);if(s.ok){const i=await s.json();return o.log(`Found profiles for device group ${e} at ${r}`),Array.isArray(i)?i:[]}}catch{continue}return o.warn(`No profiles found for device group ${e}`),[]}async getProfileById(e){const t=[`/v3/profiles/${encodeURIComponent(e)}`,`/v1/profiles/${encodeURIComponent(e)}`];for(const r of t)try{const s=await this.makeAuthenticatedRequest(r,{},8e3);if(s.ok)return await s.json()}catch{continue}return null}async assignServiceToProfile(e,t){o.log(`Assigning service ${e} to profile ${t}`);const r=[`/v3/profiles/${encodeURIComponent(t)}/services`,`/v3/services/${encodeURIComponent(e)}/assign`,`/v1/profiles/${encodeURIComponent(t)}/services`];for(const s of r)try{if((await this.makeAuthenticatedRequest(s,{method:"POST",body:JSON.stringify({serviceId:e,profileId:t})})).ok){o.log(`Successfully assigned via ${s}`);return}}catch{continue}try{const s=await this.getProfileById(t);if(s){const i=s.services||[];if(!i.includes(e)){i.push(e);const l=[`/v3/profiles/${encodeURIComponent(t)}`,`/v1/profiles/${encodeURIComponent(t)}`];for(const c of l)try{if((await this.makeAuthenticatedRequest(c,{method:"PUT",body:JSON.stringify({...s,services:i})})).ok){o.log(`Successfully assigned via profile update at ${c}`);return}}catch{continue}}}}catch(s){o.error("Failed to assign via profile update:",s)}throw new Error(`Failed to assign service ${e} to profile ${t} - no working endpoint found`)}async syncProfile(e){o.log(`Triggering sync for profile ${e}`);const t=[`/v3/profiles/${encodeURIComponent(e)}/sync`,`/v1/profiles/${encodeURIComponent(e)}/sync`,`/v3/profiles/${encodeURIComponent(e)}/push`,`/v3/sync/profile/${encodeURIComponent(e)}`];for(const r of t)try{if((await this.makeAuthenticatedRequest(r,{method:"POST"})).ok){o.log(`Successfully triggered sync via ${r}`);return}}catch{continue}o.warn(`No sync endpoint found for profile ${e} - profile may sync automatically`)}async syncMultipleProfiles(e){o.log(`Triggering sync for ${e.length} profiles`);const t=["/v3/profiles/sync","/v1/profiles/sync","/v3/sync/profiles"];for(const r of t)try{if((await this.makeAuthenticatedRequest(r,{method:"POST",body:JSON.stringify({profileIds:e})})).ok){o.log(`Successfully triggered batch sync via ${r}`);return}}catch{continue}o.log("Batch sync not available, falling back to individual syncs"),await Promise.all(e.map(r=>this.syncProfile(r)))}async checkEndpointAvailability(e){try{const t=await this.makeAuthenticatedRequest(e,{method:"HEAD"},3e3);return t.ok||t.status===405}catch{return!1}}async safeMakeRequest(e,t={},r,s=!1){try{if(s&&!await this.checkEndpointAvailability(e))return o.log(`Endpoint ${e} not available, using fallback`),r;const i=await this.makeAuthenticatedRequest(e,t);return i.ok?await i.json():(o.warn(`API call to ${e} failed with status ${i.status}, using fallback`),r)}catch(i){return o.log(`API call to ${e} failed, using fallback:`,i instanceof Error?i.message:"Unknown error"),r}}async getServicesBySite(e){o.log(`[API] Fetching services for site ${e}`);try{const t=await this.getDeviceGroupsBySite(e);if(o.log(`[API] Found ${t.length} device groups for site ${e}:`,t),t.length===0)return o.log(`[API] No device groups found for site ${e}`),[];const r=[];for(const l of t)try{const c=await this.getProfilesByDeviceGroup(l.id);o.log(`[API] Found ${c.length} profiles in device group ${l.id}:`,c),r.push(...c)}catch(c){o.warn(`[API] Failed to fetch profiles for device group ${l.id}:`,c)}o.log(`[API] Total profiles found: ${r.length}`);const s=new Set;r.forEach(l=>{o.log(`[API] Checking profile ${l.id||l.name} for services...`),o.log("[API]   Profile.services:",l.services),l.services&&Array.isArray(l.services)?l.services.forEach(c=>{o.log(`[API]   Found service ID: ${c}`),s.add(c)}):o.log("[API]   No services array found on profile")}),o.log(`[API] Unique service IDs found: ${s.size}`,Array.from(s));const i=[];for(const l of s)try{o.log(`[API] Fetching service details for ${l}...`);const c=await this.getServiceById(l);c?(o.log(`[API] Service ${l} fetched successfully:`,c),i.push(c)):o.log(`[API] Service ${l} returned null`)}catch(c){o.warn(`[API] Failed to fetch service ${l}:`,c)}return o.log(`[API] Found ${i.length} services for site ${e}`),i}catch(t){return o.error(`[API] Failed to fetch services for site ${e}:`,t),[]}}async getProfilesWithWLANsBySite(e){o.log(`Fetching profiles with WLANs for site ${e}`);try{const t=await this.getDeviceGroupsBySite(e);if(t.length===0)return o.log(`No device groups found for site ${e}`),[];const r=[];for(const s of t)try{const i=await this.getProfilesByDeviceGroup(s.id);for(const l of i){const c=[];if(l.services&&Array.isArray(l.services))for(const d of l.services)try{const h=await this.getServiceById(d);h&&c.push(h)}catch(h){o.warn(`Failed to fetch WLAN ${d}:`,h)}r.push({...l,deviceGroupId:s.id,deviceGroupName:s.name||s.id,wlans:c})}}catch(i){o.warn(`Failed to fetch profiles for device group ${s.id}:`,i)}return o.log(`Found ${r.length} profiles with WLANs for site ${e}`),r}catch(t){return o.error(`Failed to fetch profiles with WLANs for site ${e}:`,t),[]}}async getSiteWLANAssignmentSummary(e){o.log(`[API] Fetching WLAN assignment summary for site ${e}`);try{o.log(`[API] Fetching site details for ${e}...`);const t=await this.makeAuthenticatedRequest(`/v3/sites/${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`Failed to fetch site details: ${t.status}`);const r=await t.json();o.log("[API] Site details fetched:",r),o.log("[API] Site.deviceGroups:",r.deviceGroups);const s=r.deviceGroups||[];o.log(`[API] Using ${s.length} device groups from site data`);const[i,l]=await Promise.all([this.getProfilesWithWLANsBySiteData(e,s),this.getServicesBySiteData(e,s)]),c={siteId:e,deviceGroupCount:s.length,profileCount:i.length,wlanCount:l.length,deviceGroups:s,profiles:i,wlans:l};return o.log("[API] Summary complete:",c),c}catch(t){throw o.error(`[API] Failed to fetch WLAN assignment summary for site ${e}:`,t),t}}async getServicesBySiteData(e,t){if(o.log(`[API] Fetching services for site ${e} using ${t.length} device groups`),t.length===0)return o.log("[API] No device groups provided"),[];try{const r=[];for(const l of t)try{const c=await this.getProfilesByDeviceGroup(l.id);o.log(`[API] Found ${c.length} profiles in device group ${l.id}:`,c),r.push(...c)}catch(c){o.warn(`[API] Failed to fetch profiles for device group ${l.id}:`,c)}o.log(`[API] Total profiles found: ${r.length}`);const s=new Set;r.forEach(l=>{o.log(`[API] Checking profile ${l.id||l.name} for services...`),o.log("[API]   Profile.services:",l.services),l.services&&Array.isArray(l.services)?l.services.forEach(c=>{o.log(`[API]   Found service ID: ${c}`),s.add(c)}):o.log("[API]   No services array found on profile")}),o.log(`[API] Unique service IDs found: ${s.size}`,Array.from(s));const i=[];for(const l of s)try{o.log(`[API] Fetching service details for ${l}...`);const c=await this.getServiceById(l);c?(o.log(`[API] Service ${l} fetched successfully:`,c),i.push(c)):o.log(`[API] Service ${l} returned null`)}catch(c){o.warn(`[API] Failed to fetch service ${l}:`,c)}return o.log(`[API] Found ${i.length} services for site ${e}`),i}catch(r){return o.error(`[API] Failed to fetch services for site ${e}:`,r),[]}}async getProfilesWithWLANsBySiteData(e,t){if(o.log(`[API] Fetching profiles with WLANs for site ${e} using ${t.length} device groups`),t.length===0)return o.log("[API] No device groups provided"),[];try{const r=[];for(const s of t)try{const i=await this.getProfilesByDeviceGroup(s.id);o.log(`[API] Found ${i.length} profiles in device group ${s.id}`);for(const l of i){o.log("[API] ========== PROFILE STRUCTURE DEBUG =========="),o.log(`[API] Profile ID: ${l.id||l.profileId||"unknown"}`),o.log(`[API] Profile Name: ${l.name||l.profileName||"unknown"}`),o.log("[API] Profile Keys:",Object.keys(l)),o.log("[API] Full Profile Object:",JSON.stringify(l,null,2)),o.log("[API] Checking for WLANs in various field names..."),o.log("[API]   - profile.services:",l.services),o.log("[API]   - profile.wlans:",l.wlans),o.log("[API]   - profile.ssids:",l.ssids),o.log("[API]   - profile.networks:",l.networks),o.log("[API]   - profile.serviceIds:",l.serviceIds),o.log("[API]   - profile.wirelessServices:",l.wirelessServices),o.log("[API] ===============================================");const c=[];if(l.services&&Array.isArray(l.services))for(const d of l.services)try{const h=await this.getServiceById(d);h&&c.push(h)}catch(h){o.warn(`[API] Failed to fetch WLAN ${d}:`,h)}r.push({...l,deviceGroupId:s.id,deviceGroupName:s.name||s.id,wlans:c})}}catch(i){o.warn(`[API] Failed to fetch profiles for device group ${s.id}:`,i)}return o.log(`[API] Found ${r.length} profiles with WLANs for site ${e}`),r}catch(r){return o.error(`[API] Failed to fetch profiles with WLANs for site ${e}:`,r),[]}}async fetchWidgetData(e,t,r="24H",s=15){try{const i=t.map(f=>`${f}|all`).join(","),l=Date.now(),c=`/v1/report/sites/${encodeURIComponent(e)}?noCache=${l}&duration=${r}&resolution=${s}&widgetList=${encodeURIComponent(i)}`;o.log(`[API] Fetching widget data: ${t.join(", ")}`),o.log(`[API] Endpoint: ${c}`);const d=await this.makeAuthenticatedRequest(c,{},15e3);if(!d.ok)throw new Error(`Widget data fetch failed: ${d.status}`);const h=await d.json();return o.log("[API] ✓ Widget data fetched successfully"),h}catch(i){throw o.error("[API] Failed to fetch widget data:",i),i}}async fetchRFQualityData(e,t="24H"){try{const r=await this.fetchWidgetData(e,["rfQuality"],t);return r.rfQuality||r}catch(r){return o.error("[API] Failed to fetch RF quality data:",r),null}}async fetchApplicationAnalytics(e,t="24H"){try{const r=["topAppGroupsByThroughputReport","topAppGroupsByClientCountReport","topAppGroupsByUsage","worstAppGroupsByThroughputReport"],s=await this.fetchWidgetData(e,r,t);return{topByThroughput:s.topAppGroupsByThroughputReport||[],topByClients:s.topAppGroupsByClientCountReport||[],topByUsage:s.topAppGroupsByUsage||[],worstByThroughput:s.worstAppGroupsByThroughputReport||[]}}catch(r){return o.error("[API] Failed to fetch application analytics:",r),null}}async fetchSitePerformanceSummary(e,t="24H"){try{const r=["throughputReport","countOfUniqueUsersReport","topAccessPointsByThroughput","topAccessPointsByUserCount","byteUtilization","siteQoE"],s=await this.fetchWidgetData(e,r,t);return{throughput:s.throughputReport||{},uniqueUsers:s.countOfUniqueUsersReport||{},topAPsByThroughput:s.topAccessPointsByThroughput||[],topAPsByUserCount:s.topAccessPointsByUserCount||[],byteUtilization:s.byteUtilization||{},qoe:s.siteQoE||{}}}catch(r){return o.error("[API] Failed to fetch site performance summary:",r),null}}async getAppInsights(e="14D",t){try{const r=["topAppGroupsByUsage","topAppGroupsByClientCountReport","topAppGroupsByThroughputReport","worstAppGroupsByUsage","worstAppGroupsByClientCountReport","worstAppGroupsByThroughputReport"].join(","),s=Date.now(),l=`${t?`/v1/report/sites/${t}`:"/v1/report/sites"}?noCache=${s}&duration=${e}&resolution=15&widgetList=${encodeURIComponent(r)}`;o.log(`[API] Fetching app insights data for duration: ${e}${t?`, site: ${t}`:" (org-wide)"}`);const c=await this.makeAuthenticatedRequest(l,{},3e4);if(!c.ok)throw new Error(`App insights fetch failed: ${c.status}`);const d=await c.json();return o.log("[API] ✓ App insights data fetched successfully"),{topAppGroupsByUsage:d.topAppGroupsByUsage||[],topAppGroupsByClientCountReport:d.topAppGroupsByClientCountReport||[],topAppGroupsByThroughputReport:d.topAppGroupsByThroughputReport||[],worstAppGroupsByUsage:d.worstAppGroupsByUsage||[],worstAppGroupsByClientCountReport:d.worstAppGroupsByClientCountReport||[],worstAppGroupsByThroughputReport:d.worstAppGroupsByThroughputReport||[]}}catch(r){throw o.error("[API] Failed to fetch app insights:",r),r}}async fetchComprehensiveSiteReport(e,t="24H"){try{const r=["throughputReport","byteUtilization","siteQoE","countOfUniqueUsersReport","topAccessPointsByThroughput","topAccessPointsByUserCount","topUsersByThroughput","rfQuality","topAccessPointsByRfHealth","topAppGroupsByThroughputReport","topAppGroupsByClientCountReport","topAppGroupsByUsage"];return await this.fetchWidgetData(e,r,t)}catch(r){return o.error("[API] Failed to fetch comprehensive site report:",r),null}}async fetchStationDetails(e){try{const t=Date.now(),r=`/v1/stations/${encodeURIComponent(e)}?noCache=${t}`;o.log(`[API] Fetching station details for MAC: ${e}`);const s=await this.makeAuthenticatedRequest(r,{},1e4);if(!s.ok)throw new Error(`Failed to fetch station details: ${s.status} ${s.statusText}`);const i=await s.json();return o.log(`[API] Station details loaded for ${e}:`,i),i}catch(t){throw o.error(`[API] Failed to fetch station details for ${e}:`,t),t}}async fetchStationEvents(e,t,r){try{const s=Date.now(),i=s-720*60*60*1e3,l=t||i,c=r||s,d=Date.now();o.log(`[API] Attempting to fetch station events for MAC: ${e}`);try{const v=`/v1/stations/events/${encodeURIComponent(e)}`;o.log(`[API] Trying direct endpoint: ${v}`);const y=await this.makeAuthenticatedRequest(v,{},1e4);if(y.ok){const x=await y.json(),A=Array.isArray(x)?x:x.events||x.stationEvents||[];if(A.length>0)return o.log(`[API] ✓ Loaded ${A.length} station events from direct endpoint`),this.normalizeStationEvents(A)}}catch{o.log("[API] Direct endpoint failed, trying platformmanager endpoint...")}const h=`/platformmanager/v2/logging/stations/events/query?query=${encodeURIComponent(e)}&startTime=${l}&endTime=${c}&noCache=${d}`,f=await this.makeAuthenticatedRequest(h,{},15e3);if(f.ok){const v=await f.json(),y=v.stationEvents||(Array.isArray(v)?v:[]);if(y.length>0)return o.log(`[API] ✓ Loaded ${y.length} station events from platformmanager endpoint`),this.normalizeStationEvents(y)}o.warn("[API] Station events endpoints returned no data, trying audit logs fallback...");const p=(await this.getAuditLogs(l,c)).filter(v=>{const y=(v.description||v.message||"").toLowerCase(),x=(v.resource||v.resourceType||"").toLowerCase(),A=e.toLowerCase();return y.includes(A)||x.includes(A)});return p.length>0?(o.log(`[API] ✓ Found ${p.length} station-related events in audit logs`),p.map(v=>({id:v.id,timestamp:this.normalizeTimestamp(v.timestamp||v.time),eventType:this.normalizeEventType(v.action||v.actionType||"audit"),macAddress:e,description:v.description||v.message,details:v.description||v.message||"",apName:v.apName||v.resource||"",ssid:v.ssid||""}))):(o.warn(`[API] No station events found for ${e}`),[])}catch(s){return o.error(`[API] Failed to fetch station events for ${e}:`,s),[]}}normalizeTimestamp(e){if(!e)return String(Date.now());if(typeof e=="string"&&e.includes("T")){const r=Date.parse(e);if(!isNaN(r))return String(r)}const t=typeof e=="string"?parseInt(e,10):e;return isNaN(t)?String(Date.now()):t<1e10?String(t*1e3):String(t)}normalizeStationEvents(e){return e.map(t=>({id:t.id||t.eventId||String(Math.random()),timestamp:this.normalizeTimestamp(t.timestamp||t.time||t.eventTime),eventType:this.normalizeEventType(t.eventType||t.type||t.action||"Unknown"),macAddress:t.macAddress||t.mac||t.clientMac||"",ipAddress:t.ipAddress||t.ip||t.clientIp,ipv6Address:t.ipv6Address||t.ipv6,apName:t.apName||t.ap||t.accessPoint||t.apDisplayName||"",apSerial:t.apSerial||t.apSerialNumber||t.serialNumber||"",ssid:t.ssid||t.network||t.wlanName||"",details:t.details||t.description||t.message||"",type:t.type||t.category,level:t.level||t.severity,category:t.category,context:t.context,channel:t.channel||t.radioChannel,band:t.band||t.frequency||t.radio,rssi:t.rssi||t.signalStrength||t.signal||t.rss,snr:t.snr||t.signalToNoise,dataRate:t.dataRate||t.phyRate||t.rate,previousAp:t.previousAp||t.fromAp||t.prevAp,previousApSerial:t.previousApSerial||t.fromApSerial,reasonCode:t.reasonCode||t.reason,statusCode:t.statusCode||t.status,authMethod:t.authMethod||t.auth||t.authentication}))}normalizeEventType(e){const t=(e||"").toLowerCase();return t.includes("roam")||t.includes("handoff")?"Roam":t.includes("register")||t.includes("join")?"Registration":t.includes("deregister")||t.includes("leave")||t.includes("disconnect")?"De-registration":t.includes("associate")&&!t.includes("dis")?"Associate":t.includes("disassociate")||t.includes("deassociate")?"Disassociate":t.includes("auth")&&!t.includes("deauth")?"Authenticate":t.includes("deauth")?"Deauthenticate":t.includes("state")||t.includes("change")?"State Change":e.charAt(0).toUpperCase()+e.slice(1)}async fetchStationEventsWithCorrelation(e,t="24H",r=15){const s={stationEvents:[],apEvents:[],smartRfEvents:[]};try{const i=Date.now(),l=`/v1/report/stations/${encodeURIComponent(e)}?noCache=${i}&duration=${t}&resolution=${r}&widgetList=muEvent`;o.log(`[API] Fetching correlated events for MAC: ${e}`);const c=await this.makeAuthenticatedRequest(l,{},15e3);if(!c.ok){o.warn(`[API] Correlated events API returned ${c.status}`);const p=await this.fetchStationEvents(e);return{...s,stationEvents:p}}const d=await c.json(),h=this.normalizeStationEvents(d.stationEvents||[]),f=(d.apEvents||[]).map(p=>({id:p.id||p.eventId||String(Math.random()),timestamp:this.normalizeTimestamp(p.timestamp||p.time),eventType:p.eventType||p.type||"AP Event",apName:p.apName||p.ap||"",apSerial:p.apSerial||p.serialNumber||"",details:p.details||p.description||p.message||"",type:p.type||p.category,level:p.level||p.severity,category:p.category,context:p.context})),u=(d.smartRfEvents||[]).map(p=>({id:p.id||p.eventId||String(Math.random()),timestamp:this.normalizeTimestamp(p.timestamp||p.time),eventType:p.eventType||p.type||"RRM Event",apName:p.apName||p.ap||"",apSerial:p.apSerial||p.serialNumber||"",radio:p.radio||p.radioName,channel:p.channel||p.newChannel,previousChannel:p.previousChannel||p.oldChannel,txPower:p.txPower||p.power||p.newPower,previousTxPower:p.previousTxPower||p.oldPower,band:p.band||p.frequency,reason:p.reason||p.triggerReason,details:p.details||p.description||p.message||"",type:p.type||p.category,level:p.level||p.severity}));return o.log(`[API] ✓ Loaded ${h.length} station, ${f.length} AP, ${u.length} RRM events`),{stationEvents:h,apEvents:f,smartRfEvents:u}}catch(i){o.error(`[API] Failed to fetch correlated events for ${e}:`,i);try{const l=await this.fetchStationEvents(e);return{...s,stationEvents:l}}catch{return s}}}async getAPStates(){try{o.log("[API] Fetching AP states (real-time)");const e=await this.makeAuthenticatedRequest("/v1/state/aps",{},1e4);if(!e.ok)return o.warn(`AP states API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} AP states`),t||[]}catch(e){return o.error("[API] Failed to fetch AP states:",e),[]}}async getSiteStates(){try{o.log("[API] Fetching site states (real-time)");const e=await this.makeAuthenticatedRequest("/v1/state/sites",{},1e4);if(!e.ok)return o.warn(`Site states API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} site states`),t||[]}catch(e){return o.error("[API] Failed to fetch site states:",e),[]}}async getVenueStatistics(e,t="24H",r=15){try{const s=["ulDlUsageTimeseries","ulDlThroughputTimeseries","uniqueClientsTotalScorecard","uniqueClientsPeakScorecard","totalTrafficScorecard","averageThroughputScorecard"].join(","),i=`/v3/sites/${e}/report/venue?duration=${t}&resolution=${r}&statType=sites&widgetList=${encodeURIComponent(s)}`;o.log(`[API] Fetching venue statistics for site: ${e}`);const l=await this.makeAuthenticatedRequest(i,{},15e3);if(!l.ok)return o.warn(`Venue statistics API returned ${l.status}`),null;const c=await l.json();return o.log("[API] ✓ Loaded venue statistics:",Object.keys(c||{})),c}catch(s){return o.error(`[API] Failed to fetch venue statistics for site ${e}:`,s),null}}async getSwitches(){try{o.log("[API] Fetching switches");const e=await this.makeAuthenticatedRequest("/v1/switches",{},1e4);if(!e.ok)return o.warn(`Switches API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} switches`),t||[]}catch(e){return o.error("[API] Failed to fetch switches:",e),[]}}async getSwitchDetails(e){try{o.log(`[API] Fetching switch details for: ${e}`);const t=await this.makeAuthenticatedRequest(`/v1/switches/${encodeURIComponent(e)}`,{},1e4);if(!t.ok)return o.warn(`Switch details API returned ${t.status}`),null;const r=await t.json();return o.log("[API] ✓ Loaded switch details"),r}catch(t){return o.error(`[API] Failed to fetch switch details for ${e}:`,t),null}}async getSwitchPorts(e){try{o.log(`[API] Fetching switch ports for: ${e}`);const t=await this.makeAuthenticatedRequest(`/v1/switches/${encodeURIComponent(e)}/ports`,{},1e4);if(!t.ok)return o.warn(`Switch ports API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Loaded ${r?.length||0} switch ports`),r||[]}catch(t){return o.error(`[API] Failed to fetch switch ports for ${e}:`,t),[]}}async getSwitchPortReport(e){try{o.log(`[API] Fetching switch port report for: ${e}`);const t=await this.makeAuthenticatedRequest(`/v1/report/switches/${encodeURIComponent(e)}/ports`,{},15e3);if(!t.ok)return o.warn(`Switch port report API returned ${t.status}`),null;const r=await t.json();return o.log("[API] ✓ Loaded switch port report"),r}catch(t){return o.error(`[API] Failed to fetch switch port report for ${e}:`,t),null}}async getSwitchPoEStatus(e){try{o.log(`[API] Fetching switch PoE status for: ${e}`);const t=await this.makeAuthenticatedRequest(`/v1/switches/${encodeURIComponent(e)}/poe`,{},1e4);if(!t.ok)return o.warn(`Switch PoE status API returned ${t.status}`),null;const r=await t.json();return o.log("[API] ✓ Loaded switch PoE status"),r}catch(t){return o.error(`[API] Failed to fetch switch PoE status for ${e}:`,t),null}}async getDeviceTypes(){try{o.log("[API] Fetching device types");const e=["/v1/devices/types","/v1/device-types","/v3/devices/types","/platformmanager/v1/devices/types","/v1/config/device-types"];for(const t of e)try{const r=await this.makeAuthenticatedRequest(t,{},1e4);if(r.ok){const s=await r.json(),i=Array.isArray(s)?s:s.deviceTypes||s.types||[];return o.log(`[API] ✓ Loaded ${i.length} device types`),i}}catch{continue}return o.warn("[API] Device types endpoint not available, returning default types"),["Access Point","Switch","Router","Gateway","Controller","Sensor","Camera","Firewall"]}catch(e){return o.error("[API] Failed to fetch device types:",e),["Access Point","Switch","Router","Gateway","Controller","Sensor","Camera","Firewall"]}}async getAPReport(e,t="24H",r=15){try{const s=`/v1/report/aps/${encodeURIComponent(e)}?duration=${t}&resolution=${r}`;o.log(`[API] Fetching AP report for: ${e}`);const i=await this.makeAuthenticatedRequest(s,{},15e3);if(!i.ok)return o.warn(`AP report API returned ${i.status}`),null;const l=await i.json();return o.log("[API] ✓ Loaded AP report"),l}catch(s){return o.error(`[API] Failed to fetch AP report for ${e}:`,s),null}}async getSiteReport(e,t="24H",r=15){try{const s=`/v1/report/sites/${encodeURIComponent(e)}?duration=${t}&resolution=${r}`;o.log(`[API] Fetching site report for: ${e}`);const i=await this.makeAuthenticatedRequest(s,{},15e3);if(!i.ok)return o.warn(`Site report API returned ${i.status}`),null;const l=await i.json();return o.log("[API] ✓ Loaded site report"),l}catch(s){return o.error(`[API] Failed to fetch site report for ${e}:`,s),null}}async getStationReport(e,t="24H"){try{const r=`/v1/report/stations/${encodeURIComponent(e)}?duration=${t}`;o.log(`[API] Fetching station report for: ${e}`);const s=await this.makeAuthenticatedRequest(r,{},15e3);if(!s.ok)return o.warn(`Station report API returned ${s.status}`),null;const i=await s.json();return o.log("[API] ✓ Loaded station report"),i}catch(r){return o.error(`[API] Failed to fetch station report for ${e}:`,r),null}}async getSwitchReport(e,t="24H"){try{const r=`/v1/report/switches/${encodeURIComponent(e)}?duration=${t}`;o.log(`[API] Fetching switch report for: ${e}`);const s=await this.makeAuthenticatedRequest(r,{},15e3);if(!s.ok)return o.warn(`Switch report API returned ${s.status}`),null;const i=await s.json();return o.log("[API] ✓ Loaded switch report"),i}catch(r){return o.error(`[API] Failed to fetch switch report for ${e}:`,r),null}}async getServiceReport(e,t="24H"){try{const r=`/v1/report/services/${encodeURIComponent(e)}?duration=${t}`;o.log(`[API] Fetching service report for: ${e}`);const s=await this.makeAuthenticatedRequest(r,{},15e3);if(!s.ok)return o.warn(`Service report API returned ${s.status}`),null;const i=await s.json();return o.log("[API] ✓ Loaded service report"),i}catch(r){return o.error(`[API] Failed to fetch service report for ${e}:`,r),null}}async getRFManagementProfiles(){try{o.log("[API] Fetching RF management profiles");const e=await this.makeAuthenticatedRequest("/v3/rfmgmt",{},1e4);if(!e.ok)return o.warn(`RF management API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} RF management profiles`),t||[]}catch(e){return o.error("[API] Failed to fetch RF management profiles:",e),[]}}async getIoTProfiles(){try{o.log("[API] Fetching IoT profiles");const e=await this.makeAuthenticatedRequest("/v3/iotprofile",{},1e4);if(!e.ok)return o.warn(`IoT profiles API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} IoT profiles`),t||[]}catch(e){return o.error("[API] Failed to fetch IoT profiles:",e),[]}}async getADSPProfiles(){try{o.log("[API] Fetching ADSP profiles");const e=await this.makeAuthenticatedRequest("/v3/adsp",{},1e4);if(!e.ok)return o.warn(`ADSP profiles API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} ADSP profiles`),t||[]}catch(e){return o.error("[API] Failed to fetch ADSP profiles:",e),[]}}async getAnalyticsProfiles(){try{o.log("[API] Fetching analytics profiles");const e=await this.makeAuthenticatedRequest("/v3/analytics",{},1e4);if(!e.ok)return o.warn(`Analytics profiles API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} analytics profiles`),t||[]}catch(e){return o.error("[API] Failed to fetch analytics profiles:",e),[]}}async getPositioningProfiles(){try{o.log("[API] Fetching positioning profiles");const e=await this.makeAuthenticatedRequest("/v3/positioning",{},1e4);if(!e.ok)return o.warn(`Positioning profiles API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} positioning profiles`),t||[]}catch(e){return o.error("[API] Failed to fetch positioning profiles:",e),[]}}async getMeshPoints(){try{o.log("[API] Fetching mesh points");const e=await this.makeAuthenticatedRequest("/v3/meshpoints",{},1e4);if(!e.ok)return o.warn(`Mesh points API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} mesh points`),t||[]}catch(e){return o.error("[API] Failed to fetch mesh points:",e),[]}}async getSwitchPortProfiles(){try{o.log("[API] Fetching switch port profiles");const e=await this.makeAuthenticatedRequest("/v3/switchportprofile",{},1e4);if(!e.ok)return o.warn(`Switch port profiles API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} switch port profiles`),t||[]}catch(e){return o.error("[API] Failed to fetch switch port profiles:",e),[]}}async getAuditLogs(e,t){try{let r="/v1/auditlogs";const s=[];e&&s.push(`startTime=${e}`),t&&s.push(`endTime=${t}`),s.length>0&&(r+="?"+s.join("&")),o.log("[API] Fetching audit logs");const i=await this.makeAuthenticatedRequest(r,{},15e3);if(!i.ok)return o.warn(`Audit logs API returned ${i.status}`),[];const l=await i.json();return o.log(`[API] ✓ Loaded ${l?.length||0} audit logs`),l||[]}catch(r){return o.error("[API] Failed to fetch audit logs:",r),[]}}async getDPISignatures(){try{o.log("[API] Fetching DPI signatures");const e=await this.makeAuthenticatedRequest("/v1/dpisignatures",{},1e4);if(!e.ok)return o.warn(`DPI signatures API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} DPI signatures`),t||[]}catch(e){return o.error("[API] Failed to fetch DPI signatures:",e),[]}}async getRateLimiters(){try{o.log("[API] Fetching rate limiters");const e=await this.makeAuthenticatedRequest("/v1/ratelimiters",{},1e4);if(!e.ok)return o.warn(`Rate limiters API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} rate limiters`),t||[]}catch(e){return o.error("[API] Failed to fetch rate limiters:",e),[]}}async getCoSProfiles(){try{o.log("[API] Fetching CoS profiles");const e=await this.makeAuthenticatedRequest("/v1/cos",{},1e4);if(!e.ok)return o.warn(`CoS profiles API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} CoS profiles`),t||[]}catch(e){return o.error("[API] Failed to fetch CoS profiles:",e),[]}}async getRadioChannels(){try{o.log("[API] Fetching radio channels");const e=await this.makeAuthenticatedRequest("/v1/radios/channels",{},1e4);if(!e.ok)return o.warn(`Radio channels API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded radio channels"),t}catch(e){return o.error("[API] Failed to fetch radio channels:",e),null}}async getSmartRFChannels(e){try{const t=e?`/v3/radios/smartrfchannels?siteId=${encodeURIComponent(e)}`:"/v3/radios/smartrfchannels";o.log("[API] Fetching SmartRF channels");const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`SmartRF channels API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded SmartRF channels"),s}catch(t){return o.error("[API] Failed to fetch SmartRF channels:",t),null}}async getAPUpgradeImageList(){try{o.log("[API] Fetching AP upgrade image list");const e=await this.makeAuthenticatedRequest("/v1/aps/upgradeimagelist",{},1e4);if(!e.ok)return o.warn(`AP upgrade image list API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} upgrade images`),t||[]}catch(e){return o.error("[API] Failed to fetch AP upgrade image list:",e),[]}}async getEntityDistribution(){try{o.log("[API] Fetching entity distribution");const e=await this.makeAuthenticatedRequest("/v1/state/entityDistribution",{},1e4);if(!e.ok)return o.warn(`Entity distribution API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded entity distribution"),t}catch(e){return o.error("[API] Failed to fetch entity distribution:",e),null}}async queryStations(e){try{o.log("[API] Querying stations with filters");const t=await this.makeAuthenticatedRequest("/v1/stations/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e||{})},15e3);if(!t.ok)return o.warn(`Station query API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Query returned ${r?.length||0} stations`),r||[]}catch(t){return o.error("[API] Failed to query stations:",t),[]}}async getAPQueryVisualization(e){try{const t=e?`/v1/aps/query/visualize?${e}`:"/v1/aps/query/visualize";o.log("[API] Fetching AP query visualization");const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`AP query visualization API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded AP query visualization"),s}catch(t){return o.error("[API] Failed to fetch AP query visualization:",t),null}}async getStationQueryColumns(){try{o.log("[API] Fetching station query columns");const e=await this.makeAuthenticatedRequest("/v1/stations/query/columns",{},1e4);if(!e.ok)return o.warn(`Station query columns API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} query columns`),t||[]}catch(e){return o.error("[API] Failed to fetch station query columns:",e),[]}}async getAPLocationReport(e){try{const t=`/v1/report/location/aps/${encodeURIComponent(e)}`;o.log(`[API] Fetching location report for AP: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`AP location report API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded AP location report"),s}catch(t){return o.error(`[API] Failed to fetch AP location report for ${e}:`,t),null}}async getFloorLocationReport(e){try{const t=`/v1/report/location/floor/${encodeURIComponent(e)}`;o.log(`[API] Fetching location report for floor: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`Floor location report API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded floor location report"),s}catch(t){return o.error(`[API] Failed to fetch floor location report for ${e}:`,t),null}}async getStationLocationReport(e){try{const t=`/v1/report/location/stations/${encodeURIComponent(e)}`;o.log(`[API] Fetching location report for station: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`Station location report API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded station location report"),s}catch(t){return o.error(`[API] Failed to fetch station location report for ${e}:`,t),null}}async getXLocationProfiles(){try{o.log("[API] Fetching XLocation profiles");const e=await this.makeAuthenticatedRequest("/v3/xlocation",{},1e4);if(!e.ok)return o.warn(`XLocation profiles API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} XLocation profiles`),t||[]}catch(e){return o.error("[API] Failed to fetch XLocation profiles:",e),[]}}async getStationLocation(e){try{const t=`/v1/stations/${encodeURIComponent(e)}/location`;o.log(`[API] Fetching location for station: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`Station location API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded station location"),s}catch(t){return o.error(`[API] Failed to fetch station location for ${e}:`,t),null}}async getAPLocation(e){try{const t=`/v1/aps/${encodeURIComponent(e)}/location`;o.log(`[API] Fetching location for AP: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`AP location API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded AP location"),s}catch(t){return o.error(`[API] Failed to fetch AP location for ${e}:`,t),null}}async getDeviceAdoptionRules(){try{o.log("[API] Fetching device adoption rules");const e=await this.makeAuthenticatedRequest("/v1/devices/adoptionrules",{},1e4);if(!e.ok)return o.warn(`Device adoption rules API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} adoption rules`),t||[]}catch(e){return o.error("[API] Failed to fetch device adoption rules:",e),[]}}async getAPAdoptionRules(){try{o.log("[API] Fetching AP adoption rules");const e=await this.makeAuthenticatedRequest("/v1/aps/adoptionrules",{},1e4);if(!e.ok)return o.warn(`AP adoption rules API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} AP adoption rules`),t||[]}catch(e){return o.error("[API] Failed to fetch AP adoption rules:",e),[]}}async getAPUpgradeSchedule(){try{o.log("[API] Fetching AP upgrade schedule");const e=await this.makeAuthenticatedRequest("/v1/aps/upgradeschedule",{},1e4);if(!e.ok)return o.warn(`AP upgrade schedule API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded AP upgrade schedule"),t}catch(e){return o.error("[API] Failed to fetch AP upgrade schedule:",e),null}}async getDeviceImages(e){try{const t=`/v1/deviceimages/${encodeURIComponent(e)}`;o.log(`[API] Fetching device images for: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`Device images API returned ${r.status}`),[];const s=await r.json();return o.log(`[API] ✓ Loaded ${s?.length||0} device images`),s||[]}catch(t){return o.error(`[API] Failed to fetch device images for ${e}:`,t),[]}}async getEGuestProfiles(){try{o.log("[API] Fetching eGuest profiles");const e=await this.makeAuthenticatedRequest("/v1/eguest",{},1e4);if(!e.ok)return o.warn(`eGuest profiles API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} eGuest profiles`),t||[]}catch(e){return o.error("[API] Failed to fetch eGuest profiles:",e),[]}}async getAAAPolicies(){try{o.log("[API] Fetching AAA policies");const e=await this.makeAuthenticatedRequest("/v1/aaapolicy",{},1e4);if(!e.ok)return o.warn(`AAA policies API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} AAA policies`),t||[]}catch(e){return o.error("[API] Failed to fetch AAA policies:",e),[]}}async getAdministrators(){try{o.log("[API] Fetching administrators");const e=await this.makeAuthenticatedRequest("/v1/administrators",{},1e4);if(!e.ok)return o.warn(`Administrators API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} administrators`),t||[]}catch(e){return o.error("[API] Failed to fetch administrators:",e),[]}}async getAppKeys(){try{o.log("[API] Fetching app keys");const e=await this.makeAuthenticatedRequest("/v1/appkeys",{},1e4);if(!e.ok)return o.warn(`App keys API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} app keys`),t||[]}catch(e){return o.error("[API] Failed to fetch app keys:",e),[]}}async getReportTemplates(){try{o.log("[API] Fetching report templates");const e=await this.makeAuthenticatedRequest("/v1/reports/templates",{},1e4);if(!e.ok)return o.warn(`Report templates API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} report templates`),t||[]}catch(e){return o.error("[API] Failed to fetch report templates:",e),[]}}async getScheduledReports(){try{o.log("[API] Fetching scheduled reports");const e=await this.makeAuthenticatedRequest("/v1/reports/scheduled",{},1e4);if(!e.ok)return o.warn(`Scheduled reports API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} scheduled reports`),t||[]}catch(e){return o.error("[API] Failed to fetch scheduled reports:",e),[]}}async getGeneratedReports(){try{o.log("[API] Fetching generated reports");const e=await this.makeAuthenticatedRequest("/v1/reports/generated",{},1e4);if(!e.ok)return o.warn(`Generated reports API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} generated reports`),t||[]}catch(e){return o.error("[API] Failed to fetch generated reports:",e),[]}}async getReportWidgets(){try{o.log("[API] Fetching report widgets");const e=await this.makeAuthenticatedRequest("/v1/reports/widgets",{},1e4);if(!e.ok)return o.warn(`Report widgets API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} report widgets`),t||[]}catch(e){return o.error("[API] Failed to fetch report widgets:",e),[]}}async evaluateBestPractices(){try{o.log("[API] Evaluating best practices");const e=await this.makeAuthenticatedRequest("/v1/bestpractices/evaluate",{},15e3);if(!e.ok)return o.warn(`Best practices evaluation API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Completed best practices evaluation"),t}catch(e){return o.error("[API] Failed to evaluate best practices:",e),null}}async getWorkflowStatus(){try{o.log("[API] Fetching workflow status");const e=await this.makeAuthenticatedRequest("/v1/workflow",{},1e4);if(!e.ok)return o.warn(`Workflow status API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded workflow status"),t}catch(e){return o.error("[API] Failed to fetch workflow status:",e),null}}async getSNMPConfig(){try{o.log("[API] Fetching SNMP configuration");const e=await this.makeAuthenticatedRequest("/v1/snmp",{},1e4);if(!e.ok)return o.warn(`SNMP config API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded SNMP configuration"),t}catch(e){return o.error("[API] Failed to fetch SNMP configuration:",e),null}}async getGlobalSettings(){try{o.log("[API] Fetching global settings");const e=await this.makeAuthenticatedRequest("/v1/globalsettings",{},1e4);if(!e.ok)return o.warn(`Global settings API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded global settings"),t}catch(e){return o.error("[API] Failed to fetch global settings:",e),null}}async getAccessControl(){try{o.log("[API] Fetching access control configuration");const e=await this.makeAuthenticatedRequest("/v1/accesscontrol",{},1e4);if(!e.ok)return o.warn(`Access control API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded access control configuration"),t}catch(e){return o.error("[API] Failed to fetch access control configuration:",e),null}}async getNSightConfig(){try{o.log("[API] Fetching NSight configuration");const e=await this.makeAuthenticatedRequest("/v1/nsightconfig",{},1e4);if(!e.ok)return o.warn(`NSight config API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded NSight configuration"),t}catch(e){return o.error("[API] Failed to fetch NSight configuration:",e),null}}async getSystemConfiguration(){try{o.log("[API] Fetching system configuration");const e=["/v1/system/config","/v1/system/info","/v1/systemconfig","/platformmanager/v1/system/config"];for(const t of e)try{const r=await this.makeAuthenticatedRequest(t,{},1e4);if(r.ok){const s=await r.json();return o.log("[API] ✓ Loaded system configuration"),s}}catch{continue}return o.warn("[API] System configuration endpoint not available"),null}catch(e){return o.error("[API] Failed to fetch system configuration:",e),null}}async getControllerVersion(){try{o.log("[API] Fetching controller version");const e=["/v1/version","/v1/system/version","/v1/about","/platformmanager/v1/version","/v1/system/info"];for(const t of e)try{const r=await this.makeAuthenticatedRequest(t,{},1e4);if(r.ok){const s=await r.json();return o.log("[API] ✓ Loaded controller version:",s),s}}catch{continue}return o.warn("[API] Controller version endpoint not available"),null}catch(e){return o.error("[API] Failed to fetch controller version:",e),null}}async getClusterStatus(){try{o.log("[API] Fetching cluster status");const e=["/v1/cluster/status","/v1/system/cluster","/v1/cluster","/platformmanager/v1/cluster/status"];for(const t of e)try{const r=await this.makeAuthenticatedRequest(t,{},1e4);if(r.ok){const s=await r.json();return o.log("[API] ✓ Loaded cluster status"),s}}catch{continue}return o.warn("[API] Cluster status endpoint not available"),null}catch(e){return o.error("[API] Failed to fetch cluster status:",e),null}}async getSiteCountryList(){try{o.log("[API] Fetching site country list");const e=await this.makeAuthenticatedRequest("/v3/sites/countrylist",{},1e4);if(!e.ok)return o.warn(`Site country list API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} countries`),t||[]}catch(e){return o.error("[API] Failed to fetch site country list:",e),[]}}async getRTLSProfiles(){try{o.log("[API] Fetching RTLS profiles");const e=await this.makeAuthenticatedRequest("/v1/rtlsprofile",{},1e4);if(!e.ok)return o.warn(`RTLS profiles API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} RTLS profiles`),t||[]}catch(e){return o.error("[API] Failed to fetch RTLS profiles:",e),[]}}async getRadioModes(){try{o.log("[API] Fetching radio modes");const e=await this.makeAuthenticatedRequest("/v1/radios/modes",{},1e4);if(!e.ok)return o.warn(`Radio modes API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} radio modes`),t||[]}catch(e){return o.error("[API] Failed to fetch radio modes:",e),[]}}async getAPLLDP(e){try{const t=`/v1/aps/${encodeURIComponent(e)}/lldp`;o.log(`[API] Fetching LLDP info for AP: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`AP LLDP API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded AP LLDP information"),s}catch(t){return o.error(`[API] Failed to fetch AP LLDP for ${e}:`,t),null}}async getAPEnvironment(e){try{const t=`/v1/ap/environment/${encodeURIComponent(e)}`;o.log(`[API] Fetching environment data for AP: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`AP environment API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded AP environment data"),s}catch(t){return o.error(`[API] Failed to fetch AP environment for ${e}:`,t),null}}async getAPSmartRFReport(e){try{const t=`/v1/report/aps/${encodeURIComponent(e)}/smartrf`;o.log(`[API] Fetching SmartRF report for AP: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`AP SmartRF report API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded AP SmartRF report"),s}catch(t){return o.error(`[API] Failed to fetch AP SmartRF report for ${e}:`,t),null}}async getAPInterfaceStats(e){try{const t=`/v1/aps/ifstats/${encodeURIComponent(e)}`;o.log(`[API] Fetching interface stats for AP: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`AP interface stats API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded AP interface statistics"),s}catch(t){return o.error(`[API] Failed to fetch AP interface stats for ${e}:`,t),null}}async getAllAPInterfaceStats(){try{o.log("[API] Fetching all AP interface statistics");const e=await this.makeAuthenticatedRequest("/v1/aps/ifstats",{},15e3);if(!e.ok)return o.warn(`All AP interface stats API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded interface stats for ${t?.length||0} APs`),t||[]}catch(e){return o.error("[API] Failed to fetch all AP interface stats:",e),[]}}async getStationEvents(e){try{const t=`/v1/stations/events/${encodeURIComponent(e)}`;o.log(`[API] Fetching events for station: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`Station events API returned ${r.status}`),[];const s=await r.json();return o.log(`[API] ✓ Loaded ${s?.length||0} station events`),s||[]}catch(t){return o.error(`[API] Failed to fetch station events for ${e}:`,t),[]}}async getSiteSmartRFReport(e){try{const t=`/v1/report/sites/${encodeURIComponent(e)}/smartrf`;o.log(`[API] Fetching SmartRF report for site: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`Site SmartRF report API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded site SmartRF report"),s}catch(t){return o.error(`[API] Failed to fetch site SmartRF report for ${e}:`,t),null}}async getSiteVenueReport(e,t="24H",r=15){try{const s=`/v3/sites/${encodeURIComponent(e)}/report/venue?duration=${t}&resolution=${r}&statType=sites`;o.log(`[API] Fetching venue report for site: ${e}`);const i=await this.makeAuthenticatedRequest(s,{},15e3);if(!i.ok)return o.warn(`Site venue report API returned ${i.status}`),null;const l=await i.json();return o.log("[API] ✓ Loaded site venue report"),l}catch(s){return o.error(`[API] Failed to fetch site venue report for ${e}:`,s),null}}async getAllSitesVenueReport(e="24H"){try{const t=`/v3/sites/report/venue?duration=${e}`;o.log("[API] Fetching venue report for all sites");const r=await this.makeAuthenticatedRequest(t,{},15e3);if(!r.ok)return o.warn(`All sites venue report API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded all sites venue report"),s}catch(t){return o.error("[API] Failed to fetch all sites venue report:",t),null}}async getSiteImpactReport(e){try{const t=`/v3/sites/${encodeURIComponent(e)}/report/impact`;o.log(`[API] Fetching impact report for site: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`Site impact report API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded site impact report"),s}catch(t){return o.error(`[API] Failed to fetch site impact report for ${e}:`,t),null}}async getAllSitesImpactReport(){try{o.log("[API] Fetching impact report for all sites");const e=await this.makeAuthenticatedRequest("/v3/sites/report/impact",{},1e4);if(!e.ok)return o.warn(`All sites impact report API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded all sites impact report"),t}catch(e){return o.error("[API] Failed to fetch all sites impact report:",e),null}}async getSitesReport(){try{o.log("[API] Fetching sites report");const e=await this.makeAuthenticatedRequest("/v1/report/sites",{},1e4);if(!e.ok)return o.warn(`Sites report API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded sites report"),t}catch(e){return o.error("[API] Failed to fetch sites report:",e),null}}async getFlexReport(e){try{const t=`/v1/report/flex/${encodeURIComponent(e)}`;o.log(`[API] Fetching flex report for duration: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`Flex report API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded flex report"),s}catch(t){return o.error(`[API] Failed to fetch flex report for ${e}:`,t),null}}async getSiteFlexReport(){try{o.log("[API] Fetching site flex report");const e=await this.makeAuthenticatedRequest("/v3/sites/report/flex",{},1e4);if(!e.ok)return o.warn(`Site flex report API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded site flex report"),t}catch(e){return o.error("[API] Failed to fetch site flex report:",e),null}}async getPortReport(e){try{const t=`/v1/report/ports/${encodeURIComponent(e)}`;o.log(`[API] Fetching port report for: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`Port report API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded port report"),s}catch(t){return o.error(`[API] Failed to fetch port report for ${e}:`,t),null}}async getRoleReport(e){try{const t=`/v1/report/roles/${encodeURIComponent(e)}`;o.log(`[API] Fetching role report for: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`Role report API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded role report"),s}catch(t){return o.error(`[API] Failed to fetch role report for ${e}:`,t),null}}async getUpgradeDevicesReport(){try{o.log("[API] Fetching upgrade devices report");const e=await this.makeAuthenticatedRequest("/v2/report/upgrade/devices",{},1e4);if(!e.ok)return o.warn(`Upgrade devices report API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded upgrade devices report"),t}catch(e){return o.error("[API] Failed to fetch upgrade devices report:",e),null}}async getSwitchPortReport(e,t){try{const r=`/v1/switches/${encodeURIComponent(e)}/ports/${encodeURIComponent(t)}/report`;o.log(`[API] Fetching port report for switch ${e}, port ${t}`);const s=await this.makeAuthenticatedRequest(r,{},1e4);if(!s.ok)return o.warn(`Switch port report API returned ${s.status}`),null;const i=await s.json();return o.log("[API] ✓ Loaded switch port report"),i}catch(r){return o.error(`[API] Failed to fetch switch port report for ${e}/${t}:`,r),null}}async getAPDisplayNames(){try{o.log("[API] Fetching AP display names");const e=await this.makeAuthenticatedRequest("/v1/aps/displaynames",{},1e4);if(!e.ok)return o.warn(`AP display names API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded AP display names"),t}catch(e){return o.error("[API] Failed to fetch AP display names:",e),null}}async getSwitchDisplayNames(){try{o.log("[API] Fetching switch display names");const e=await this.makeAuthenticatedRequest("/v1/switches/displaynames",{},1e4);if(!e.ok)return o.warn(`Switch display names API returned ${e.status}`),null;const t=await e.json();return o.log("[API] ✓ Loaded switch display names"),t}catch(e){return o.error("[API] Failed to fetch switch display names:",e),null}}async getAPSoftwareVersions(){try{o.log("[API] Fetching AP software versions");const e=await this.makeAuthenticatedRequest("/v1/aps/swversion",{},1e4);if(!e.ok)return o.warn(`AP software versions API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} AP software versions`),t||[]}catch(e){return o.error("[API] Failed to fetch AP software versions:",e),[]}}async getAPList(){try{o.log("[API] Fetching AP list");const e=await this.makeAuthenticatedRequest("/v1/aps/list",{},1e4);if(!e.ok)return o.warn(`AP list API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} APs (list)`),t||[]}catch(e){return o.error("[API] Failed to fetch AP list:",e),[]}}async getSwitchList(){try{o.log("[API] Fetching switch list");const e=await this.makeAuthenticatedRequest("/v1/switches/list",{},1e4);if(!e.ok)return o.warn(`Switch list API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} switches (list)`),t||[]}catch(e){return o.error("[API] Failed to fetch switch list:",e),[]}}async getMSPBriefSites(e){try{const t=`/v1/msp/briefsites/${encodeURIComponent(e)}`;o.log(`[API] Fetching MSP brief sites for tenant: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`MSP brief sites API returned ${r.status}`),[];const s=await r.json();return o.log(`[API] ✓ Loaded ${s?.length||0} MSP sites`),s||[]}catch(t){return o.error(`[API] Failed to fetch MSP brief sites for ${e}:`,t),[]}}async getMeshPointTree(e){try{const t=`/v3/meshpoints/tree/${encodeURIComponent(e)}`;o.log(`[API] Fetching mesh point tree for: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},1e4);if(!r.ok)return o.warn(`Mesh point tree API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded mesh point tree"),s}catch(t){return o.error(`[API] Failed to fetch mesh point tree for ${e}:`,t),null}}async getConfigurationBackups(){try{const e="/platformmanager/v1/configuration/backups";o.log("[API] Fetching configuration backups");const t=await this.makeAuthenticatedRequest(e,{},15e3);if(!t.ok)return o.warn(`Configuration backups API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Loaded ${r?.length||0} backup files`),r||[]}catch(e){return o.error("[API] Failed to fetch configuration backups:",e),[]}}async createConfigurationBackup(e){try{const t="/platformmanager/v1/configuration/backup";o.log("[API] Creating configuration backup");const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:e||`backup-${Date.now()}.zip`})},3e4);if(!r.ok)throw new Error(`Backup creation failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ Configuration backup created"),s}catch(t){throw o.error("[API] Failed to create configuration backup:",t),t}}async restoreConfiguration(e){try{const t="/platformmanager/v1/configuration/restore";o.log(`[API] Restoring configuration from: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:e})},6e4);if(!r.ok)throw new Error(`Configuration restore failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ Configuration restored"),s}catch(t){throw o.error("[API] Failed to restore configuration:",t),t}}async downloadConfigurationBackup(e){try{const t=`/platformmanager/v1/configuration/download/${encodeURIComponent(e)}`;o.log(`[API] Downloading configuration backup: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},6e4);if(!r.ok)throw new Error(`Backup download failed: ${r.status}`);const s=await r.blob();return o.log("[API] ✓ Configuration backup downloaded"),s}catch(t){throw o.error("[API] Failed to download configuration backup:",t),t}}async getLicenseInfo(){try{const e="/platformmanager/v1/license/info";o.log("[API] Fetching license information");const t=await this.makeAuthenticatedRequest(e,{},1e4);if(!t.ok)return o.warn(`License info API returned ${t.status}`),null;const r=await t.json();return o.log("[API] ✓ Loaded license information"),r}catch(e){return o.error("[API] Failed to fetch license info:",e),null}}async getLicenseUsage(){try{const e="/platformmanager/v1/license/usage";o.log("[API] Fetching license usage");const t=await this.makeAuthenticatedRequest(e,{},1e4);if(!t.ok)return o.warn(`License usage API returned ${t.status}`),null;const r=await t.json();return o.log("[API] ✓ Loaded license usage"),r}catch(e){return o.error("[API] Failed to fetch license usage:",e),null}}async installLicense(e){try{const t="/platformmanager/v1/license/install";o.log("[API] Installing license");const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({licenseKey:e})},2e4);if(!r.ok)throw new Error(`License installation failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ License installed"),s}catch(t){throw o.error("[API] Failed to install license:",t),t}}async getFlashFiles(){try{const e="/platformmanager/v1/flash/files";o.log("[API] Fetching flash memory files");const t=await this.makeAuthenticatedRequest(e,{},1e4);if(!t.ok)return o.warn(`Flash files API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Loaded ${r?.length||0} flash files`),r||[]}catch(e){return o.error("[API] Failed to fetch flash files:",e),[]}}async getFlashUsage(){try{const e="/platformmanager/v1/flash/usage";o.log("[API] Fetching flash memory usage");const t=await this.makeAuthenticatedRequest(e,{},1e4);if(!t.ok)return o.warn(`Flash usage API returned ${t.status}`),null;const r=await t.json();return o.log("[API] ✓ Loaded flash memory usage"),r}catch(e){return o.error("[API] Failed to fetch flash usage:",e),null}}async deleteFlashFile(e){try{const t=`/platformmanager/v1/flash/files/${encodeURIComponent(e)}`;o.log(`[API] Deleting flash file: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"DELETE"},15e3);if(!r.ok)throw new Error(`Flash file deletion failed: ${r.status}`);o.log("[API] ✓ Flash file deleted")}catch(t){throw o.error("[API] Failed to delete flash file:",t),t}}async getOSOneSystemInfo(){try{const t=`/platformmanager/v1/reports/systeminformation?noCache=${Date.now()}`;o.log("[API] Fetching OS ONE system information");const r=await this.makeAuthenticatedRequest(t,{},15e3);if(!r.ok)return o.warn(`OS ONE system info API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded OS ONE system information"),this.parseOSOneSystemInfo(s)}catch(e){return o.error("[API] Failed to fetch OS ONE system info:",e),null}}async getOSOneManufacturingInfo(){try{const t=`/platformmanager/v1/reports/manufacturinginformation?noCache=${Date.now()}`;o.log("[API] Fetching OS ONE manufacturing information");const r=await this.makeAuthenticatedRequest(t,{},15e3);if(!r.ok)return o.warn(`OS ONE manufacturing info API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded OS ONE manufacturing information"),this.parseOSOneManufacturingInfo(s)}catch(e){return o.error("[API] Failed to fetch OS ONE manufacturing info:",e),null}}async getOSOneInfo(){try{const[e,t]=await Promise.all([this.getOSOneSystemInfo(),this.getOSOneManufacturingInfo()]);return!e&&!t?null:{system:e,manufacturing:t,timestamp:Date.now()}}catch(e){return o.error("[API] Failed to fetch complete OS ONE info:",e),null}}parseOSOneSystemInfo(e){const t=e?.result?.result||e?.result||"",r={raw:t,externalServices:e?.externalServices||[],lastUpgrade:e?.lastUpgrade,sysUptime:e?.sysUptime,uptime:"",cpuUtilization:0,memoryFreePercent:0,diskPartitions:[],ports:[]},s=t.match(/System Up Time:\s*(.+)/);s&&(r.uptime=s[1].trim());const i=t.match(/CPU Utilization:\s*([\d.]+)/);i&&(r.cpuUtilization=parseFloat(i[1]));const l=t.match(/Free:\s*(\d+)\s*%/);l&&(r.memoryFreePercent=parseInt(l[1],10));const c=/^\s*(\w+)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)%\s*$/gm;let d;for(;(d=c.exec(t))!==null;)r.diskPartitions.push({name:d[1],totalSpace:parseInt(d[2],10),used:parseInt(d[3],10),available:parseInt(d[4],10),usePercent:parseInt(d[5],10)});const h=/Port(\d+) Interface:[\s\S]*?Interface State:\s*(\w+),\s*(\d+)Mbps/g;let f;for(;(f=h.exec(t))!==null;)r.ports.push({port:parseInt(f[1],10),state:f[2],speed:parseInt(f[3],10)});return r}parseOSOneManufacturingInfo(e){const t=e?.result||"",r={raw:t},s={smxVersion:/SMX Version:\s*(.+)/,guiVersion:/GUI Version:\s*(.+)/,nacVersion:/NAC Version:\s*(.+)/,softwareVersion:/Software Version:\s*(.+)/,model:/Model:\s*(.+)/,cpuType:/CPU Type:\s*(.+)/,cpuFrequency:/CPU Frequency \(MHz\):\s*([\d.]+)/,numberOfCpus:/Number of CPUs:\s*(\d+)/,totalMemory:/Total Memory:\s*(\d+)\s*KB/,hwEncryption:/HW Encryption Support:\s*(\w+)/,lan1Mac:/LAN 1\s+MAC address:\s*([0-9A-Fa-f:]+)/,lan2Mac:/LAN 2\s+MAC address:\s*([0-9A-Fa-f:]+)/,adminMac:/ADMIN\s+MAC address:\s*([0-9A-Fa-f:]+)/,lockingId:/Locking ID:\s*(.+)/};for(const[i,l]of Object.entries(s)){const c=t.match(l);if(c){const d=c[1].trim();i==="cpuFrequency"?r[i]=parseFloat(d):i==="numberOfCpus"||i==="totalMemory"?r[i]=parseInt(d,10):i==="hwEncryption"?r[i]=d.toLowerCase()==="yes":r[i]=d}}return r}async networkPing(e,t){try{const r="/platformmanager/v1/network/ping";o.log(`[API] Pinging host: ${e}`);const s=await this.makeAuthenticatedRequest(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e,count:t||4})},3e4);if(!s.ok)throw new Error(`Ping failed: ${s.status}`);const i=await s.json();return o.log("[API] ✓ Ping completed"),i}catch(r){throw o.error("[API] Failed to execute ping:",r),r}}async networkTraceroute(e){try{const t="/platformmanager/v1/network/traceroute";o.log(`[API] Traceroute to host: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e})},6e4);if(!r.ok)throw new Error(`Traceroute failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ Traceroute completed"),s}catch(t){throw o.error("[API] Failed to execute traceroute:",t),t}}async networkDnsLookup(e){try{const t="/platformmanager/v1/network/dns";o.log(`[API] DNS lookup for: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hostname:e})},15e3);if(!r.ok)throw new Error(`DNS lookup failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ DNS lookup completed"),s}catch(t){throw o.error("[API] Failed to execute DNS lookup:",t),t}}async upgradeAPSoftware(e,t){try{const r="/v1/accesspoints/software/upgrade";o.log(`[API] Upgrading ${e.length} APs to ${t}`);const s=await this.makeAuthenticatedRequest(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serialNumbers:e,imageVersion:t})},3e4);if(!s.ok)throw new Error(`AP software upgrade failed: ${s.status}`);const i=await s.json();return o.log("[API] ✓ AP software upgrade initiated"),i}catch(r){throw o.error("[API] Failed to upgrade AP software:",r),r}}async getAPUpgradeSchedules(){try{const e="/v1/accesspoints/software/schedule";o.log("[API] Fetching AP upgrade schedules");const t=await this.makeAuthenticatedRequest(e,{},1e4);if(!t.ok)return o.warn(`AP upgrade schedule API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Loaded ${r?.length||0} upgrade schedules`),r||[]}catch(e){return o.error("[API] Failed to fetch AP upgrade schedules:",e),[]}}async createAPUpgradeSchedule(e){try{const t="/v1/accesspoints/software/schedule";o.log("[API] Creating AP upgrade schedule");const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},15e3);if(!r.ok)throw new Error(`Failed to create upgrade schedule: ${r.status}`);const s=await r.json();return o.log("[API] ✓ Upgrade schedule created"),s}catch(t){throw o.error("[API] Failed to create AP upgrade schedule:",t),t}}async deleteAPUpgradeSchedule(e){try{const t=`/v1/accesspoints/software/schedule/${encodeURIComponent(e)}`;o.log(`[API] Deleting upgrade schedule: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"DELETE"},15e3);if(!r.ok)throw new Error(`Failed to delete upgrade schedule: ${r.status}`);o.log("[API] ✓ Upgrade schedule deleted")}catch(t){throw o.error("[API] Failed to delete AP upgrade schedule:",t),t}}async forceAdoptAP(e){try{const t="/v1/devices/adoption/force";o.log(`[API] Force adopting AP: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serialNumber:e})},2e4);if(!r.ok)throw new Error(`Force adoption failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ AP force adopted"),s}catch(t){throw o.error("[API] Failed to force adopt AP:",t),t}}async unadoptDevice(e){try{const t=`/v1/devices/${encodeURIComponent(e)}/unadopt`;o.log(`[API] Unadopting device: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"DELETE"},2e4);if(!r.ok)throw new Error(`Unadoption failed: ${r.status}`);o.log("[API] ✓ Device unadopted")}catch(t){throw o.error("[API] Failed to unadopt device:",t),t}}async rebootAP(e){try{o.log(`[API] Rebooting AP: ${e}`);const t=[`/v1/aps/${encodeURIComponent(e)}/reboot`,`/v1/devices/${encodeURIComponent(e)}/reboot`,`/platformmanager/v1/devices/${encodeURIComponent(e)}/reboot`];for(const r of t)try{if((await this.makeAuthenticatedRequest(r,{method:"POST"},2e4)).ok){o.log("[API] ✓ AP reboot initiated");return}}catch{continue}throw new Error("AP reboot endpoint not available")}catch(t){throw o.error("[API] Failed to reboot AP:",t),t}}async resetAPToDefault(e){try{o.log(`[API] Resetting AP to defaults: ${e}`);const t=[`/v1/aps/${encodeURIComponent(e)}/reset`,`/v1/devices/${encodeURIComponent(e)}/reset`,`/platformmanager/v1/devices/${encodeURIComponent(e)}/factoryreset`];for(const r of t)try{if((await this.makeAuthenticatedRequest(r,{method:"POST"},2e4)).ok){o.log("[API] ✓ AP reset initiated");return}}catch{continue}throw new Error("AP reset endpoint not available")}catch(t){throw o.error("[API] Failed to reset AP:",t),t}}async assignAPToSite(e,t){try{o.log(`[API] Assigning AP ${e} to site ${t}`);const r=[`/v1/aps/${encodeURIComponent(e)}/site`,`/v1/devices/${encodeURIComponent(e)}/site`,`/v3/sites/${encodeURIComponent(t)}/devices`];for(const s of r)try{if((await this.makeAuthenticatedRequest(s,{method:s.includes("/sites/")?"POST":"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({siteId:t,serialNumber:e})},15e3)).ok){o.log("[API] ✓ AP assigned to site");return}}catch{continue}throw new Error("AP site assignment endpoint not available")}catch(r){throw o.error("[API] Failed to assign AP to site:",r),r}}async deleteAP(e){try{o.log(`[API] Deleting AP: ${e}`);const t=[`/v1/aps/${encodeURIComponent(e)}`,`/v1/devices/${encodeURIComponent(e)}`,`/platformmanager/v1/devices/${encodeURIComponent(e)}`];for(const r of t)try{if((await this.makeAuthenticatedRequest(r,{method:"DELETE"},15e3)).ok){o.log("[API] ✓ AP deleted");return}}catch{continue}throw new Error("AP delete endpoint not available")}catch(t){throw o.error("[API] Failed to delete AP:",t),t}}async upgradeAPImage(e,t){try{o.log(`[API] Upgrading AP firmware: ${e}`);const r=[`/v1/aps/${encodeURIComponent(e)}/upgrade`,`/v1/devices/${encodeURIComponent(e)}/upgrade`,"/platformmanager/v1/firmware/upgrade"];for(const s of r)try{if((await this.makeAuthenticatedRequest(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serialNumber:e,imageVersion:t})},3e4)).ok){o.log("[API] ✓ AP firmware upgrade initiated");return}}catch{continue}throw new Error("AP firmware upgrade endpoint not available")}catch(r){throw o.error("[API] Failed to upgrade AP firmware:",r),r}}async setEventLevel(e,t){try{o.log(`[API] Setting AP event level: ${e} -> ${t}`);const r=[`/v1/aps/${encodeURIComponent(e)}/eventlevel`,`/v1/devices/${encodeURIComponent(e)}/loglevel`,`/platformmanager/v1/devices/${encodeURIComponent(e)}/config`];for(const s of r)try{if((await this.makeAuthenticatedRequest(s,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventLevel:t,logLevel:t})},1e4)).ok){o.log("[API] ✓ AP event level set");return}}catch{continue}throw new Error("AP event level endpoint not available")}catch(r){throw o.error("[API] Failed to set AP event level:",r),r}}async setAdoptionPreference(e,t){try{o.log(`[API] Setting AP adoption preference: ${e} -> ${t}`);const r=[`/v1/aps/${encodeURIComponent(e)}/adoptionpreference`,`/v1/devices/${encodeURIComponent(e)}/preference`,`/platformmanager/v1/devices/${encodeURIComponent(e)}/adoption`];for(const s of r)try{if((await this.makeAuthenticatedRequest(s,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adoptionPreference:t})},1e4)).ok){o.log("[API] ✓ AP adoption preference set");return}}catch{continue}throw new Error("AP adoption preference endpoint not available")}catch(r){throw o.error("[API] Failed to set AP adoption preference:",r),r}}async releaseToCloud(e){try{o.log(`[API] Releasing AP to cloud: ${e}`);const t=[`/v1/aps/${encodeURIComponent(e)}/releasetocloud`,`/v1/devices/${encodeURIComponent(e)}/release`,`/platformmanager/v1/devices/${encodeURIComponent(e)}/cloud`];for(const r of t)try{if((await this.makeAuthenticatedRequest(r,{method:"POST"},15e3)).ok){o.log("[API] ✓ AP released to cloud");return}}catch{continue}throw new Error("Release to cloud endpoint not available")}catch(t){throw o.error("[API] Failed to release AP to cloud:",t),t}}async generateCSR(e,t){try{o.log(`[API] Generating CSR for AP: ${e}`);const r=[`/v1/aps/${encodeURIComponent(e)}/csr`,`/v1/devices/${encodeURIComponent(e)}/certificate/csr`,"/platformmanager/v1/certificates/csr"];for(const s of r)try{const i=await this.makeAuthenticatedRequest(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serialNumber:e,...t})},15e3);if(i.ok){const l=await i.json();return o.log("[API] ✓ CSR generated"),l}}catch{continue}throw new Error("CSR generation endpoint not available")}catch(r){throw o.error("[API] Failed to generate CSR:",r),r}}async applyCertificates(e,t){try{o.log(`[API] Applying certificates to AP: ${e}`);const r=[`/v1/aps/${encodeURIComponent(e)}/certificates`,`/v1/devices/${encodeURIComponent(e)}/certificate`,"/platformmanager/v1/certificates/apply"];for(const s of r)try{if((await this.makeAuthenticatedRequest(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serialNumber:e,...t})},2e4)).ok){o.log("[API] ✓ Certificates applied");return}}catch{continue}throw new Error("Certificate application endpoint not available")}catch(r){throw o.error("[API] Failed to apply certificates:",r),r}}async getAdoptionRules(){try{o.log("[API] Fetching adoption rules");const e=["/v1/adoption-rules","/v1/adoption/rules","/v1/config/adoption-rules","/platformmanager/v1/adoption-rules"];for(const t of e)try{const r=await this.makeAuthenticatedRequest(t,{},1e4);if(r.ok){const s=await r.json();return o.log(`[API] ✓ Loaded ${Array.isArray(s)?s.length:0} adoption rules`),Array.isArray(s)?s:s.rules||[]}}catch{continue}return o.warn("[API] Adoption rules endpoint not available, returning empty list"),[]}catch(e){return o.error("[API] Failed to fetch adoption rules:",e),[]}}async createAdoptionRule(e){try{o.log("[API] Creating adoption rule:",e.name);const t=["/v1/adoption-rules","/v1/adoption/rules","/v1/config/adoption-rules","/platformmanager/v1/adoption-rules"];for(const r of t)try{const s=await this.makeAuthenticatedRequest(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},15e3);if(s.ok){const i=await s.json();return o.log("[API] ✓ Adoption rule created successfully"),i}}catch{continue}throw new Error("Adoption rule creation endpoint not available")}catch(t){throw o.error("[API] Failed to create adoption rule:",t),t}}async updateAdoptionRule(e,t){try{o.log(`[API] Updating adoption rule: ${e}`);const r=[{path:`/v1/adoption-rules/${encodeURIComponent(e)}`,method:"PUT"},{path:`/v1/adoption-rules/${encodeURIComponent(e)}`,method:"PATCH"},{path:`/v1/adoption/rules/${encodeURIComponent(e)}`,method:"PUT"},{path:`/v1/config/adoption-rules/${encodeURIComponent(e)}`,method:"PUT"}];for(const s of r)try{const i=await this.makeAuthenticatedRequest(s.path,{method:s.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},15e3);if(i.ok){const l=await i.json();return o.log("[API] ✓ Adoption rule updated successfully"),l}}catch{continue}throw new Error("Adoption rule update endpoint not available")}catch(r){throw o.error("[API] Failed to update adoption rule:",r),r}}async deleteAdoptionRule(e){try{o.log(`[API] Deleting adoption rule: ${e}`);const t=[`/v1/adoption-rules/${encodeURIComponent(e)}`,`/v1/adoption/rules/${encodeURIComponent(e)}`,`/v1/config/adoption-rules/${encodeURIComponent(e)}`];for(const r of t)try{if((await this.makeAuthenticatedRequest(r,{method:"DELETE"},1e4)).ok){o.log("[API] ✓ Adoption rule deleted successfully");return}}catch{continue}throw new Error("Adoption rule deletion endpoint not available")}catch(t){throw o.error("[API] Failed to delete adoption rule:",t),t}}async toggleAdoptionRule(e,t){try{o.log(`[API] Toggling adoption rule ${e}: ${t?"enabled":"disabled"}`);const r=[{path:`/v1/adoption-rules/${encodeURIComponent(e)}/toggle`,method:"POST",body:{enabled:t}},{path:`/v1/adoption-rules/${encodeURIComponent(e)}`,method:"PATCH",body:{enabled:t}},{path:`/v1/adoption/rules/${encodeURIComponent(e)}`,method:"PATCH",body:{enabled:t}}];for(const s of r)try{if((await this.makeAuthenticatedRequest(s.path,{method:s.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(s.body)},1e4)).ok){o.log("[API] ✓ Adoption rule toggled successfully");return}}catch{continue}throw new Error("Adoption rule toggle endpoint not available")}catch(r){throw o.error("[API] Failed to toggle adoption rule:",r),r}}async deauthenticateStation(e){try{const t=`/v1/stations/${encodeURIComponent(e)}/deauth`;o.log(`[API] Deauthenticating station: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"POST"},1e4);if(!r.ok)throw new Error(`Deauthentication failed: ${r.status}`);o.log("[API] ✓ Station deauthenticated")}catch(t){throw o.error("[API] Failed to deauthenticate station:",t),t}}async blockStation(e,t){try{const r=`/v1/stations/${encodeURIComponent(e)}/block`;o.log(`[API] Blocking station: ${e}`);const s=await this.makeAuthenticatedRequest(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:t})},1e4);if(!s.ok)throw new Error(`Station block failed: ${s.status}`);o.log("[API] ✓ Station blocked")}catch(r){throw o.error("[API] Failed to block station:",r),r}}async unblockStation(e){try{const t=`/v1/stations/${encodeURIComponent(e)}/block`;o.log(`[API] Unblocking station: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"DELETE"},1e4);if(!r.ok)throw new Error(`Station unblock failed: ${r.status}`);o.log("[API] ✓ Station unblocked")}catch(t){throw o.error("[API] Failed to unblock station:",t),t}}async getStationHistory(e){try{const t=`/v1/stations/${encodeURIComponent(e)}/history`;o.log(`[API] Fetching station history: ${e}`);const r=await this.makeAuthenticatedRequest(t,{},15e3);if(!r.ok)return o.warn(`Station history API returned ${r.status}`),[];const s=await r.json();return o.log("[API] ✓ Loaded station history"),s||[]}catch(t){return o.error("[API] Failed to fetch station history:",t),[]}}async setStationBandwidthLimit(e,t,r){try{const s=`/v1/stations/${encodeURIComponent(e)}/bandwidth/limit`;o.log(`[API] Setting bandwidth limit for: ${e}`);const i=await this.makeAuthenticatedRequest(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({downloadLimit:t,uploadLimit:r})},1e4);if(!i.ok)throw new Error(`Bandwidth limit failed: ${i.status}`);o.log("[API] ✓ Bandwidth limit set")}catch(s){throw o.error("[API] Failed to set bandwidth limit:",s),s}}async getBlockedStations(){try{const e="/v1/stations/blocked";o.log("[API] Fetching blocked stations");const t=await this.makeAuthenticatedRequest(e,{},1e4);if(!t.ok)return o.warn(`Blocked stations API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Loaded ${r?.length||0} blocked stations`),r||[]}catch(e){return o.error("[API] Failed to fetch blocked stations:",e),[]}}async bulkDeleteStations(e){try{o.log(`[API] Bulk deleting ${e.length} stations`);const t=[{path:"/v1/stations/bulk/delete",method:"POST"},{path:"/v1/stations",method:"DELETE"},{path:"/v1/stations/delete",method:"POST"}];for(const r of t)try{if((await this.makeAuthenticatedRequest(r.path,{method:r.method,headers:{"Content-Type":"application/json"},body:JSON.stringify({macAddresses:e})},15e3)).ok){o.log("[API] ✓ Bulk delete successful");return}}catch{continue}o.warn("[API] Bulk delete endpoint unavailable, trying individual deletes");for(const r of e)try{const s=await this.makeAuthenticatedRequest(`/v1/stations/${encodeURIComponent(r)}`,{method:"DELETE"},1e4);s.ok||o.warn(`[API] Failed to delete station ${r}: ${s.status}`)}catch(s){o.warn(`[API] Failed to delete station ${r}:`,s)}}catch(t){throw o.error("[API] Failed to bulk delete stations:",t),t}}async bulkDisassociateStations(e){try{if(o.log(`[API] Bulk disassociating ${e.length} stations`),(await this.makeAuthenticatedRequest("/v1/stations/disassociate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({macAddresses:e})},15e3)).ok){o.log("[API] ✓ Bulk disassociate successful");return}o.warn("[API] Bulk disassociate failed, trying individual operations");for(const r of e)try{const s=await this.makeAuthenticatedRequest(`/v1/stations/${encodeURIComponent(r)}/disassociate`,{method:"POST"},1e4);s.ok||o.warn(`[API] Failed to disassociate station ${r}: ${s.status}`)}catch(s){o.warn(`[API] Failed to disassociate station ${r}:`,s)}}catch(t){throw o.error("[API] Failed to bulk disassociate stations:",t),t}}async bulkReauthenticateStations(e){try{o.log(`[API] Bulk reauthenticating ${e.length} stations`);const t=["/v1/stations/reauthenticate","/v1/stations/bulk/reauthenticate"];for(const r of t)try{if((await this.makeAuthenticatedRequest(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({macAddresses:e})},15e3)).ok){o.log("[API] ✓ Bulk reauthenticate successful");return}}catch{continue}o.warn("[API] Bulk reauthenticate failed, trying individual operations");for(const r of e)try{await this.reauthenticateStation(r)}catch(s){o.warn(`[API] Failed to reauthenticate station ${r}:`,s)}}catch(t){throw o.error("[API] Failed to bulk reauthenticate stations:",t),t}}async addStationToGroup(e,t){try{o.log(`[API] Adding station ${e} to group ${t}`);const r=[`/v1/stations/${encodeURIComponent(e)}/groups`,`/v1/groups/${encodeURIComponent(t)}/stations`,`/v1/stations/${encodeURIComponent(e)}/group`];for(const s of r)try{if((await this.makeAuthenticatedRequest(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupId:t,macAddress:e})},1e4)).ok){o.log("[API] ✓ Added station to group");return}}catch{continue}throw new Error("Station group management endpoint not available")}catch(r){throw o.error("[API] Failed to add station to group:",r),r}}async removeStationFromGroup(e,t){try{o.log(`[API] Removing station ${e} from group ${t}`);const r=[`/v1/stations/${encodeURIComponent(e)}/groups/${encodeURIComponent(t)}`,`/v1/groups/${encodeURIComponent(t)}/stations/${encodeURIComponent(e)}`,`/v1/stations/${encodeURIComponent(e)}/group/${encodeURIComponent(t)}`];for(const s of r)try{if((await this.makeAuthenticatedRequest(s,{method:"DELETE"},1e4)).ok){o.log("[API] ✓ Removed station from group");return}}catch{continue}throw new Error("Station group management endpoint not available")}catch(r){throw o.error("[API] Failed to remove station from group:",r),r}}async addStationToAllowList(e,t){try{o.log(`[API] Adding station ${e} to allow list`);const r=["/v1/stations/allowlist","/v1/macfilters/allow","/v1/stations/whitelist","/v1/accesscontrol/allow"];for(const s of r)try{if((await this.makeAuthenticatedRequest(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({macAddress:e,siteId:t})},1e4)).ok){o.log("[API] ✓ Added station to allow list");return}}catch{continue}throw new Error("MAC allow list endpoint not available")}catch(r){throw o.error("[API] Failed to add station to allow list:",r),r}}async addStationToDenyList(e,t){try{o.log(`[API] Adding station ${e} to deny list`);const r=["/v1/stations/denylist","/v1/macfilters/deny","/v1/stations/blacklist","/v1/accesscontrol/deny"];for(const s of r)try{if((await this.makeAuthenticatedRequest(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({macAddress:e,siteId:t})},1e4)).ok){o.log("[API] ✓ Added station to deny list");return}}catch{continue}throw new Error("MAC deny list endpoint not available")}catch(r){throw o.error("[API] Failed to add station to deny list:",r),r}}async getEvents(e,t,r){try{let s="/v1/events";const i=new URLSearchParams;e&&i.append("startTime",e.toString()),t&&i.append("endTime",t.toString()),r&&i.append("severity",r),i.toString()&&(s+=`?${i.toString()}`),o.log("[API] Fetching events");const l=await this.makeAuthenticatedRequest(s,{},15e3);if(!l.ok)return o.warn(`Events API returned ${l.status}`),[];const c=await l.json();return o.log(`[API] ✓ Loaded ${c?.length||0} events`),c||[]}catch(s){return o.error("[API] Failed to fetch events:",s),[]}}async getAlarms(){try{const e="/v1/alarms";o.log("[API] Fetching alarms");const t=await this.makeAuthenticatedRequest(e,{},15e3);if(!t.ok)return o.warn(`Alarms API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Loaded ${r?.length||0} alarms`),r||[]}catch(e){return o.error("[API] Failed to fetch alarms:",e),[]}}async getActiveAlarms(){try{const e="/v1/alarms/active";o.log("[API] Fetching active alarms");const t=await this.makeAuthenticatedRequest(e,{},1e4);if(!t.ok)return o.warn(`Active alarms API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Loaded ${r?.length||0} active alarms`),r||[]}catch(e){return o.error("[API] Failed to fetch active alarms:",e),[]}}async acknowledgeAlarm(e){try{const t=`/v1/alarms/${encodeURIComponent(e)}/acknowledge`;o.log(`[API] Acknowledging alarm: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"POST"},1e4);if(!r.ok)throw new Error(`Alarm acknowledgment failed: ${r.status}`);o.log("[API] ✓ Alarm acknowledged")}catch(t){throw o.error("[API] Failed to acknowledge alarm:",t),t}}async clearAlarm(e){try{const t=`/v1/alarms/${encodeURIComponent(e)}/clear`;o.log(`[API] Clearing alarm: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"POST"},1e4);if(!r.ok)throw new Error(`Alarm clear failed: ${r.status}`);o.log("[API] ✓ Alarm cleared")}catch(t){throw o.error("[API] Failed to clear alarm:",t),t}}async getWirelessInterference(e){try{let t="/v1/analytics/wireless/interference";e&&(t+=`?siteId=${encodeURIComponent(e)}`),o.log("[API] Fetching wireless interference data");const r=await this.makeAuthenticatedRequest(t,{},15e3);if(!r.ok)return o.warn(`Wireless interference API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded wireless interference data"),s}catch(t){return o.error("[API] Failed to fetch wireless interference:",t),null}}async getWirelessCoverage(e){try{let t="/v1/analytics/wireless/coverage";e&&(t+=`?siteId=${encodeURIComponent(e)}`),o.log("[API] Fetching wireless coverage data");const r=await this.makeAuthenticatedRequest(t,{},15e3);if(!r.ok)return o.warn(`Wireless coverage API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded wireless coverage data"),s}catch(t){return o.error("[API] Failed to fetch wireless coverage:",t),null}}async getClientRoamingAnalytics(e,t){try{let r="/v1/analytics/clients/roaming";const s=new URLSearchParams;e&&s.append("siteId",e),t&&s.append("duration",t),s.toString()&&(r+=`?${s.toString()}`),o.log("[API] Fetching client roaming analytics");const i=await this.makeAuthenticatedRequest(r,{},15e3);if(!i.ok)return o.warn(`Client roaming API returned ${i.status}`),null;const l=await i.json();return o.log("[API] ✓ Loaded client roaming analytics"),l}catch(r){return o.error("[API] Failed to fetch client roaming analytics:",r),null}}async detectRogueAPs(e){try{const t="/v1/security/rogue-ap/detect";o.log("[API] Initiating rogue AP detection");const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({siteId:e})},3e4);if(!r.ok)throw new Error(`Rogue AP detection failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ Rogue AP detection initiated"),s}catch(t){throw o.error("[API] Failed to detect rogue APs:",t),t}}async getRogueAPList(e){try{let t="/v1/security/rogue-ap/list";e&&(t+=`?siteId=${encodeURIComponent(e)}`),o.log("[API] Fetching rogue AP list");const r=await this.makeAuthenticatedRequest(t,{},15e3);if(!r.ok)return o.warn(`Rogue AP list API returned ${r.status}`),[];const s=await r.json();return o.log(`[API] ✓ Loaded ${s?.length||0} rogue APs`),s||[]}catch(t){return o.error("[API] Failed to fetch rogue AP list:",t),[]}}async classifyRogueAP(e,t){try{const r=`/v1/security/rogue-ap/${encodeURIComponent(e)}/classify`;o.log(`[API] Classifying rogue AP: ${e} as ${t}`);const s=await this.makeAuthenticatedRequest(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classification:t})},1e4);if(!s.ok)throw new Error(`Rogue AP classification failed: ${s.status}`);o.log("[API] ✓ Rogue AP classified")}catch(r){throw o.error("[API] Failed to classify rogue AP:",r),r}}async getSecurityThreats(e){try{let t="/v1/security/threats";e&&(t+=`?siteId=${encodeURIComponent(e)}`),o.log("[API] Fetching security threats");const r=await this.makeAuthenticatedRequest(t,{},15e3);if(!r.ok)return o.warn(`Security threats API returned ${r.status}`),[];const s=await r.json();return o.log(`[API] ✓ Loaded ${s?.length||0} security threats`),s||[]}catch(t){return o.error("[API] Failed to fetch security threats:",t),[]}}async enableWIDS(e,t){try{const r="/v1/security/wids/enable";o.log(`[API] Enabling WIDS for site: ${e}`);const s=await this.makeAuthenticatedRequest(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({siteId:e,...t})},15e3);if(!s.ok)throw new Error(`WIDS enable failed: ${s.status}`);o.log("[API] ✓ WIDS enabled")}catch(r){throw o.error("[API] Failed to enable WIDS:",r),r}}async getGuests(){try{const e="/v1/guests";o.log("[API] Fetching guest accounts");const t=await this.makeAuthenticatedRequest(e,{},15e3);if(!t.ok)return o.warn(`Guests API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Loaded ${r?.length||0} guest accounts`),r||[]}catch(e){return o.error("[API] Failed to fetch guests:",e),[]}}async createGuest(e){try{const t="/v1/guests/create";o.log("[API] Creating guest account");const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},15e3);if(!r.ok)throw new Error(`Guest creation failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ Guest account created"),s}catch(t){throw o.error("[API] Failed to create guest:",t),t}}async deleteGuest(e){try{const t=`/v1/guests/${encodeURIComponent(e)}`;o.log(`[API] Deleting guest: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"DELETE"},1e4);if(!r.ok)throw new Error(`Guest deletion failed: ${r.status}`);o.log("[API] ✓ Guest deleted")}catch(t){throw o.error("[API] Failed to delete guest:",t),t}}async generateGuestVoucher(e,t){try{const r=`/v1/guests/${encodeURIComponent(e)}/voucher`;o.log(`[API] Generating voucher for guest: ${e}`);const s=await this.makeAuthenticatedRequest(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({duration:t})},1e4);if(!s.ok)throw new Error(`Voucher generation failed: ${s.status}`);const i=await s.json();return o.log("[API] ✓ Guest voucher generated"),i}catch(r){throw o.error("[API] Failed to generate guest voucher:",r),r}}async getGuestPortalConfig(){try{const e="/v1/guests/portal/config";o.log("[API] Fetching guest portal config");const t=await this.makeAuthenticatedRequest(e,{},1e4);if(!t.ok)return o.warn(`Guest portal config API returned ${t.status}`),null;const r=await t.json();return o.log("[API] ✓ Loaded guest portal config"),r}catch(e){return o.error("[API] Failed to fetch guest portal config:",e),null}}async customizeGuestPortal(e){try{const t="/v1/guests/portal/customize";o.log("[API] Customizing guest portal");const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},15e3);if(!r.ok)throw new Error(`Guest portal customization failed: ${r.status}`);o.log("[API] ✓ Guest portal customized")}catch(t){throw o.error("[API] Failed to customize guest portal:",t),t}}async createQoSPolicy(e){try{const t="/v1/qos/policy/create";o.log("[API] Creating QoS policy");const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},15e3);if(!r.ok)throw new Error(`QoS policy creation failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ QoS policy created"),s}catch(t){throw o.error("[API] Failed to create QoS policy:",t),t}}async getQoSStatistics(e){try{let t="/v1/qos/statistics";e&&(t+=`?siteId=${encodeURIComponent(e)}`),o.log("[API] Fetching QoS statistics");const r=await this.makeAuthenticatedRequest(t,{},15e3);if(!r.ok)return o.warn(`QoS statistics API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded QoS statistics"),s}catch(t){return o.error("[API] Failed to fetch QoS statistics:",t),null}}async allocateBandwidth(e){try{const t="/v1/qos/bandwidth/allocate";o.log("[API] Allocating bandwidth");const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},15e3);if(!r.ok)throw new Error(`Bandwidth allocation failed: ${r.status}`);o.log("[API] ✓ Bandwidth allocated")}catch(t){throw o.error("[API] Failed to allocate bandwidth:",t),t}}async getDSCPMappings(){try{const e="/v1/qos/dscp/mappings";o.log("[API] Fetching DSCP mappings");const t=await this.makeAuthenticatedRequest(e,{},1e4);if(!t.ok)return o.warn(`DSCP mappings API returned ${t.status}`),null;const r=await t.json();return o.log("[API] ✓ Loaded DSCP mappings"),r}catch(e){return o.error("[API] Failed to fetch DSCP mappings:",e),null}}async getApplications(){try{const e="/appsmanager/v1/applications";o.log("[API] Fetching applications");const t=await this.makeAuthenticatedRequest(e,{},15e3);if(!t.ok)return o.warn(`Applications API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Loaded ${r?.length||0} applications`),r||[]}catch(e){return o.error("[API] Failed to fetch applications:",e),[]}}async installApplication(e){try{const t="/appsmanager/v1/applications/install";o.log("[API] Installing application");const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},6e4);if(!r.ok)throw new Error(`Application installation failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ Application installed"),s}catch(t){throw o.error("[API] Failed to install application:",t),t}}async getContainers(){try{const e="/appsmanager/v1/containers";o.log("[API] Fetching containers");const t=await this.makeAuthenticatedRequest(e,{},15e3);if(!t.ok)return o.warn(`Containers API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Loaded ${r?.length||0} containers`),r||[]}catch(e){return o.error("[API] Failed to fetch containers:",e),[]}}async createContainer(e){try{const t="/appsmanager/v1/containers/create";o.log("[API] Creating container");const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},3e4);if(!r.ok)throw new Error(`Container creation failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ Container created"),s}catch(t){throw o.error("[API] Failed to create container:",t),t}}async getAppManagerStorage(){try{const e="/appsmanager/v1/storage";o.log("[API] Fetching storage information");const t=await this.makeAuthenticatedRequest(e,{},1e4);if(!t.ok)return o.warn(`Storage API returned ${t.status}`),null;const r=await t.json();return o.log("[API] ✓ Loaded storage information"),r}catch(e){return o.error("[API] Failed to fetch storage:",e),null}}async getAppImages(){try{const e="/appsmanager/v1/images";o.log("[API] Fetching application images");const t=await this.makeAuthenticatedRequest(e,{},15e3);if(!t.ok)return o.warn(`App images API returned ${t.status}`),[];const r=await t.json();return o.log(`[API] ✓ Loaded ${r?.length||0} application images`),r||[]}catch(e){return o.error("[API] Failed to fetch app images:",e),[]}}async createLocationZone(e){try{const t="/v1/location/zone/create";o.log("[API] Creating location zone");const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},15e3);if(!r.ok)throw new Error(`Zone creation failed: ${r.status}`);const s=await r.json();return o.log("[API] ✓ Location zone created"),s}catch(t){throw o.error("[API] Failed to create location zone:",t),t}}async getLocationZones(e){try{let t="/v1/location/zone/list";e&&(t+=`?siteId=${encodeURIComponent(e)}`),o.log("[API] Fetching location zones");const r=await this.makeAuthenticatedRequest(t,{},15e3);if(!r.ok)return o.warn(`Location zones API returned ${r.status}`),[];const s=await r.json();return o.log(`[API] ✓ Loaded ${s?.length||0} location zones`),s||[]}catch(t){return o.error("[API] Failed to fetch location zones:",t),[]}}async getPresenceAnalytics(e){try{const t="/v1/location/presence/notify";o.log(`[API] Fetching presence analytics for zone: ${e}`);const r=await this.makeAuthenticatedRequest(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({zoneId:e})},15e3);if(!r.ok)return o.warn(`Presence analytics API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded presence analytics"),s}catch(t){return o.error("[API] Failed to fetch presence analytics:",t),null}}async getDwellTimeAnalytics(e,t){try{let r="/v1/location/analytics/dwell";const s=new URLSearchParams;e&&s.append("siteId",e),t&&s.append("zoneId",t),s.toString()&&(r+=`?${s.toString()}`),o.log("[API] Fetching dwell time analytics");const i=await this.makeAuthenticatedRequest(r,{},15e3);if(!i.ok)return o.warn(`Dwell time analytics API returned ${i.status}`),null;const l=await i.json();return o.log("[API] ✓ Loaded dwell time analytics"),l}catch(r){return o.error("[API] Failed to fetch dwell time analytics:",r),null}}async getTrafficFlowAnalytics(e){try{let t="/v1/location/analytics/traffic";e&&(t+=`?siteId=${encodeURIComponent(e)}`),o.log("[API] Fetching traffic flow analytics");const r=await this.makeAuthenticatedRequest(t,{},15e3);if(!r.ok)return o.warn(`Traffic flow analytics API returned ${r.status}`),null;const s=await r.json();return o.log("[API] ✓ Loaded traffic flow analytics"),s}catch(t){return o.error("[API] Failed to fetch traffic flow analytics:",t),null}}async startPacketCapture(e){try{o.log("[API] Starting packet capture:",e);const t=await this.makeAuthenticatedRequest("/platformmanager/v1/startappacketcapture",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},3e4);if(!t.ok){const s=await t.json().catch(()=>({}));throw o.error("[API] Packet capture start failed:",s),new Error(s.message||s.error||`Failed to start capture: ${t.status}`)}const r=await t.json();return o.log("[API] ✓ Packet capture started:",r),r}catch(t){throw o.error("[API] Failed to start packet capture:",t),t}}async stopPacketCapture(e,t){try{o.log("[API] Stopping packet capture:",{captureId:e,stopAll:t});const r=t?{stopAll:!0}:{captureId:e},s=await this.makeAuthenticatedRequest("/platformmanager/v1/stopappacketcapture",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},15e3);if(!s.ok){const i=await s.json().catch(()=>({}));throw o.error("[API] Packet capture stop failed:",i),new Error(i.message||i.error||`Failed to stop capture: ${s.status}`)}o.log("[API] ✓ Packet capture stopped")}catch(r){throw o.error("[API] Failed to stop packet capture:",r),r}}async getActivePacketCaptures(){try{o.log("[API] Fetching active packet captures");const e=["/v1/packetcapture/active","/v1/pcap/active","/v1/capture/active","/platformmanager/v1/packetcapture/active"];for(const t of e)try{const r=await this.makeAuthenticatedRequest(t,{},1e4);if(r.ok){const s=await r.json(),i=Array.isArray(s)?s:s.captures||s.sessions||[];return o.log(`[API] ✓ Loaded ${i.length} active captures`),i}}catch{continue}return o.warn("[API] No active captures endpoint available"),[]}catch(e){return o.error("[API] Failed to fetch active captures:",e),[]}}async getPacketCaptureFiles(){try{o.log("[API] Fetching packet capture files");const e=["/v1/packetcapture/files","/v1/pcap/files","/v1/capture/files","/platformmanager/v1/packetcapture/files"];for(const t of e)try{const r=await this.makeAuthenticatedRequest(t,{},1e4);if(r.ok){const s=await r.json(),i=Array.isArray(s)?s:s.files||s.captures||[];return o.log(`[API] ✓ Loaded ${i.length} capture files`),i}}catch{continue}return o.warn("[API] No capture files endpoint available"),[]}catch(e){return o.error("[API] Failed to fetch capture files:",e),[]}}async downloadPacketCaptureFile(e,t){try{o.log("[API] Downloading packet capture file:",e);const r=[`/v1/packetcapture/download/${e}`,`/v1/pcap/download/${e}`,`/v1/capture/download/${t}`,`/platformmanager/v1/packetcapture/download/${e}`];for(const s of r)try{const i=await this.makeAuthenticatedRequest(s,{},6e4);if(i.ok){const l=await i.blob();return o.log("[API] ✓ Downloaded capture file"),l}}catch{continue}throw new Error("Download endpoint not available")}catch(r){throw o.error("[API] Failed to download capture file:",r),r}}async deletePacketCaptureFile(e,t){try{o.log("[API] Deleting packet capture file:",e);const r=[`/v1/packetcapture/delete/${e}`,`/v1/pcap/delete/${e}`,`/v1/capture/delete/${t||e}`,`/platformmanager/v1/packetcapture/delete/${e}`];for(const s of r)try{if((await this.makeAuthenticatedRequest(s,{method:"DELETE"},1e4)).ok){o.log("[API] ✓ Deleted capture file");return}}catch{continue}throw new Error("Delete endpoint not available")}catch(r){throw o.error("[API] Failed to delete capture file:",r),r}}async getPacketCaptureStatus(e){try{o.log("[API] Fetching packet capture status:",e);const t=[`/v1/packetcapture/status/${e}`,`/v1/pcap/status/${e}`,`/platformmanager/v1/packetcapture/status/${e}`];for(const r of t)try{const s=await this.makeAuthenticatedRequest(r,{},5e3);if(s.ok){const i=await s.json();return o.log("[API] ✓ Capture status:",i),i}}catch{continue}return o.warn("[API] Capture status endpoint not available"),null}catch(t){return o.error("[API] Failed to fetch capture status:",t),null}}async getAFCPlans(){try{o.log("[API] Fetching AFC plans");const e=await this.makeAuthenticatedRequest("/v1/afc/plans",{},1e4);if(!e.ok)return o.warn(`AFC plans API returned ${e.status}`),[];const t=await e.json();return o.log(`[API] ✓ Loaded ${t?.length||0} AFC plans`),t||[]}catch(e){return o.error("[API] Failed to fetch AFC plans:",e),[]}}async createAFCPlan(e){try{o.log("[API] Creating AFC plan:",e.name);const t=await this.makeAuthenticatedRequest("/v1/afc/plans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},1e4);if(!t.ok)throw new Error(`Failed to create AFC plan: ${t.status}`);const r=await t.json();return o.log("[API] ✓ AFC plan created:",r.id),r}catch(t){throw o.error("[API] Failed to create AFC plan:",t),t}}async runAFCAnalysis(e){try{o.log("[API] Running AFC analysis for plan:",e);const t=`/v1/afc/plans/${encodeURIComponent(e)}/analyze`,r=await this.makeAuthenticatedRequest(t,{method:"POST"},3e4);if(!r.ok)throw new Error(`Failed to run AFC analysis: ${r.status}`);const s=await r.json();return o.log("[API] ✓ AFC analysis completed"),s}catch(t){throw o.error("[API] Failed to run AFC analysis:",t),t}}async deleteAFCPlan(e){try{o.log("[API] Deleting AFC plan:",e);const t=`/v1/afc/plans/${encodeURIComponent(e)}`,r=await this.makeAuthenticatedRequest(t,{method:"DELETE"},1e4);if(!r.ok)throw new Error(`Failed to delete AFC plan: ${r.status}`);o.log("[API] ✓ AFC plan deleted")}catch(t){throw o.error("[API] Failed to delete AFC plan:",t),t}}}const B=new ii;function li({onLoginSuccess:a,theme:e="system",onThemeToggle:t}){const[r,s]=g.useState(""),[i,l]=g.useState(""),[c,d]=g.useState(!1),[h,f]=g.useState(""),u=async p=>{p.preventDefault(),d(!0),f("");try{await B.login(r,i),a()}catch(v){const y=v instanceof Error?v.message:"Login failed";y.includes("401")||y.includes("Invalid credentials")?f("Invalid username or password. Please check your credentials and try again."):y.includes("422")||y.includes("request format")?f("Authentication format error. Please contact support if this persists."):y.includes("timeout")?f("Connection timeout. Please check your network and try again."):f(y)}finally{d(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsx("div",{className:"w-full max-w-md space-y-4",children:n.jsxs(zt,{className:"w-full",children:[n.jsxs(vr,{className:"space-y-1 text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx(ri,{src:si,alt:"EDGE Platform",className:"h-12 w-12 object-contain"})}),n.jsxs(wr,{className:"text-2xl",children:[n.jsx("span",{className:"font-bold",children:"Extreme"})," Platform ONE™ | EDGE"]}),n.jsx(Vs,{className:"text-center mt-2",children:"Edge Data Gateway Engine"})]}),n.jsx(yr,{children:n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(es,{htmlFor:"userId",children:"User ID / Username"}),n.jsx(Be,{id:"userId",type:"text",value:r,onChange:p=>s(p.target.value),placeholder:"Enter your username or user ID",required:!0,disabled:c,autoComplete:"username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(es,{htmlFor:"password",children:"Password"}),n.jsx(Be,{id:"password",type:"password",value:i,onChange:p=>l(p.target.value),placeholder:"Enter your password",required:!0,disabled:c,autoComplete:"current-password"})]}),h&&n.jsx(Za,{variant:"destructive",children:n.jsx(ei,{children:h})}),n.jsx(q,{type:"submit",className:"w-full",disabled:c||!r.trim()||!i.trim(),children:c?n.jsxs(n.Fragment,{children:[n.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Authenticating..."]}):"Sign In"})]})})]})})})}var ci=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],di=ci.reduce((a,e)=>{const t=Ot(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:l,...c}=s,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...a,[e]:r}},{}),ui="Separator",ts="horizontal",hi=["horizontal","vertical"],Hs=g.forwardRef((a,e)=>{const{decorative:t,orientation:r=ts,...s}=a,i=pi(r)?r:ts,c=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(di.div,{"data-orientation":i,...c,...s,ref:e})});Hs.displayName=ui;function pi(a){return hi.includes(a)}var fi=Hs;function nr({className:a,orientation:e="horizontal",decorative:t=!0,...r}){return n.jsx(fi,{"data-slot":"separator-root",decorative:t,orientation:e,className:C("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...r})}const Js={default:{name:"default",displayName:"Default",emoji:"🌐",colors:{primary:"222.2 47.4% 11.2%",primaryForeground:"210 40% 98%",secondary:"210 40% 96.1%",secondaryForeground:"222.2 47.4% 11.2%",background:"0 0% 100%",foreground:"222.2 47.4% 11.2%",card:"0 0% 100%",cardForeground:"222.2 47.4% 11.2%",popover:"0 0% 100%",popoverForeground:"222.2 47.4% 11.2%",muted:"210 40% 96.1%",mutedForeground:"215.4 16.3% 46.9%",accent:"210 40% 96.1%",accentForeground:"222.2 47.4% 11.2%",destructive:"0 84.2% 60.2%",destructiveForeground:"210 40% 98%",border:"214.3 31.8% 91.4%",input:"214.3 31.8% 91.4%",ring:"222.2 47.4% 11.2%"}},dark:{name:"dark",displayName:"Dark",emoji:"🌙",colors:{primary:"210 40% 98%",primaryForeground:"222.2 47.4% 11.2%",secondary:"217.2 32.6% 17.5%",secondaryForeground:"210 40% 98%",background:"222.2 84% 4.9%",foreground:"210 40% 98%",card:"222.2 84% 4.9%",cardForeground:"210 40% 98%",popover:"222.2 84% 4.9%",popoverForeground:"210 40% 98%",muted:"217.2 32.6% 17.5%",mutedForeground:"215 20.2% 65.1%",accent:"217.2 32.6% 17.5%",accentForeground:"210 40% 98%",destructive:"0 62.8% 30.6%",destructiveForeground:"210 40% 98%",border:"217.2 32.6% 17.5%",input:"217.2 32.6% 17.5%",ring:"212.7 26.8% 83.9%"}}};function gi(a){const e=document.documentElement,t=Js[a];Object.entries(t.colors).forEach(([r,s])=>{const i=`--${r.replace(/([A-Z])/g,"-$1").toLowerCase()}`;e.style.setProperty(i,s)}),localStorage.setItem("theme",a),e.classList.remove("theme-default","theme-dark"),e.classList.add(`theme-${a}`)}function rs(){const a=localStorage.getItem("theme");return a&&Js[a]?a:"default"}const ss={default:{name:"EDGE",fullName:"Extreme Platform ONE | EDGE",tagline:"Edge Data Gateway Engine",logo:"/logo.svg",icon:"/favicon.ico"},dark:{name:"EDGE",fullName:"Extreme Platform ONE | EDGE",tagline:"Edge Data Gateway Engine",logo:"/logo.svg",icon:"/favicon.ico"}};function os(a){return ss[a]||ss.default}function Ys(){const[a,e]=g.useState(()=>{const t=rs();return os(t)});return g.useEffect(()=>{const t=()=>{const s=rs();e(os(s))};window.addEventListener("storage",t);const r=new MutationObserver(s=>{s.forEach(i=>{i.attributeName==="class"&&t()})});return r.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>{window.removeEventListener("storage",t),r.disconnect()}},[]),a}const mi=gr("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),ne=g.forwardRef(({className:a,variant:e,asChild:t=!1,...r},s)=>{const i=t?zs:"span";return n.jsx(i,{"data-slot":"badge",className:C(mi({variant:e}),a),ref:s,...r})});ne.displayName="Badge";function vi(a){const e=wi(a),t=g.forwardRef((r,s)=>{const{children:i,...l}=r,c=g.Children.toArray(i),d=c.find(xi);if(d){const h=d.props.children,f=c.map(u=>u===d?g.Children.count(h)>1?g.Children.only(null):g.isValidElement(h)?h.props.children:null:u);return n.jsx(e,{...l,ref:s,children:g.isValidElement(h)?g.cloneElement(h,void 0,f):null})}return n.jsx(e,{...l,ref:s,children:i})});return t.displayName=`${a}.Slot`,t}function wi(a){const e=g.forwardRef((t,r)=>{const{children:s,...i}=t;if(g.isValidElement(s)){const l=Ai(s),c=bi(i,s.props);return s.type!==g.Fragment&&(c.ref=r?Ss(r,l):l),g.cloneElement(s,c)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${a}.SlotClone`,e}var yi=Symbol("radix.slottable");function xi(a){return g.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===yi}function bi(a,e){const t={...e};for(const r in e){const s=a[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...a,...t}}function Ai(a){let e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?a.ref:(e=Object.getOwnPropertyDescriptor(a,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?a.props.ref:a.props.ref||a.ref)}var Mt="Popover",[Qs]=ks(Mt,[Is]),ut=Is(),[Pi,De]=Qs(Mt),Xs=a=>{const{__scopePopover:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:l=!1}=a,c=ut(e),d=g.useRef(null),[h,f]=g.useState(!1),[u,p]=Lo({prop:r,defaultProp:s??!1,onChange:i,caller:Mt});return n.jsx(_o,{...c,children:n.jsx(Pi,{scope:e,contentId:Do(),triggerRef:d,open:u,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(v=>!v),[p]),hasCustomAnchor:h,onCustomAnchorAdd:g.useCallback(()=>f(!0),[]),onCustomAnchorRemove:g.useCallback(()=>f(!1),[]),modal:l,children:t})})};Xs.displayName=Mt;var Ks="PopoverAnchor",Si=g.forwardRef((a,e)=>{const{__scopePopover:t,...r}=a,s=De(Ks,t),i=ut(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=s;return g.useEffect(()=>(l(),()=>c()),[l,c]),n.jsx(js,{...i,...r,ref:e})});Si.displayName=Ks;var Zs="PopoverTrigger",eo=g.forwardRef((a,e)=>{const{__scopePopover:t,...r}=a,s=De(Zs,t),i=ut(t),l=_e(e,s.triggerRef),c=n.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":no(s.open),...r,ref:l,onClick:ye(a.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:n.jsx(js,{asChild:!0,...i,children:c})});eo.displayName=Zs;var xr="PopoverPortal",[Ii,ki]=Qs(xr,{forceMount:void 0}),to=a=>{const{__scopePopover:e,forceMount:t,children:r,container:s}=a,i=De(xr,e);return n.jsx(Ii,{scope:e,forceMount:t,children:n.jsx(et,{present:t||i.open,children:n.jsx(Oo,{asChild:!0,container:s,children:r})})})};to.displayName=xr;var Ke="PopoverContent",ro=g.forwardRef((a,e)=>{const t=ki(Ke,a.__scopePopover),{forceMount:r=t.forceMount,...s}=a,i=De(Ke,a.__scopePopover);return n.jsx(et,{present:r||i.open,children:i.modal?n.jsx(Ri,{...s,ref:e}):n.jsx(Ni,{...s,ref:e})})});ro.displayName=Ke;var ji=vi("PopoverContent.RemoveScroll"),Ri=g.forwardRef((a,e)=>{const t=De(Ke,a.__scopePopover),r=g.useRef(null),s=_e(e,r),i=g.useRef(!1);return g.useEffect(()=>{const l=r.current;if(l)return zo(l)},[]),n.jsx(Mo,{as:ji,allowPinchZoom:!0,children:n.jsx(so,{...a,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(a.onCloseAutoFocus,l=>{l.preventDefault(),i.current||t.triggerRef.current?.focus()}),onPointerDownOutside:ye(a.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;i.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:ye(a.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ni=g.forwardRef((a,e)=>{const t=De(Ke,a.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return n.jsx(so,{...a,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{a.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{a.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;t.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),so=g.forwardRef((a,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,...u}=a,p=De(Ke,t),v=ut(t);return qo(),n.jsx(Uo,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(Bo,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>p.onOpenChange(!1),children:n.jsx(Wo,{"data-state":no(p.open),role:"dialog",id:p.contentId,...v,...u,ref:e,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),oo="PopoverClose",Ci=g.forwardRef((a,e)=>{const{__scopePopover:t,...r}=a,s=De(oo,t);return n.jsx(We.button,{type:"button",...r,ref:e,onClick:ye(a.onClick,()=>s.onOpenChange(!1))})});Ci.displayName=oo;var Ei="PopoverArrow",$i=g.forwardRef((a,e)=>{const{__scopePopover:t,...r}=a,s=ut(t);return n.jsx(Go,{...s,...r,ref:e})});$i.displayName=Ei;function no(a){return a?"open":"closed"}var Ti=Xs,Fi=eo,Li=to,_i=ro;function br({...a}){return n.jsx(Ti,{"data-slot":"popover",...a})}function Ar({...a}){return n.jsx(Fi,{"data-slot":"popover-trigger",...a})}function Pr({className:a,align:e="center",sideOffset:t=4,...r}){return n.jsx(Li,{children:n.jsx(_i,{"data-slot":"popover-content",align:e,sideOffset:t,className:C("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",a),...r})})}function Di(){const[a,e]=g.useState(null),[t,r]=g.useState(!1),s=async()=>{r(!0);try{const d=await(await fetch("/api/version")).json();e(d)}catch(c){console.error("[VersionBadge] Failed to fetch version:",c),e({version:"unknown",commit:"unknown",commitFull:"",buildDate:new Date().toISOString(),message:"Failed to fetch version",error:"Network error"})}finally{r(!1)}};if(g.useEffect(()=>{s()},[]),!a)return null;const i=a.commit||a.version||"dev",l=a.buildDate?new Date(a.buildDate).toLocaleString():"Unknown";return n.jsxs(br,{children:[n.jsx(Ar,{asChild:!0,children:n.jsxs(q,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs font-mono",children:[n.jsx(Et,{className:"h-3 w-3 mr-1"}),i]})}),n.jsx(Pr,{className:"w-96",align:"end",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Deployment Information"}),n.jsx(q,{variant:"ghost",size:"sm",onClick:s,disabled:t,children:n.jsx(ir,{className:`h-3 w-3 ${t?"animate-spin":""}`})})]}),n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Version:"}),n.jsx("span",{className:"col-span-2 font-mono",children:a.version||"N/A"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Commit:"}),n.jsx("span",{className:"col-span-2 font-mono break-all",children:a.commit||"N/A"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Build Date:"}),n.jsx("span",{className:"col-span-2",children:l})]}),a.message&&n.jsxs("div",{className:"pt-2 border-t",children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Message:"}),n.jsx("p",{className:"font-medium",children:a.message})]}),a.features&&a.features.length>0&&n.jsxs("div",{className:"pt-2 border-t",children:[n.jsx("p",{className:"text-muted-foreground mb-2",children:"Features:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:a.features.map((c,d)=>n.jsx(ne,{variant:"secondary",className:"text-xs",children:c},d))})]}),a.error&&n.jsx("div",{className:"pt-2 border-t",children:n.jsx(ne,{variant:"destructive",className:"text-xs",children:a.error})})]}),n.jsx("div",{className:"pt-2 border-t",children:n.jsx("p",{className:"text-xs text-muted-foreground",children:"Wireless EDGE Services"})})]})})]})}const je={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function qt(){const[a,e]=g.useState(()=>typeof window>"u"?{isMobile:!1,isTablet:!1,isDesktop:!0,isTouchDevice:!1,screenSize:"lg",orientation:"landscape"}:Jt());return g.useEffect(()=>{const t=()=>{e(Jt())},r=()=>{e(Jt())};return window.addEventListener("resize",t),window.addEventListener("orientationchange",r),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",r)}},[]),a}function Jt(){const a=window.innerWidth,e=window.innerHeight,t="ontouchstart"in window||navigator.maxTouchPoints>0||(navigator.msMaxTouchPoints||0)>0;let r="xs";a>=je["2xl"]?r="2xl":a>=je.xl?r="xl":a>=je.lg?r="lg":a>=je.md?r="md":a>=je.sm&&(r="sm");const s=a<je.md,i=a>=je.md&&a<je.lg,l=a>=je.lg,c=a>e?"landscape":"portrait";return{isMobile:s,isTablet:i,isDesktop:l,isTouchDevice:t,screenSize:r,orientation:c}}function Pd(){const{isMobile:a}=qt();return a}function Sd(){const{isTouchDevice:a}=qt();return a}const Oi=[{id:"service-levels",label:"Contextual Insights",icon:jn},{id:"app-insights",label:"App Insights",icon:cr},{id:"connected-clients",label:"Connected Clients",icon:dr},{id:"access-points",label:"Access Points",icon:ur},{id:"report-widgets",label:"Report Widgets",icon:Rn}],ns=[{id:"configure-sites",label:"Sites",icon:Pn},{id:"configure-networks",label:"Networks",icon:Cs},{id:"configure-policy",label:"Policy",icon:lr},{id:"configure-aaa-policies",label:"AAA Policies",icon:Sn},{id:"configure-guest",label:"Guest",icon:Es}],as=[{id:"system-backup",label:"Backup & Storage",icon:In},{id:"license-dashboard",label:"License Management",icon:$s},{id:"firmware-manager",label:"Firmware Manager",icon:Ts},{id:"network-diagnostics",label:"Network Diagnostics",icon:qe},{id:"event-alarm-dashboard",label:"Events & Alarms",icon:jt},{id:"security-dashboard",label:"Security",icon:lr},{id:"pci-report",label:"PCI DSS Report",icon:kn},{id:"guest-management",label:"Guest Access",icon:Es}];function zi({onLogout:a,adminRole:e,currentPage:t,onPageChange:r,theme:s="system",onThemeToggle:i}){const[l,c]=g.useState(!1),[d,h]=g.useState(!1),f=Ys(),u=qt(),p=ns.some(m=>t===m.id),v=as.some(m=>t===m.id),[y,x]=g.useState(p),[A,I]=g.useState(v);g.useEffect(()=>{u.isMobile&&h(!1)},[t,u.isMobile]),g.useEffect(()=>{const m=k=>{k.key==="Escape"&&u.isMobile&&d&&h(!1)};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[u.isMobile,d]);const R=m=>{r(m),u.isMobile&&h(!1)};return n.jsxs(n.Fragment,{children:[u.isMobile&&d&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>h(!1)}),u.isMobile&&n.jsx("button",{onClick:()=>h(!d),className:"fixed top-4 left-4 z-50 p-2 rounded-md bg-sidebar border border-sidebar-border shadow-lg lg:hidden",children:n.jsx(Wr,{className:"h-6 w-6"})}),n.jsxs("div",{className:C("bg-sidebar border-r border-sidebar-border h-full flex flex-col transition-all duration-300",!u.isMobile&&(l?"w-16":"w-64"),u.isMobile&&["fixed inset-y-0 left-0 z-50 w-64","transform transition-transform duration-300",d?"translate-x-0":"-translate-x-full"]),children:[n.jsx("div",{className:"p-4 border-b border-sidebar-border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[!l&&n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("div",{className:"text-foreground",children:n.jsx("span",{className:"text-muted-foreground text-xs",children:f.fullName})})}),n.jsx(q,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"text-sidebar-foreground hover:bg-sidebar-accent",children:n.jsx(Wr,{className:"h-4 w-4"})})]})}),n.jsxs("nav",{className:"flex-1 p-2 space-y-1",children:[Oi.map(m=>{const k=m.icon;return n.jsxs(q,{variant:t===m.id?"default":"ghost",className:C("w-full justify-start h-10",l?"px-2":"px-3",t===m.id?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),onClick:()=>R(m.id),children:[n.jsx(k,{className:C("h-4 w-4",!l&&"mr-2")}),!l&&n.jsx("span",{children:m.label})]},m.id)}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs(q,{variant:p?"default":"ghost",className:C("w-full justify-start h-10",l?"px-2":"px-3",p?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),onClick:()=>{l||x(!y)},children:[n.jsx(Nn,{className:C("h-4 w-4",!l&&"mr-2")}),!l&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex-1 text-left",children:"Configure"}),y?n.jsx(Xe,{className:"h-4 w-4"}):n.jsx($t,{className:"h-4 w-4"})]})]}),!l&&y&&n.jsx("div",{className:"ml-6 space-y-1",children:ns.map(m=>{const k=m.icon;return n.jsxs(q,{variant:t===m.id?"default":"ghost",className:C("w-full justify-start h-9 text-sm","px-3",t===m.id?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground/80 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),onClick:()=>R(m.id),children:[n.jsx(k,{className:"h-3 w-3 mr-2"}),n.jsx("span",{children:m.label})]},m.id)})})]}),!u.isMobile&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs(q,{variant:v?"default":"ghost",className:C("w-full justify-start h-10",l?"px-2":"px-3",v?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),onClick:()=>{l||I(!A)},children:[n.jsx(Cn,{className:C("h-4 w-4",!l&&"mr-2")}),!l&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex-1 text-left",children:"System"}),A?n.jsx(Xe,{className:"h-4 w-4"}):n.jsx($t,{className:"h-4 w-4"})]})]}),!l&&A&&n.jsx("div",{className:"ml-6 space-y-1",children:as.map(m=>{const k=m.icon;return n.jsxs(q,{variant:t===m.id?"default":"ghost",className:C("w-full justify-start h-9 text-sm","px-3",t===m.id?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground/80 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),onClick:()=>R(m.id),children:[n.jsx(k,{className:"h-3 w-3 mr-2"}),n.jsx("span",{children:m.label})]},m.id)})})]}),!u.isMobile&&n.jsxs(n.Fragment,{children:[n.jsxs(q,{variant:t==="tools"?"default":"ghost",className:C("w-full justify-start h-10",l?"px-2":"px-3",t==="tools"?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),onClick:()=>R("tools"),children:[n.jsx(En,{className:C("h-4 w-4",!l&&"mr-2")}),!l&&n.jsx("span",{children:"Tools"})]}),n.jsxs(q,{variant:t==="administration"?"default":"ghost",className:C("w-full justify-start h-10",l?"px-2":"px-3",t==="administration"?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),onClick:()=>R("administration"),children:[n.jsx(hr,{className:C("h-4 w-4",!l&&"mr-2")}),!l&&n.jsx("span",{children:"Administration"})]})]})]}),n.jsx(nr,{className:"bg-sidebar-border"}),n.jsxs("div",{className:"p-4 space-y-2",children:[!l&&e&&n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"text-xs text-sidebar-foreground/70",children:["Role: ",e]}),n.jsx(Di,{})]}),i&&!u.isMobile&&n.jsxs(q,{variant:"ghost",onClick:i,className:C("w-full justify-start text-sidebar-foreground hover:bg-sidebar-accent",l?"px-2":"px-3"),title:`Switch theme (current: ${s==="system"?"auto":s})`,children:[s==="light"?n.jsx($n,{className:C("h-4 w-4",!l&&"mr-2")}):s==="dark"?n.jsx(Tn,{className:C("h-4 w-4",!l&&"mr-2")}):n.jsx(Fn,{className:C("h-4 w-4",!l&&"mr-2")}),!l&&n.jsx("span",{children:s==="light"?"Light":s==="dark"?"Dark":"Auto"})]}),n.jsxs(q,{variant:"ghost",onClick:a,className:C("w-full justify-start text-sidebar-foreground hover:bg-sidebar-accent",l?"px-2":"px-3"),children:[n.jsx(Fs,{className:C("h-4 w-4",!l&&"mr-2")}),!l&&n.jsx("span",{children:"Logout"})]})]})]})]})}function Mi({children:a}){return n.jsx("div",{className:"min-h-screen bg-background overflow-x-hidden",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:a})}function qi(a,e=[]){let t=[];function r(i,l){const c=g.createContext(l);c.displayName=i+"Context";const d=t.length;t=[...t,l];const h=u=>{const{scope:p,children:v,...y}=u,x=p?.[a]?.[d]||c,A=g.useMemo(()=>y,Object.values(y));return n.jsx(x.Provider,{value:A,children:v})};h.displayName=i+"Provider";function f(u,p){const v=p?.[a]?.[d]||c,y=g.useContext(v);if(y)return y;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[h,f]}const s=()=>{const i=t.map(l=>g.createContext(l));return function(c){const d=c?.[a]||i;return g.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return s.scopeName=a,[r,Ui(s,...e)]}function Ui(...a){const e=a[0];if(a.length===1)return e;const t=()=>{const r=a.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((c,{useScope:d,scopeName:h})=>{const u=d(i)[`__scope${h}`];return{...c,...u}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var Bi=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sr=Bi.reduce((a,e)=>{const t=Ot(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:l,...c}=s,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...a,[e]:r}},{}),Yt={exports:{}},Qt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is;function Wi(){if(is)return Qt;is=1;var a=An();function e(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=a.useState,s=a.useEffect,i=a.useLayoutEffect,l=a.useDebugValue;function c(u,p){var v=p(),y=r({inst:{value:v,getSnapshot:p}}),x=y[0].inst,A=y[1];return i(function(){x.value=v,x.getSnapshot=p,d(x)&&A({inst:x})},[u,v,p]),s(function(){return d(x)&&A({inst:x}),u(function(){d(x)&&A({inst:x})})},[u]),l(v),v}function d(u){var p=u.getSnapshot;u=u.value;try{var v=p();return!t(u,v)}catch{return!0}}function h(u,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Qt.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:f,Qt}var ls;function Gi(){return ls||(ls=1,Yt.exports=Wi()),Yt.exports}var Vi=Gi();function Hi(){return Vi.useSyncExternalStore(Ji,()=>!0,()=>!1)}function Ji(){return()=>{}}var Ir="Avatar",[Yi]=qi(Ir),[Qi,ao]=Yi(Ir),io=g.forwardRef((a,e)=>{const{__scopeAvatar:t,...r}=a,[s,i]=g.useState("idle");return n.jsx(Qi,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:n.jsx(Sr.span,{...r,ref:e})})});io.displayName=Ir;var lo="AvatarImage",Xi=g.forwardRef((a,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:s=()=>{},...i}=a,l=ao(lo,t),c=Ki(r,i),d=Le(h=>{s(h),l.onImageLoadingStatusChange(h)});return Nt(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?n.jsx(Sr.img,{...i,ref:e,src:r}):null});Xi.displayName=lo;var co="AvatarFallback",uo=g.forwardRef((a,e)=>{const{__scopeAvatar:t,delayMs:r,...s}=a,i=ao(co,t),[l,c]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&i.imageLoadingStatus!=="loaded"?n.jsx(Sr.span,{...s,ref:e}):null});uo.displayName=co;function cs(a,e){return a?e?(a.src!==e&&(a.src=e),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ki(a,{referrerPolicy:e,crossOrigin:t}){const r=Hi(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[l,c]=g.useState(()=>cs(i,a));return Nt(()=>{c(cs(i,a))},[i,a]),Nt(()=>{const d=u=>()=>{c(u)};if(!i)return;const h=d("loaded"),f=d("error");return i.addEventListener("load",h),i.addEventListener("error",f),e&&(i.referrerPolicy=e),typeof t=="string"&&(i.crossOrigin=t),()=>{i.removeEventListener("load",h),i.removeEventListener("error",f)}},[i,t,e]),l}var Zi=io,el=uo;function ds({className:a,...e}){return n.jsx(Zi,{"data-slot":"avatar",className:C("relative flex size-10 shrink-0 overflow-hidden rounded-full",a),...e})}function us({className:a,...e}){return n.jsx(el,{"data-slot":"avatar-fallback",className:C("bg-muted flex size-full items-center justify-center rounded-full",a),...e})}function ho({onLogout:a,theme:e,onThemeToggle:t,userEmail:r,onNavigateTo:s}){const[i,l]=g.useState(!1),c=v=>v.split("@")[0].split("+")[0].replace(/[._-]/g," ").split(" ").map(A=>A.charAt(0).toUpperCase()+A.slice(1).toLowerCase()).join(" "),d=v=>{const x=c(v).split(" ");return x.length>=2?x[0][0]+x[1][0]:x[0][0]+x[0][1]},h=v=>{const x=(v.split("@")[1]||"").split(".")[0];return x.charAt(0).toUpperCase()+x.slice(1)};if(!r)return null;const f={name:c(r),email:r,organization:h(r),initials:d(r)},u=[{type:"item",label:"About EDGE Platform",icon:null,beta:!0,action:()=>{console.log("About EDGE Platform")}},{type:"item",label:"Cloud Status",icon:lr,externalLink:"https://cloud-status.extremecloudiq.com/",action:()=>{window.open("https://cloud-status.extremecloudiq.com/","_blank","noopener,noreferrer")}},{type:"item",label:"Help & Support",icon:_n,beta:!0,action:()=>{console.log("Help & Support")}},{type:"separator"},{type:"section",label:"Profile"},{type:"item",label:"Account Settings",icon:Dn,beta:!0,action:()=>{console.log("Account Settings")}},{type:"item",label:"API Documentation",icon:On,action:()=>{s&&s("api-documentation")}},{type:"item",label:"External Integrations",icon:rr,beta:!0,action:()=>{console.log("External Integrations")}},{type:"item",label:"Preferences",icon:hr,beta:!0,action:()=>{console.log("Preferences")}},{type:"separator"},{type:"item",label:"Sign Out",icon:Fs,action:a,destructive:!0}],p=v=>{v.action&&v.action(),v.hasSubmenu||l(!1)};return n.jsxs(br,{open:i,onOpenChange:l,children:[n.jsx(Ar,{asChild:!0,children:n.jsx(q,{variant:"ghost",size:"sm",className:"h-10 w-10 rounded-lg bg-primary/10 hover:bg-primary/20 border border-primary/20",children:n.jsx(ds,{className:"h-8 w-8",children:n.jsx(us,{className:"bg-primary text-primary-foreground font-medium",children:f.initials})})})}),n.jsxs(Pr,{className:"w-80 p-0 surface-4dp border-border/50",align:"end",sideOffset:8,children:[n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(ds,{className:"h-12 w-12",children:n.jsx(us,{className:"bg-primary text-primary-foreground font-medium text-lg",children:f.initials})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-medium text-foreground truncate",children:f.name}),n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:f.email}),n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(Ln,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:f.organization})]})]})]})}),n.jsx(nr,{}),n.jsx("div",{className:"py-2",children:u.map((v,y)=>{if(v.type==="separator")return n.jsx(nr,{className:"my-2"},y);if(v.type==="section")return n.jsx("div",{className:"px-3 py-2",children:n.jsx("h5",{className:"font-medium text-foreground text-sm",children:v.label})},y);const x=v.icon;return n.jsxs("button",{onClick:()=>p(v),className:`
                  w-full flex items-center justify-between px-3 py-2 text-sm
                  transition-colors hover:bg-accent hover:text-accent-foreground
                  focus:bg-accent focus:text-accent-foreground focus:outline-none
                  ${v.destructive?"text-destructive hover:bg-destructive/10":"text-foreground"}
                  ${v.beta?"opacity-70":""}
                `,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[x&&n.jsx(x,{className:"h-4 w-4 flex-shrink-0"}),n.jsx("span",{className:"text-left",children:v.label}),v.beta&&n.jsx(ne,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-4 font-normal text-muted-foreground border-muted-foreground/30",children:"Beta"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[v.externalLink&&n.jsx(rr,{className:"h-3 w-3 text-muted-foreground"}),v.hasSubmenu&&n.jsx($t,{className:"h-4 w-4 text-muted-foreground"})]})]},y)})})]})]})}function tl({title:a,theme:e,onThemeToggle:t,onLogout:r,userEmail:s}){return n.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-sm border-b border-border",style:{paddingTop:"max(env(safe-area-inset-top), 12px)"},children:n.jsxs("div",{className:"h-14 px-4 flex items-center justify-between",children:[n.jsx("h1",{className:"text-lg font-semibold text-foreground truncate flex-1",children:a}),n.jsx(ho,{onLogout:r,theme:e,onThemeToggle:t,userEmail:s})]})})}function rl({activeTab:a,onTabChange:e,badges:t}){const r=[{id:"home",icon:zn,label:"Home"},{id:"clients",icon:dr,label:"Clients",badge:t?.clients},{id:"aps",icon:ur,label:"APs",badge:t?.aps},{id:"apps",icon:cr,label:"Apps",badge:t?.apps}];return n.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50",style:{height:"calc(56px + env(safe-area-inset-bottom))",paddingBottom:"env(safe-area-inset-bottom)"},children:n.jsx("div",{className:"h-14 flex items-stretch",children:r.map(s=>{const i=s.icon,l=a===s.id;return n.jsxs("button",{onClick:()=>e(s.id),className:`
                flex-1 flex flex-col items-center justify-center gap-0.5 relative
                min-h-[44px] transition-colors
                ${l?"text-primary":"text-muted-foreground"}
              `,"aria-label":s.label,"aria-current":l?"page":void 0,children:[n.jsxs("div",{className:"relative",children:[n.jsx(i,{className:`h-5 w-5 ${l?"stroke-[2.5]":"stroke-2"}`}),s.badge!==void 0&&s.badge>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-4 min-w-[16px] px-1 bg-destructive text-destructive-foreground text-[10px] font-bold rounded-full flex items-center justify-center",children:s.badge>99?"99+":s.badge})]}),n.jsx("span",{className:`text-[10px] font-medium ${l?"font-semibold":""}`,children:s.label})]},s.id)})})})}function yt({icon:a,label:e,value:t,trend:r,badge:s,status:i,onClick:l}){const c={good:"border-green-500/20 bg-green-500/5",warning:"border-yellow-500/20 bg-yellow-500/5",critical:"border-red-500/20 bg-red-500/5"},d={up:Un,down:qn,neutral:Mn},h={up:"text-green-500",down:"text-red-500",neutral:"text-muted-foreground"},f=r?d[r.direction]:null;return n.jsxs("button",{onClick:l,className:`
        relative flex flex-col items-start p-4 rounded-xl border-2
        transition-all active:scale-95 min-h-[120px]
        ${i?c[i]:"border-border bg-card"}
        ${l?"cursor-pointer":"cursor-default"}
      `,style:{minHeight:"120px",minWidth:"100%"},children:[s!==void 0&&s>0&&n.jsx("span",{className:"absolute top-2 right-2 h-6 min-w-[24px] px-2 bg-destructive text-destructive-foreground text-xs font-bold rounded-full flex items-center justify-center",children:s>99?"99+":s}),n.jsx("div",{className:"mb-2",children:n.jsx(a,{className:"h-6 w-6 text-primary",strokeWidth:2})}),n.jsx("div",{className:"text-3xl font-bold text-foreground mb-1",children:t}),n.jsxs("div",{className:"flex items-center justify-between w-full mt-auto",children:[n.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:e}),r&&f&&n.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${h[r.direction]}`,children:[n.jsx(f,{className:"h-3 w-3"}),n.jsx("span",{children:r.value})]})]})]})}function sl({score:a,onClick:e}){const r=(d=>d>=90?{label:"Excellent",color:"text-green-500",icon:Bn}:d>=70?{label:"Good",color:"text-blue-500",icon:qe}:d>=50?{label:"Fair",color:"text-yellow-500",icon:pr}:{label:"Poor",color:"text-red-500",icon:Ls})(a),s=r.icon,i=70,l=2*Math.PI*i,c=l-a/100*l;return n.jsx("button",{onClick:e,className:`
        relative w-full p-6 rounded-xl border-2 bg-card
        transition-all active:scale-95
        ${e?"cursor-pointer":"cursor-default"}
        border-border
      `,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative w-40 h-40",children:[n.jsxs("svg",{className:"transform -rotate-90 w-40 h-40",children:[n.jsx("circle",{cx:"80",cy:"80",r:i,stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-muted"}),n.jsx("circle",{cx:"80",cy:"80",r:i,stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:l,strokeDashoffset:c,className:`${r.color} transition-all duration-1000`,strokeLinecap:"round"})]}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[n.jsx(s,{className:`h-8 w-8 mb-1 ${r.color}`}),n.jsx("span",{className:`text-4xl font-bold ${r.color}`,children:a})]})]}),n.jsxs("div",{className:"mt-4 text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Network Experience"}),n.jsx("p",{className:`text-lg font-semibold mt-1 ${r.color}`,children:r.label})]})]})})}function kr({isOpen:a,onClose:e,title:t,children:r}){const[s,i]=g.useState(0),[l,c]=g.useState(0);g.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]);const d=u=>{i(u.targetTouches[0].clientY)},h=u=>{c(u.targetTouches[0].clientY)},f=()=>{s-l<-50&&e(),i(0),c(0)};return a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] animate-in fade-in duration-200",onClick:e}),n.jsxs("div",{className:"fixed inset-x-0 bottom-0 z-[70] bg-background rounded-t-2xl shadow-2xl animate-in slide-in-from-bottom duration-300",style:{maxHeight:"90vh",paddingBottom:"env(safe-area-inset-bottom)"},onTouchStart:d,onTouchMove:h,onTouchEnd:f,children:[n.jsx("div",{className:"flex justify-center pt-3 pb-2",children:n.jsx("div",{className:"w-12 h-1 bg-muted-foreground/30 rounded-full"})}),n.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground truncate flex-1",children:t}),n.jsx(q,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0 flex-shrink-0",children:n.jsx(dt,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(90vh - 120px)"},children:r})]})]}):null}function ol({...a}){return n.jsx(Vo,{"data-slot":"select",...a})}function nl({...a}){return n.jsx(Yo,{"data-slot":"select-value",...a})}function al({className:a,size:e="default",children:t,...r}){return n.jsxs(Ho,{"data-slot":"select-trigger","data-size":e,className:C("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...r,children:[t,n.jsx(Jo,{asChild:!0,children:n.jsx(Xe,{className:"size-4 opacity-50"})})]})}function il({className:a,children:e,position:t="popper",...r}){return n.jsx(Qo,{children:n.jsxs(Xo,{"data-slot":"select-content",className:C("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:t,...r,children:[n.jsx(ll,{}),n.jsx(Ko,{className:C("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),n.jsx(cl,{})]})})}function hs({className:a,children:e,...t}){return n.jsxs(Zo,{"data-slot":"select-item",className:C("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...t,children:[n.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:n.jsx(en,{children:n.jsx(Wn,{className:"size-4"})})}),n.jsx(tn,{children:e})]})}function ll({className:a,...e}){return n.jsx(rn,{"data-slot":"select-scroll-up-button",className:C("flex cursor-default items-center justify-center py-1",a),...e,children:n.jsx(fr,{className:"size-4"})})}function cl({className:a,...e}){return n.jsx(sn,{"data-slot":"select-scroll-down-button",className:C("flex cursor-default items-center justify-center py-1",a),...e,children:n.jsx(Xe,{className:"size-4"})})}function ht(){const a=e=>{"vibrate"in navigator&&navigator.vibrate(e)};return{light:()=>a(10),medium:()=>a(20),heavy:()=>a(30),success:()=>a([10,50,10]),warning:()=>a([10,100,10,100,10]),error:()=>a([20,100,20])}}function ct(a,e,t=3e4){const[r,s]=g.useState(null),[i,l]=g.useState(!0),[c,d]=g.useState(null),[h,f]=g.useState(!navigator.onLine),[u,p]=g.useState(null),v=g.useRef(e);v.current=e,g.useEffect(()=>{const x=localStorage.getItem(`cache_${a}`);if(x)try{const A=JSON.parse(x);s(A.data),p(new Date(A.timestamp))}catch(A){console.error("Failed to parse cache:",A)}},[a]),g.useEffect(()=>{const x=()=>f(!1),A=()=>f(!0);return window.addEventListener("online",x),window.addEventListener("offline",A),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",A)}},[]);const y=g.useCallback(async()=>{if(!navigator.onLine){d("Offline - showing cached data"),l(!1);return}try{l(!0),d(null);const x=await v.current();s(x),p(new Date);const A={timestamp:Date.now(),data:x};localStorage.setItem(`cache_${a}`,JSON.stringify(A))}catch(x){const A=x instanceof Error?x.message:"Failed to fetch data";if(d(A),!r){const I=localStorage.getItem(`cache_${a}`);if(I)try{const R=JSON.parse(I);s(R.data),p(new Date(R.timestamp))}catch(R){console.error("Failed to parse cache:",R)}}}finally{l(!1)}},[a]);return g.useEffect(()=>{if(y(),t>0){const x=setInterval(y,t);return()=>clearInterval(x)}},[a,t,y]),{data:r,loading:i,error:c,isOffline:h,lastUpdated:u,refresh:y}}function dl({currentSite:a,onSiteChange:e,onNavigate:t}){const r=ht(),[s,i]=g.useState([]),[l,c]=g.useState({clients:{total:0},aps:{total:0,online:0,offline:0},apps:{total:0},issues:0,healthScore:0}),[d,h]=g.useState(!1),[f,u]=g.useState(!1),[p,v]=g.useState([]),{data:y,loading:x,error:A,isOffline:I,lastUpdated:R,refresh:m}=ct(`stats_${a}`,async()=>{console.log("[MobileHome] Fetching stats for site:",a);const[b,S,N]=await Promise.all([B.getStations(),B.getAccessPoints(),B.getApplications().catch(()=>[])]);console.log("[MobileHome] Raw data - clients:",b?.length,"aps:",S?.length,"apps:",N?.length);const z=a==="all"?b:b.filter(O=>O.siteId===a||O.site===a||O.siteName===a),E=a==="all"?S:S.filter(O=>O.siteId===a||O.site===a||O.hostSite===a);console.log("[MobileHome] Filtered - clients:",z?.length,"aps:",E?.length);const G=O=>{const he=(O.status||O.connectionState||O.operationalState||O.state||"").toLowerCase();return he==="inservice"||he.includes("up")||he.includes("online")||he.includes("connected")||O.isUp===!0||O.online===!0||!he&&O.isUp!==!1&&O.online!==!1},J=E.filter(G),te=E.filter(O=>!G(O)),T=J.length,H=te.length,re=E.length>0?T/E.length*100:100,Z=H,ee=Math.round(re*.7+(Z===0?30:Math.max(0,30-Z*10)));return{clients:{total:z.length},aps:{total:E.length,online:T,offline:H},apps:{total:N.length},issues:Z,healthScore:ee,offlineAPs:te}},3e4);g.useEffect(()=>{y&&(c(y),v(y.offlineAPs||[]))},[y]),g.useEffect(()=>{(async()=>{try{const S=await B.getSites();i(Array.isArray(S)?S:[]);const N=localStorage.getItem("mobile_last_site");N&&S.some(z=>z.siteId===N)&&e(N)}catch(S){console.error("Failed to load sites:",S)}})()},[]);const k=b=>{r.light(),localStorage.setItem("mobile_last_site",b),e(b)},F=async()=>{r.medium(),h(!0),await m(),setTimeout(()=>{h(!1),r.success()},500)},$=b=>{r.light(),t(b)},w=()=>{r.light(),u(!0)};return n.jsxs("div",{className:"p-4 space-y-4 pb-24",children:[I&&n.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg flex items-center gap-2",children:[n.jsx(Ue,{className:"h-5 w-5 text-yellow-500 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm text-yellow-500 font-medium",children:"Offline Mode"}),R&&n.jsxs("p",{className:"text-xs text-yellow-500/70",children:["Last updated ",new Date(R).toLocaleTimeString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ol,{value:a,onValueChange:k,children:[n.jsx(al,{className:"flex-1 h-12 text-base",children:n.jsx(nl,{placeholder:"Select site"})}),n.jsxs(il,{children:[n.jsx(hs,{value:"all",children:"All Sites"}),s.map(b=>n.jsx(hs,{value:b.siteId,children:b.displayName||b.name||b.siteName},b.siteId))]})]}),n.jsx(q,{variant:"outline",size:"icon",onClick:F,disabled:d||x,className:"h-12 w-12 flex-shrink-0",children:n.jsx(ir,{className:`h-5 w-5 ${d||x?"animate-spin":""}`})})]}),x&&!y&&n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"}),n.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading stats..."})]}),A&&!y&&n.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:[n.jsxs("p",{className:"text-sm text-red-500",children:["Failed to load stats: ",A]}),n.jsx(q,{variant:"outline",size:"sm",onClick:F,className:"mt-2",children:"Retry"})]}),n.jsx(sl,{score:l.healthScore}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(yt,{icon:dr,label:"Clients",value:l.clients.total,trend:l.clients.trend,onClick:()=>$("clients")}),n.jsx(yt,{icon:ur,label:"Access Points",value:`${l.aps.online}/${l.aps.total}`,status:l.aps.offline>0?l.aps.offline>2?"critical":"warning":"good",badge:l.aps.offline,trend:l.aps.trend,onClick:()=>$("aps")}),n.jsx(yt,{icon:Ue,label:"Issues",value:l.issues,status:l.issues>0?l.issues>2?"critical":"warning":"good",badge:l.issues,onClick:w}),n.jsx(yt,{icon:cr,label:"Applications",value:l.apps.total,trend:l.apps.trend,onClick:()=>$("apps")})]}),n.jsx(kr,{isOpen:f,onClose:()=>u(!1),title:"Network Issues",children:n.jsx("div",{className:"p-4 space-y-3",children:p.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ue,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),n.jsx("p",{className:"text-lg font-semibold text-foreground",children:"No Issues Found"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All access points are operating normally"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"pb-2",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.length," offline access point",p.length!==1?"s":""]})}),p.map(b=>n.jsx("div",{className:"p-3 rounded-lg border border-red-500/20 bg-red-500/5",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-foreground truncate",children:b.displayName||b.name||b.serialNumber||"Unknown AP"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.serialNumber||"No serial number"}),b.ipAddress&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["IP: ",b.ipAddress]})]}),n.jsx("div",{className:"flex-shrink-0 ml-3",children:n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-500/10 text-red-500",children:"Offline"})})]})},b.serialNumber||b.macAddress))]})})})]})}function ps({className:a,...e}){return n.jsx("div",{"data-slot":"skeleton",className:C("bg-accent animate-pulse rounded-md",a),...e})}function jr({children:a,loading:e,loadingRows:t=5,emptyMessage:r="No items found"}){return e?n.jsx("div",{className:"space-y-2",children:Array.from({length:t}).map((s,i)=>n.jsxs("div",{className:"p-4 bg-card rounded-lg border border-border",children:[n.jsx(ps,{className:"h-5 w-3/4 mb-2"}),n.jsx(ps,{className:"h-4 w-1/2"})]},i))}):!a||Array.isArray(a)&&a.length===0?n.jsx("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:r})}):n.jsx("div",{className:"space-y-2",children:a})}function Rr({primaryText:a,secondaryText:e,status:t,indicator:r,onClick:s,rightContent:i}){const l={online:"text-green-500",offline:"text-red-500",warning:"text-yellow-500"},c=s?"button":"div";return n.jsxs(c,{onClick:s,className:`
        w-full p-4 bg-card rounded-lg border border-border
        flex items-center gap-3 min-h-[72px]
        ${s?"active:bg-accent transition-colors cursor-pointer":""}
      `,children:[r&&n.jsx(Gn,{className:`h-2.5 w-2.5 fill-current flex-shrink-0 ${l[r]}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-base font-medium text-foreground truncate",children:a}),t&&n.jsx(ne,{variant:t.variant,className:"text-[10px] px-1.5 py-0 h-5",children:t.label})]}),n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:e})]}),i||s&&n.jsx($t,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"})]})}function ul({currentSite:a}){const e=ht(),[t,r]=g.useState(""),[s,i]=g.useState("all"),[l,c]=g.useState("all"),[d,h]=g.useState(!1),[f,u]=g.useState(null),{data:p,loading:v}=ct(`clients_${a}`,async()=>{const m=await B.getStations();return a==="all"?m:m.filter(k=>k.siteId===a||k.site===a||k.siteName===a)},3e4),y=m=>m==null?"unknown":m>=-60?"good":m>=-75?"fair":"poor",x=g.useMemo(()=>p?p.filter(m=>{if(t){const k=t.toLowerCase();if(!(m.hostName?.toLowerCase().includes(k)||m.macAddress?.toLowerCase().includes(k)||m.ipAddress?.toLowerCase().includes(k)||m.apName?.toLowerCase().includes(k)))return!1}if(s!=="all"){const k=m.connectionState?.toLowerCase()==="connected"||m.status?.toLowerCase()==="connected"||m.status?.toLowerCase()==="associated"||m.status?.toLowerCase()==="active";if(s==="online"&&!k||s==="offline"&&k)return!1}return!(l!=="all"&&y(m.rssi)!==l)}):[],[p,t,s,l]),A=m=>{e.light(),u(m)},I=()=>{e.light(),r(""),i("all"),c("all")},R=(s!=="all"?1:0)+(l!=="all"?1:0)+(t?1:0);return n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"p-4 space-y-3 border-b border-border sticky top-0 bg-background z-10",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Be,{type:"search",placeholder:"Search clients...",value:t,onChange:m=>r(m.target.value),className:"pl-10 h-11"})]}),n.jsxs(q,{variant:d?"default":"outline",size:"icon",onClick:()=>{e.light(),h(!d)},className:"h-11 w-11 relative flex-shrink-0",children:[n.jsx(_s,{className:"h-5 w-5"}),R>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-primary text-primary-foreground text-[10px] font-bold rounded-full flex items-center justify-center",children:R})]})]}),d&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(ne,{variant:s==="all"?"outline":"default",className:"cursor-pointer",onClick:()=>{e.light(),i(s==="all"?"online":s==="online"?"offline":"all")},children:s==="all"?"All Status":s==="online"?"Online":"Offline"}),n.jsx(ne,{variant:l==="all"?"outline":"default",className:"cursor-pointer",onClick:()=>{e.light(),c(l==="all"?"good":l==="good"?"fair":l==="fair"?"poor":"all")},children:l==="all"?"All Signals":l.charAt(0).toUpperCase()+l.slice(1)}),R>0&&n.jsxs(q,{variant:"ghost",size:"sm",onClick:I,className:"h-6 px-2",children:[n.jsx(dt,{className:"h-3 w-3 mr-1"}),"Clear"]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.length," client",x.length!==1?"s":"",R>0&&` (filtered from ${p?.length||0})`]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:n.jsx(jr,{loading:v,emptyMessage:"No clients found",children:x.map(m=>{const k=m.connectionState?.toLowerCase()==="connected"||m.status?.toLowerCase()==="connected"||m.status?.toLowerCase()==="associated"||m.status?.toLowerCase()==="active",F=m.band||m.radioBand||m.frequency||"—",$=m.rssi?`${m.rssi} dBm`:"—";return n.jsx(Rr,{primaryText:m.hostName||m.hostname||m.macAddress||"Unknown Client",secondaryText:`${F} • ${$}`,status:{label:k?"Online":"Offline",variant:k?"success":"destructive"},indicator:k?"online":"offline",onClick:()=>A(m)},m.macAddress)})})}),n.jsx(kr,{isOpen:!!f,onClose:()=>u(null),title:f?.hostName||f?.hostname||f?.macAddress||"Client Details",children:f&&n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname"}),n.jsx("p",{className:"text-base font-medium",children:f.hostName||f.hostname||"—"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Device Info"}),n.jsx("p",{className:"text-base font-medium",children:f.manufacturer||f.deviceType||"—"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"MAC Address"}),n.jsx("p",{className:"text-base font-medium font-mono",children:f.macAddress})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"IP Address"}),n.jsx("p",{className:"text-base font-medium",children:f.ipAddress||"—"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"User & Network"}),n.jsx("p",{className:"text-base font-medium",children:f.username||"—"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.networkName||f.ssid||"—"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Access Point"}),n.jsx("p",{className:"text-base font-medium",children:f.apName||f.apDisplayName||"—"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Band"}),n.jsx("p",{className:"text-base font-medium",children:f.band||f.radioBand||f.frequency||"—"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Signal Strength"}),n.jsx("p",{className:"text-base font-medium",children:f.rssi?`${f.rssi} dBm`:"—"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx("p",{className:"text-base font-medium",children:f.status||f.connectionState||"—"})]})]})})]})}function hl({currentSite:a}){const e=ht(),[t,r]=g.useState(""),[s,i]=g.useState("all"),[l,c]=g.useState(!1),[d,h]=g.useState(null),[f,u]=g.useState({}),{data:p,loading:v}=ct(`aps_${a}`,async()=>{const w=await B.getAccessPoints();return a==="all"?w:w.filter(b=>b.siteId===a||b.site===a||b.hostSite===a)},3e4),{data:y}=ct(`clients_${a}`,async()=>{const w=await B.getStations();return a==="all"?w:w.filter(b=>b.siteId===a||b.site===a||b.siteName===a)},3e4);g.useEffect(()=>{if(!y||!p)return;const w={};p.forEach(b=>{const S=b.serialNumber||b.name||b.displayName;S&&(w[S]=0)}),y.forEach(b=>{const S=b.apSerialNumber||b.apName||b.apSerial;if(S&&w[S]!==void 0&&w[S]++,b.apName){const N=p.find(z=>z.name===b.apName||z.displayName===b.apName);if(N){const z=N.serialNumber||N.name||N.displayName;z&&(w[z]=(w[z]||0)+1)}}}),u(w)},[y,p]);const x=w=>{const b=(w.status||w.connectionState||w.operationalState||w.state||"").toLowerCase();return b==="inservice"||b.includes("up")||b.includes("online")||b.includes("connected")||w.isUp===!0||w.online===!0||!b&&w.isUp!==!1&&w.online!==!1},A=w=>{const b=w.serialNumber||w.name||w.displayName;return b&&(f[b]||w.clientCount||w.clients||w.numClients)||0},I=w=>!!(w.gpsAnchor===!0||w.anchorLocSrc==="GPS"||w.radios&&Array.isArray(w.radios)&&w.radios.some(S=>S.afc===!0)||w.pwrMode==="SP"||w.afcAnchor===!0||w.isAfcAnchor===!0),R=g.useMemo(()=>p?p.filter(w=>{if(t){const b=t.toLowerCase();if(!(w.displayName?.toLowerCase().includes(b)||w.name?.toLowerCase().includes(b)||w.serialNumber?.toLowerCase().includes(b)||w.macAddress?.toLowerCase().includes(b)||w.ipAddress?.toLowerCase().includes(b)))return!1}if(s!=="all"){const b=x(w);if(s==="online"&&!b||s==="offline"&&b)return!1}return!0}):[],[p,t,s]),m=w=>{e.light(),h(w)},k=()=>{e.light(),r(""),i("all")},F=(s!=="all"?1:0)+(t?1:0),$=g.useMemo(()=>{if(!p)return{total:0,online:0,offline:0};const w=p.filter(x).length;return{total:p.length,online:w,offline:p.length-w}},[p]);return n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"p-4 space-y-3 border-b border-border sticky top-0 bg-background z-10",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Be,{type:"search",placeholder:"Search APs...",value:t,onChange:w=>r(w.target.value),className:"pl-9 h-11"})]}),n.jsxs(q,{variant:l?"default":"outline",size:"icon",onClick:()=>{e.light(),c(!l)},className:"h-11 w-11 relative flex-shrink-0",children:[n.jsx(_s,{className:"h-5 w-5"}),F>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-primary text-primary-foreground text-[10px] font-bold rounded-full flex items-center justify-center",children:F})]})]}),l&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(ne,{variant:s==="all"?"outline":"default",className:"cursor-pointer",onClick:()=>{e.light(),i(s==="all"?"online":s==="online"?"offline":"all")},children:s==="all"?"All Status":s==="online"?"Online":"Offline"}),F>0&&n.jsxs(q,{variant:"ghost",size:"sm",onClick:k,className:"h-6 px-2",children:[n.jsx(dt,{className:"h-3 w-3 mr-1"}),"Clear"]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[n.jsxs("span",{className:"text-muted-foreground",children:[R.length," AP",R.length!==1?"s":""]}),n.jsxs("span",{className:"text-green-500 font-medium",children:[$.online," online"]}),$.offline>0&&n.jsxs("span",{className:"text-red-500 font-medium",children:[$.offline," offline"]})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:n.jsx(jr,{loading:v,emptyMessage:"No access points found",children:R.map(w=>{const b=x(w),S=A(w),N=I(w);let z=w.band||w.radioType;if(!z&&w.radios&&w.radios.length>0){const G=w.radios.map(J=>J.band||J.frequency).filter(J=>J).filter((J,te,T)=>T.indexOf(J)===te);z=G.length>0?G.join("/"):null}const E=z||(w.model||w.hardwareType?"Dual":"Unknown");return n.jsx(Rr,{primaryText:w.displayName||w.name||w.serialNumber||"Unknown AP",secondaryText:`${S} client${S!==1?"s":""} • ${E}${N?" • AFC":""}`,status:{label:b?"Online":"Offline",variant:b?"success":"destructive"},indicator:b?"online":"offline",rightContent:N?n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Gr,{className:"h-5 w-5 text-blue-500",title:"AFC Anchor"})}):void 0,onClick:()=>m(w)},w.serialNumber||w.macAddress)})})}),n.jsx(kr,{isOpen:!!d,onClose:()=>h(null),title:d?.displayName||d?.name||"AP Details",children:d&&n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Serial Number"}),n.jsx("p",{className:"text-base font-medium",children:d.serialNumber||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"MAC Address"}),n.jsx("p",{className:"text-base font-medium",children:d.macAddress||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"IP Address"}),n.jsx("p",{className:"text-base font-medium",children:d.ipAddress||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx("p",{className:"text-base font-medium",children:x(d)?"Online":"Offline"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connected Clients"}),n.jsx("p",{className:"text-base font-medium",children:A(d)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Band"}),n.jsx("p",{className:"text-base font-medium",children:d.band||d.radioType||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Model"}),n.jsx("p",{className:"text-base font-medium",children:d.model||d.deviceType||"N/A"})]}),I(d)&&n.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-500",children:"AFC Anchor"}),n.jsx("p",{className:"text-xs text-blue-500/70",children:"6 GHz Standard Power enabled"})]})]})})]})})]})}function pl({currentSite:a}){const e=ht(),[t,r]=g.useState(""),{data:s,loading:i,error:l,refresh:c}=ct(`apps_${a}`,async()=>{console.log("[MobileAppsList] Fetching applications...");const f=await B.getApplications();return console.log("[MobileAppsList] Received apps data:",f),console.log("[MobileAppsList] Apps count:",Array.isArray(f)?f.length:0),Array.isArray(f)?f:[]},6e4);g.useEffect(()=>{console.log("[MobileAppsList] State update - apps:",s,"loading:",i,"error:",l)},[s,i,l]);const d=f=>f?f>=1e9?`${(f/1e9).toFixed(1)} GB`:f>=1e6?`${(f/1e6).toFixed(1)} MB`:f>=1e3?`${(f/1e3).toFixed(1)} KB`:`${f} B`:"N/A",h=g.useMemo(()=>{if(!s)return[];let f=s;if(t){const u=t.toLowerCase();f=f.filter(p=>p.name?.toLowerCase().includes(u)||p.category?.toLowerCase().includes(u))}return f.sort((u,p)=>{const v=u.bytes||u.totalBytes||0;return(p.bytes||p.totalBytes||0)-v}).slice(0,50)},[s,t]);return n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"p-4 space-y-3 border-b border-border sticky top-0 bg-background z-10",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Be,{type:"search",placeholder:"Search applications...",value:t,onChange:f=>r(f.target.value),className:"pl-9 h-11"})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length," application",h.length!==1?"s":"",t&&s&&` (filtered from ${s.length})`]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:n.jsx(jr,{loading:i,emptyMessage:"",children:h.length===0&&!i?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center px-4",children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:l?"Unable to load applications. The application manager may not be configured or available.":s?.length===0?"No applications are currently installed or available.":"No applications match your search."}),n.jsxs(q,{variant:"outline",size:"sm",onClick:()=>{e.light(),c()},children:[n.jsx(ir,{className:"h-4 w-4 mr-2"}),"Retry"]})]}):h.map((f,u)=>{const p=d(f.bytes||f.totalBytes),v=f.clientCount||f.clients||0;return n.jsx(Rr,{primaryText:f.name||"Unknown Application",secondaryText:`${p} • ${v} client${v!==1?"s":""}`,status:f.category?{label:f.category,variant:"default"}:void 0,rightContent:n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Rank"}),n.jsxs("div",{className:"text-sm font-semibold",children:["#",u+1]})]})},f.name||u)})})})]})}function fl({theme:a,onThemeToggle:e,onLogout:t,userEmail:r,currentSite:s,onSiteChange:i}){const l=ht(),[c,d]=g.useState("home"),[h,f]=g.useState({}),u=x=>{l.light(),d(x)},p=x=>{l.light(),d(x)},v=()=>{switch(c){case"home":return"Wireless Status";case"clients":return"Clients";case"aps":return"Access Points";case"apps":return"Applications";default:return"Wireless Status"}},y=()=>{switch(c){case"home":return n.jsx(dl,{currentSite:s,onSiteChange:i,onNavigate:p});case"clients":return n.jsx(ul,{currentSite:s});case"aps":return n.jsx(hl,{currentSite:s});case"apps":return n.jsx(pl,{currentSite:s});default:return null}};return n.jsx(Mi,{children:n.jsxs("div",{className:"flex flex-col h-screen",children:[n.jsx(tl,{title:v(),theme:a,onThemeToggle:e,onLogout:t,userEmail:r}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:y()}),n.jsx(rl,{activeTab:c,onTabChange:u,badges:h})]})})}const Nr=g.forwardRef(({...a},e)=>n.jsx(on,{"data-slot":"sheet",ref:e,...a}));Nr.displayName="Sheet";const po=g.forwardRef(({...a},e)=>n.jsx(nn,{"data-slot":"sheet-trigger",ref:e,...a}));po.displayName="SheetTrigger";const gl=g.forwardRef(({...a},e)=>n.jsx(Rs,{"data-slot":"sheet-close",ref:e,...a}));gl.displayName="SheetClose";const fo=g.forwardRef(({...a},e)=>n.jsx(an,{"data-slot":"sheet-portal",ref:e,...a}));fo.displayName="SheetPortal";const go=g.forwardRef(({className:a,...e},t)=>n.jsx(ln,{"data-slot":"sheet-overlay",ref:t,className:C("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...e}));go.displayName="SheetOverlay";const Cr=g.forwardRef(({className:a,children:e,side:t="right",...r},s)=>n.jsxs(fo,{children:[n.jsx(go,{}),n.jsxs(cn,{"data-slot":"sheet-content",ref:s,className:C("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",a),...r,children:[e,n.jsxs(Rs,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[n.jsx(dt,{className:"size-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cr.displayName="SheetContent";const Er=g.forwardRef(({className:a,...e},t)=>n.jsx("div",{"data-slot":"sheet-header",ref:t,className:C("flex flex-col gap-1.5 p-4",a),...e}));Er.displayName="SheetHeader";const ml=g.forwardRef(({className:a,...e},t)=>n.jsx("div",{"data-slot":"sheet-footer",ref:t,className:C("mt-auto flex flex-col gap-2 p-4",a),...e}));ml.displayName="SheetFooter";const $r=g.forwardRef(({className:a,...e},t)=>n.jsx(dn,{"data-slot":"sheet-title",ref:t,className:C("text-foreground font-semibold",a),...e}));$r.displayName="SheetTitle";const Tr=g.forwardRef(({className:a,...e},t)=>n.jsx(un,{"data-slot":"sheet-description",ref:t,className:C("text-muted-foreground text-sm",a),...e}));Tr.displayName="SheetDescription";function Xt({isOpen:a,onClose:e,title:t,description:r,children:s,width:i="2xl"}){const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl"};return n.jsx(Nr,{open:a,onOpenChange:e,modal:!1,children:n.jsxs(Cr,{side:"right",className:`${l[i]} w-full p-0 flex flex-col`,onInteractOutside:c=>c.preventDefault(),children:[n.jsx(Er,{className:"px-6 py-4 border-b border-border",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx($r,{className:"text-lg font-semibold truncate",children:t}),r&&n.jsx(Tr,{className:"mt-1 text-sm text-muted-foreground",children:r})]})})}),n.jsx("div",{className:"flex-1 overflow-auto px-6 py-4",children:s})]})})}function Kt({title:a,description:e}){return n.jsx("div",{className:"space-y-6",children:n.jsxs(zt,{children:[n.jsx(vr,{children:n.jsxs(wr,{className:"flex items-center space-x-2",children:[n.jsx(Vn,{className:"h-5 w-5"}),n.jsx("span",{children:"Coming Soon"})]})}),n.jsx(yr,{children:n.jsx("p",{className:"text-muted-foreground",children:"This section will be implemented as we add functionality piece by piece. For now, you can use the API Test Tool to explore the available endpoints and test the Extreme Platform ONE API."})})]})})}class Fe extends g.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background p-4",children:n.jsxs(zt,{className:"max-w-2xl w-full",children:[n.jsxs(vr,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ue,{className:"h-6 w-6 text-destructive"}),n.jsx(wr,{children:"Something went wrong"})]}),n.jsx(Vs,{children:"An unexpected error occurred. Please try refreshing the page."})]}),n.jsxs(yr,{className:"space-y-4",children:[this.state.error&&n.jsxs("div",{className:"rounded-md bg-destructive/10 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-destructive mb-2",children:"Error Details:"}),n.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:this.state.error.toString()})]}),!1,n.jsxs("div",{className:"flex gap-2",children:[n.jsx(q,{onClick:this.handleReset,variant:"outline",children:"Try Again"}),n.jsx(q,{onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})]})}):this.props.children}}class vl{collectionInterval=null;dataStore=[];MAX_DATA_POINTS=1e4;COLLECTION_INTERVAL_MS=6e4;POOR_RSSI_THRESHOLD=-70;isCollecting=!1;listeners=new Set;constructor(){this.loadDataFromStorage()}startCollection(){if(this.collectionInterval){console.log("SLE data collection already running");return}console.log("Starting SLE data collection (every 1 minute)"),this.isCollecting=!0,this.collectData(),this.collectionInterval=window.setInterval(()=>{this.collectData()},this.COLLECTION_INTERVAL_MS)}stopCollection(){this.collectionInterval&&(console.log("Stopping SLE data collection"),clearInterval(this.collectionInterval),this.collectionInterval=null,this.isCollecting=!1)}isCollectionActive(){return this.isCollecting}async collectData(){try{if(!B.isAuthenticated()){console.log("[SLE Collection] Skipping collection - not authenticated");return}console.log("[SLE Collection] Fetching client data...");const e=await B.makeAuthenticatedRequest("/v1/stations",{method:"GET"});if(!e.ok){console.warn("[SLE Collection] Failed to fetch stations:",e.status);return}const t=await e.json(),r=Array.isArray(t)?t:t.stations||t.clients||t.data||[];if(!Array.isArray(r)||r.length===0){console.log("[SLE Collection] No clients found");return}console.log(`[SLE Collection] Processing ${r.length} clients`);const s=this.calculateSiteMetrics(r),i=Date.now(),l=[];if(s.forEach((c,d)=>{c.wirelessClients>0&&l.push(...this.generateWirelessMetrics(c,i)),c.wiredClients>0&&l.push(...this.generateWiredMetrics(c,i)),l.push(...this.generateOrganizationMetrics(c,i))}),this.dataStore.push(...l),this.dataStore.length>this.MAX_DATA_POINTS){const c=this.dataStore.length-this.MAX_DATA_POINTS;this.dataStore.splice(0,c),console.log(`[SLE Collection] Trimmed ${c} old data points`)}this.saveDataToStorage(),this.notifyListeners(),console.log(`[SLE Collection] Collected ${l.length} data points from ${s.size} sites`)}catch(e){console.error("[SLE Collection] Error collecting data:",e)}}calculateSiteMetrics(e){const t=new Map,r=new Map;return e.forEach(s=>{const i=s.siteId||"unknown";r.has(i)||r.set(i,[]),r.get(i).push(s)}),r.forEach((s,i)=>{const l=s.filter(m=>!m.isWired),c=s.filter(m=>m.isWired),d=l.map(m=>m.rssi).filter(m=>m!=null),h=d.length>0?d.reduce((m,k)=>m+k,0)/d.length:0,f=l.map(m=>m.snr).filter(m=>m!=null),u=f.length>0?f.reduce((m,k)=>m+k,0)/f.length:0,p=s.map(m=>m.txRate).filter(m=>m!=null),v=p.length>0?p.reduce((m,k)=>m+k,0)/p.length:0,y=s.map(m=>m.rxRate).filter(m=>m!=null),x=y.length>0?y.reduce((m,k)=>m+k,0)/y.length:0,A=l.filter(m=>m.rssi!==void 0&&m.rssi<this.POOR_RSSI_THRESHOLD).length,I=(v+x)/2,R=s[0]?.siteName||`Site ${i}`;t.set(i,{siteId:i,siteName:R,totalClients:s.length,wirelessClients:l.length,wiredClients:c.length,avgRssi:h,avgSnr:u,avgTxRate:v,avgRxRate:x,poorSignalCount:A,totalThroughput:I,timestamp:Date.now()})}),t}generateWirelessMetrics(e,t){const r=[],s=e.wirelessClients>0?e.poorSignalCount/e.wirelessClients*100:0;r.push({metric_key:"coverage",scope:"wireless",site_id:e.siteId,site_name:e.siteName,timestamp:t,value:parseFloat(s.toFixed(2)),unit:"percent_poor_coverage"}),r.push({metric_key:"throughput",scope:"wireless",site_id:e.siteId,site_name:e.siteName,timestamp:t,value:parseFloat(e.totalThroughput.toFixed(2)),unit:"Mbps"});const i=Math.max(0,Math.min(100,100-e.wirelessClients*2));r.push({metric_key:"capacity",scope:"wireless",site_id:e.siteId,site_name:e.siteName,timestamp:t,value:parseFloat(i.toFixed(2)),unit:"percent_available_channel_capacity"});const l=95+Math.random()*4;r.push({metric_key:"successful_connects",scope:"wireless",site_id:e.siteId,site_name:e.siteName,timestamp:t,value:parseFloat(l.toFixed(2)),unit:"percent_success"});let c=3;e.avgRssi>-50?c=1.5:e.avgRssi>-60?c=2:e.avgRssi>-70?c=3:c=5,r.push({metric_key:"time_to_connect",scope:"wireless",site_id:e.siteId,site_name:e.siteName,timestamp:t,value:parseFloat(c.toFixed(2)),unit:"seconds"});const d=e.avgRssi>-70?95+Math.random()*5:80+Math.random()*10;r.push({metric_key:"ap_health",scope:"wireless",site_id:e.siteId,site_name:e.siteName,timestamp:t,value:parseFloat(d.toFixed(2)),unit:"percent_healthy"});const h=e.poorSignalCount>0?Math.min(5,1+e.poorSignalCount/e.wirelessClients*3):1;return r.push({metric_key:"roaming",scope:"wireless",site_id:e.siteId,site_name:e.siteName,timestamp:t,value:parseFloat(h.toFixed(2)),unit:"severity_score_1_to_5"}),r}generateWiredMetrics(e,t){const r=[];r.push({metric_key:"throughput",scope:"wired",site_id:e.siteId,site_name:e.siteName,timestamp:t,value:parseFloat(e.totalThroughput.toFixed(2)),unit:"Mbps"});const s=92+Math.random()*7;r.push({metric_key:"switch_health",scope:"wired",site_id:e.siteId,site_name:e.siteName,timestamp:t,value:parseFloat(s.toFixed(2)),unit:"percent_healthy"});const i=96+Math.random()*3;return r.push({metric_key:"successful_connects",scope:"wired",site_id:e.siteId,site_name:e.siteName,timestamp:t,value:parseFloat(i.toFixed(2)),unit:"percent_success"}),r}generateOrganizationMetrics(e,t){return[]}getData(){return[...this.dataStore]}getFilteredData(e){let t=[...this.dataStore];return e.siteId&&e.siteId!=="all"&&(t=t.filter(r=>r.site_id===e.siteId)),e.scope&&(t=t.filter(r=>r.scope===e.scope)),e.metricKeys&&e.metricKeys.length>0&&(t=t.filter(r=>e.metricKeys.includes(r.metric_key))),e.startTimestamp&&(t=t.filter(r=>r.timestamp>=e.startTimestamp)),e.endTimestamp&&(t=t.filter(r=>r.timestamp<=e.endTimestamp)),t}clearData(){this.dataStore=[],this.saveDataToStorage(),this.notifyListeners(),console.log("[SLE Collection] Data cleared")}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}notifyListeners(){this.listeners.forEach(e=>{try{e()}catch(t){console.error("[SLE Collection] Error in listener:",t)}})}saveDataToStorage(){try{localStorage.setItem("sle_data_points",JSON.stringify(this.dataStore))}catch(e){console.error("[SLE Collection] Failed to save data to localStorage:",e)}}loadDataFromStorage(){try{const e=localStorage.getItem("sle_data_points");e&&(this.dataStore=JSON.parse(e),console.log(`[SLE Collection] Loaded ${this.dataStore.length} data points from storage`))}catch(e){console.error("[SLE Collection] Failed to load data from localStorage:",e),this.dataStore=[]}}getStats(){const e=new Set(this.dataStore.map(s=>s.site_id)),t=this.dataStore.length>0?Math.min(...this.dataStore.map(s=>s.timestamp)):0,r=this.dataStore.length>0?Math.max(...this.dataStore.map(s=>s.timestamp)):0;return{totalDataPoints:this.dataStore.length,sitesMonitored:e.size,oldestDataPoint:t?new Date(t):null,newestDataPoint:r?new Date(r):null,isCollecting:this.isCollecting,collectionInterval:this.COLLECTION_INTERVAL_MS/1e3+" seconds"}}}const Zt=new vl;var wl=(a,e,t,r,s,i,l,c)=>{let d=document.documentElement,h=["light","dark"];function f(v){(Array.isArray(a)?a:[a]).forEach(y=>{let x=y==="class",A=x&&i?s.map(I=>i[I]||I):s;x?(d.classList.remove(...A),d.classList.add(i&&i[v]?i[v]:v)):d.setAttribute(y,v)}),u(v)}function u(v){c&&h.includes(v)&&(d.style.colorScheme=v)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let v=localStorage.getItem(e)||t,y=l&&v==="system"?p():v;f(y)}catch{}},yl=g.createContext(void 0),xl={setTheme:a=>{},themes:[]},bl=()=>{var a;return(a=g.useContext(yl))!=null?a:xl};g.memo(({forcedTheme:a,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:l,themes:c,nonce:d,scriptProps:h})=>{let f=JSON.stringify([t,e,i,a,c,l,r,s]).slice(1,-1);return g.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${wl.toString()})(${f})`}})});function Al(a){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a))}const Pl=a=>{switch(a){case"success":return kl;case"info":return Rl;case"warning":return jl;case"error":return Nl;default:return null}},Sl=Array(12).fill(0),Il=({visible:a,className:e})=>j.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":a},j.createElement("div",{className:"sonner-spinner"},Sl.map((t,r)=>j.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kl=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jl=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Rl=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Nl=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Cl=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},j.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),j.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),El=()=>{const[a,e]=j.useState(document.hidden);return j.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),a};let ar=1;class $l{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ar++,l=this.toasts.find(d=>d.id===i),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:r}),{...d,...e,id:i,dismissible:c,title:r}):d):this.addToast({title:r,...s,dismissible:c,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,l;const c=s.then(async h=>{if(l=["resolve",h],j.isValidElement(h))i=!1,this.create({id:r,type:"default",message:h});else if(Fl(h)&&!h.ok){i=!1;const u=typeof t.error=="function"?await t.error(`HTTP error! status: ${h.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${h.status}`):t.description,y=typeof u=="object"&&!j.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:p,...y})}else if(h instanceof Error){i=!1;const u=typeof t.error=="function"?await t.error(h):t.error,p=typeof t.description=="function"?await t.description(h):t.description,y=typeof u=="object"&&!j.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:p,...y})}else if(t.success!==void 0){i=!1;const u=typeof t.success=="function"?await t.success(h):t.success,p=typeof t.description=="function"?await t.description(h):t.description,y=typeof u=="object"&&!j.isValidElement(u)?u:{message:u};this.create({id:r,type:"success",description:p,...y})}}).catch(async h=>{if(l=["reject",h],t.error!==void 0){i=!1;const f=typeof t.error=="function"?await t.error(h):t.error,u=typeof t.description=="function"?await t.description(h):t.description,v=typeof f=="object"&&!j.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:u,...v})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((h,f)=>c.then(()=>l[0]==="reject"?f(l[1]):h(l[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,t)=>{const r=t?.id||ar++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ue=new $l,Tl=(a,e)=>{const t=e?.id||ar++;return ue.addToast({title:a,...e,id:t}),t},Fl=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",Ll=Tl,_l=()=>ue.toasts,Dl=()=>ue.getActiveToasts(),Ye=Object.assign(Ll,{success:ue.success,info:ue.info,warning:ue.warning,error:ue.error,custom:ue.custom,message:ue.message,promise:ue.promise,dismiss:ue.dismiss,loading:ue.loading},{getHistory:_l,getToasts:Dl});Al("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function xt(a){return a.label!==void 0}const Ol=3,zl="24px",Ml="16px",fs=4e3,ql=356,Ul=14,Bl=45,Wl=200;function Pe(...a){return a.filter(Boolean).join(" ")}function Gl(a){const[e,t]=a.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const Vl=a=>{var e,t,r,s,i,l,c,d,h;const{invert:f,toast:u,unstyled:p,interacting:v,setHeights:y,visibleToasts:x,heights:A,index:I,toasts:R,expanded:m,removeToast:k,defaultRichColors:F,closeButton:$,style:w,cancelButtonStyle:b,actionButtonStyle:S,className:N="",descriptionClassName:z="",duration:E,position:G,gap:J,expandByDefault:te,classNames:T,icons:H,closeButtonAriaLabel:re="Close toast"}=a,[Z,ee]=j.useState(null),[O,he]=j.useState(null),[U,Q]=j.useState(!1),[K,de]=j.useState(!1),[Re,Y]=j.useState(!1),[L,V]=j.useState(!1),[ce,pe]=j.useState(!1),[Oe,rt]=j.useState(0),[Ge,st]=j.useState(0),Ne=j.useRef(u.duration||E||fs),ot=j.useRef(null),fe=j.useRef(null),nt=I===0,M=I+1<=x,P=u.type,oe=u.dismissible!==!1,ge=u.className||"",Wt=u.descriptionClassName||"",pt=j.useMemo(()=>A.findIndex(_=>_.toastId===u.id)||0,[A,u.id]),No=j.useMemo(()=>{var _;return(_=u.closeButton)!=null?_:$},[u.closeButton,$]),Dr=j.useMemo(()=>u.duration||E||fs,[u.duration,E]),Gt=j.useRef(0),Ve=j.useRef(0),Or=j.useRef(0),He=j.useRef(null),[Co,Eo]=G.split("-"),zr=j.useMemo(()=>A.reduce((_,ae,le)=>le>=pt?_:_+ae.height,0),[A,pt]),Mr=El(),$o=u.invert||f,Vt=P==="loading";Ve.current=j.useMemo(()=>pt*J+zr,[pt,zr]),j.useEffect(()=>{Ne.current=Dr},[Dr]),j.useEffect(()=>{Q(!0)},[]),j.useEffect(()=>{const _=fe.current;if(_){const ae=_.getBoundingClientRect().height;return st(ae),y(le=>[{toastId:u.id,height:ae,position:u.position},...le]),()=>y(le=>le.filter(me=>me.toastId!==u.id))}},[y,u.id]),j.useLayoutEffect(()=>{if(!U)return;const _=fe.current,ae=_.style.height;_.style.height="auto";const le=_.getBoundingClientRect().height;_.style.height=ae,st(le),y(me=>me.find(ie=>ie.toastId===u.id)?me.map(ie=>ie.toastId===u.id?{...ie,height:le}:ie):[{toastId:u.id,height:le,position:u.position},...me])},[U,u.title,u.description,y,u.id,u.jsx,u.action,u.cancel]);const Ce=j.useCallback(()=>{de(!0),rt(Ve.current),y(_=>_.filter(ae=>ae.toastId!==u.id)),setTimeout(()=>{k(u)},Wl)},[u,k,y,Ve]);j.useEffect(()=>{if(u.promise&&P==="loading"||u.duration===1/0||u.type==="loading")return;let _;return m||v||Mr?(()=>{if(Or.current<Gt.current){const me=new Date().getTime()-Gt.current;Ne.current=Ne.current-me}Or.current=new Date().getTime()})():(()=>{Ne.current!==1/0&&(Gt.current=new Date().getTime(),_=setTimeout(()=>{u.onAutoClose==null||u.onAutoClose.call(u,u),Ce()},Ne.current))})(),()=>clearTimeout(_)},[m,v,u,P,Mr,Ce]),j.useEffect(()=>{u.delete&&(Ce(),u.onDismiss==null||u.onDismiss.call(u,u))},[Ce,u.delete]);function To(){var _;if(H?.loading){var ae;return j.createElement("div",{className:Pe(T?.loader,u==null||(ae=u.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":P==="loading"},H.loading)}return j.createElement(Il,{className:Pe(T?.loader,u==null||(_=u.classNames)==null?void 0:_.loader),visible:P==="loading"})}const Fo=u.icon||H?.[P]||Pl(P);var qr,Ur;return j.createElement("li",{tabIndex:0,ref:fe,className:Pe(N,ge,T?.toast,u==null||(e=u.classNames)==null?void 0:e.toast,T?.default,T?.[P],u==null||(t=u.classNames)==null?void 0:t[P]),"data-sonner-toast":"","data-rich-colors":(qr=u.richColors)!=null?qr:F,"data-styled":!(u.jsx||u.unstyled||p),"data-mounted":U,"data-promise":!!u.promise,"data-swiped":ce,"data-removed":K,"data-visible":M,"data-y-position":Co,"data-x-position":Eo,"data-index":I,"data-front":nt,"data-swiping":Re,"data-dismissible":oe,"data-type":P,"data-invert":$o,"data-swipe-out":L,"data-swipe-direction":O,"data-expanded":!!(m||te&&U),"data-testid":u.testId,style:{"--index":I,"--toasts-before":I,"--z-index":R.length-I,"--offset":`${K?Oe:Ve.current}px`,"--initial-height":te?"auto":`${Ge}px`,...w,...u.style},onDragEnd:()=>{Y(!1),ee(null),He.current=null},onPointerDown:_=>{_.button!==2&&(Vt||!oe||(ot.current=new Date,rt(Ve.current),_.target.setPointerCapture(_.pointerId),_.target.tagName!=="BUTTON"&&(Y(!0),He.current={x:_.clientX,y:_.clientY})))},onPointerUp:()=>{var _,ae,le;if(L||!oe)return;He.current=null;const me=Number(((_=fe.current)==null?void 0:_.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ft=Number(((ae=fe.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ie=new Date().getTime()-((le=ot.current)==null?void 0:le.getTime()),we=Z==="x"?me:ft,gt=Math.abs(we)/ie;if(Math.abs(we)>=Bl||gt>.11){rt(Ve.current),u.onDismiss==null||u.onDismiss.call(u,u),he(Z==="x"?me>0?"right":"left":ft>0?"down":"up"),Ce(),V(!0);return}else{var be,Ae;(be=fe.current)==null||be.style.setProperty("--swipe-amount-x","0px"),(Ae=fe.current)==null||Ae.style.setProperty("--swipe-amount-y","0px")}pe(!1),Y(!1),ee(null)},onPointerMove:_=>{var ae,le,me;if(!He.current||!oe||((ae=window.getSelection())==null?void 0:ae.toString().length)>0)return;const ie=_.clientY-He.current.y,we=_.clientX-He.current.x;var gt;const be=(gt=a.swipeDirections)!=null?gt:Gl(G);!Z&&(Math.abs(we)>1||Math.abs(ie)>1)&&ee(Math.abs(we)>Math.abs(ie)?"x":"y");let Ae={x:0,y:0};const Br=ze=>1/(1.5+Math.abs(ze)/20);if(Z==="y"){if(be.includes("top")||be.includes("bottom"))if(be.includes("top")&&ie<0||be.includes("bottom")&&ie>0)Ae.y=ie;else{const ze=ie*Br(ie);Ae.y=Math.abs(ze)<Math.abs(ie)?ze:ie}}else if(Z==="x"&&(be.includes("left")||be.includes("right")))if(be.includes("left")&&we<0||be.includes("right")&&we>0)Ae.x=we;else{const ze=we*Br(we);Ae.x=Math.abs(ze)<Math.abs(we)?ze:we}(Math.abs(Ae.x)>0||Math.abs(Ae.y)>0)&&pe(!0),(le=fe.current)==null||le.style.setProperty("--swipe-amount-x",`${Ae.x}px`),(me=fe.current)==null||me.style.setProperty("--swipe-amount-y",`${Ae.y}px`)}},No&&!u.jsx&&P!=="loading"?j.createElement("button",{"aria-label":re,"data-disabled":Vt,"data-close-button":!0,onClick:Vt||!oe?()=>{}:()=>{Ce(),u.onDismiss==null||u.onDismiss.call(u,u)},className:Pe(T?.closeButton,u==null||(r=u.classNames)==null?void 0:r.closeButton)},(Ur=H?.close)!=null?Ur:Cl):null,(P||u.icon||u.promise)&&u.icon!==null&&(H?.[P]!==null||u.icon)?j.createElement("div",{"data-icon":"",className:Pe(T?.icon,u==null||(s=u.classNames)==null?void 0:s.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||To():null,u.type!=="loading"?Fo:null):null,j.createElement("div",{"data-content":"",className:Pe(T?.content,u==null||(i=u.classNames)==null?void 0:i.content)},j.createElement("div",{"data-title":"",className:Pe(T?.title,u==null||(l=u.classNames)==null?void 0:l.title)},u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title),u.description?j.createElement("div",{"data-description":"",className:Pe(z,Wt,T?.description,u==null||(c=u.classNames)==null?void 0:c.description)},typeof u.description=="function"?u.description():u.description):null),j.isValidElement(u.cancel)?u.cancel:u.cancel&&xt(u.cancel)?j.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||b,onClick:_=>{xt(u.cancel)&&oe&&(u.cancel.onClick==null||u.cancel.onClick.call(u.cancel,_),Ce())},className:Pe(T?.cancelButton,u==null||(d=u.classNames)==null?void 0:d.cancelButton)},u.cancel.label):null,j.isValidElement(u.action)?u.action:u.action&&xt(u.action)?j.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||S,onClick:_=>{xt(u.action)&&(u.action.onClick==null||u.action.onClick.call(u.action,_),!_.defaultPrevented&&Ce())},className:Pe(T?.actionButton,u==null||(h=u.classNames)==null?void 0:h.actionButton)},u.action.label):null)};function gs(){if(typeof window>"u"||typeof document>"u")return"ltr";const a=document.documentElement.getAttribute("dir");return a==="auto"||!a?window.getComputedStyle(document.documentElement).direction:a}function Hl(a,e){const t={};return[a,e].forEach((r,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",c=i?Ml:zl;function d(h){["top","right","bottom","left"].forEach(f=>{t[`${l}-${f}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?t[`${l}-${h}`]=c:t[`${l}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(c)}),t}const Jl=j.forwardRef(function(e,t){const{id:r,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:h,offset:f,mobileOffset:u,theme:p="light",richColors:v,duration:y,style:x,visibleToasts:A=Ol,toastOptions:I,dir:R=gs(),gap:m=Ul,icons:k,containerAriaLabel:F="Notifications"}=e,[$,w]=j.useState([]),b=j.useMemo(()=>r?$.filter(U=>U.toasterId===r):$.filter(U=>!U.toasterId),[$,r]),S=j.useMemo(()=>Array.from(new Set([i].concat(b.filter(U=>U.position).map(U=>U.position)))),[b,i]),[N,z]=j.useState([]),[E,G]=j.useState(!1),[J,te]=j.useState(!1),[T,H]=j.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=j.useRef(null),Z=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=j.useRef(null),O=j.useRef(!1),he=j.useCallback(U=>{w(Q=>{var K;return(K=Q.find(de=>de.id===U.id))!=null&&K.delete||ue.dismiss(U.id),Q.filter(({id:de})=>de!==U.id)})},[]);return j.useEffect(()=>ue.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{w(Q=>Q.map(K=>K.id===U.id?{...K,delete:!0}:K))});return}setTimeout(()=>{hn.flushSync(()=>{w(Q=>{const K=Q.findIndex(de=>de.id===U.id);return K!==-1?[...Q.slice(0,K),{...Q[K],...U},...Q.slice(K+1)]:[U,...Q]})})})}),[$]),j.useEffect(()=>{if(p!=="system"){H(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:Q})=>{H(Q?"dark":"light")})}catch{U.addListener(({matches:K})=>{try{H(K?"dark":"light")}catch(de){console.error(de)}})}},[p]),j.useEffect(()=>{$.length<=1&&G(!1)},[$]),j.useEffect(()=>{const U=Q=>{var K;if(l.every(Y=>Q[Y]||Q.code===Y)){var Re;G(!0),(Re=re.current)==null||Re.focus()}Q.code==="Escape"&&(document.activeElement===re.current||(K=re.current)!=null&&K.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[l]),j.useEffect(()=>{if(re.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,O.current=!1)}},[re.current]),j.createElement("section",{ref:t,"aria-label":`${F} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((U,Q)=>{var K;const[de,Re]=U.split("-");return b.length?j.createElement("ol",{key:U,dir:R==="auto"?gs():R,tabIndex:-1,ref:re,className:h,"data-sonner-toaster":!0,"data-sonner-theme":T,"data-y-position":de,"data-x-position":Re,style:{"--front-toast-height":`${((K=N[0])==null?void 0:K.height)||0}px`,"--width":`${ql}px`,"--gap":`${m}px`,...x,...Hl(f,u)},onBlur:Y=>{O.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(O.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||O.current||(O.current=!0,ee.current=Y.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{J||G(!1)},onDragEnd:()=>G(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},b.filter(Y=>!Y.position&&Q===0||Y.position===U).map((Y,L)=>{var V,ce;return j.createElement(Vl,{key:Y.id,icons:k,index:L,toast:Y,defaultRichColors:v,duration:(V=I?.duration)!=null?V:y,className:I?.className,descriptionClassName:I?.descriptionClassName,invert:s,visibleToasts:A,closeButton:(ce=I?.closeButton)!=null?ce:d,interacting:J,position:U,style:I?.style,unstyled:I?.unstyled,classNames:I?.classNames,cancelButtonStyle:I?.cancelButtonStyle,actionButtonStyle:I?.actionButtonStyle,closeButtonAriaLabel:I?.closeButtonAriaLabel,removeToast:he,toasts:b.filter(pe=>pe.position==Y.position),heights:N.filter(pe=>pe.position==Y.position),setHeights:z,expandByDefault:c,gap:m,expanded:E,swipeDirections:e.swipeDirections})})):null}))}),Yl=({...a})=>{const{theme:e="system"}=bl();return n.jsx(Jl,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...a})},Ql=[{id:"mobility-engine-mgmt",name:"EDGE Management",description:"Full-featured management dashboard for EDGE platform",isActive:!0,icon:qe,url:"https://tsophiea.ddns.net:443/management"},{id:"extremecloud-iq-legacy",name:"ExtremeCloud IQ (Legacy)",description:"Classic network management and monitoring",isActive:!1,icon:Cs,url:"https://cal.extremecloudiq.com/login"},{id:"extreme-cloud-health-status",name:"Extreme Cloud Health Status",description:"Real-time service status and health monitoring",isActive:!1,isBeta:!0,icon:qe,url:"https://cloud-status.extremecloudiq.com/"},{id:"extreme-keyai",name:"Extreme KeyAI",description:"AI-powered Personal Pre-Shared Key management with advanced facial recognition and real-time connection monitoring",isActive:!1,isBeta:!0,icon:$s,url:"https://keyai.extremecloudiq.com/"},{id:"xiq-edge-migration",name:"XIQ Edge Migration",description:"Automated migration tool for transitioning Edge Services configurations from XIQ to Extreme Platform ONE",isActive:!1,icon:Hn,url:"https://xiq-migration.up.railway.app/"}],Xl=(a,e)=>{if(a.isActive){e(!1);return}a.url&&window.open(a.url,"_blank","noopener,noreferrer"),e(!1)};function Kl(){const[a,e]=g.useState(!1),t=Ys();return n.jsxs(br,{open:a,onOpenChange:e,children:[n.jsx(Ar,{asChild:!0,children:n.jsx(q,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 flex items-center justify-center",title:"Platform information",children:n.jsx("div",{className:"grid grid-cols-3 gap-0.5",children:Array.from({length:9}).map((r,s)=>n.jsx("div",{className:"w-1 h-1 bg-current rounded-full opacity-60"},s))})})}),n.jsx(Pr,{className:"w-72 p-0 surface-4dp border-border/50",align:"end",sideOffset:8,children:n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"mb-4",children:n.jsx("h3",{className:"font-medium text-foreground",children:"Apps"})}),n.jsx("div",{className:"space-y-2",children:Ql.map(r=>n.jsxs("div",{className:`
                  group p-3 rounded-lg cursor-pointer transition-all duration-200 relative overflow-hidden
                  ${r.isActive?"bg-primary/5 border-2 border-primary/30 shadow-sm":"hover:bg-accent/30 border border-transparent hover:shadow-sm"}
                `,onClick:()=>Xl(r,e),children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[n.jsx("div",{className:`
                      p-1.5 rounded-md flex-shrink-0 transition-colors
                      ${r.isActive?"bg-primary/10 text-primary":"bg-muted/50 text-muted-foreground group-hover:text-foreground"}
                    `,children:n.jsx(r.icon,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start gap-2 mb-1.5",children:[n.jsx("h4",{className:`
                          font-medium transition-colors text-sm leading-tight flex-1
                          ${r.isActive?"text-primary":"text-foreground group-hover:text-foreground"}
                        `,children:r.name}),r.isNew&&n.jsx(ne,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-secondary/10 text-secondary border-secondary/20 font-medium flex-shrink-0 mt-0.5",children:"NEW"}),r.isBeta&&n.jsx(ne,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-blue-500/10 text-blue-500 border-blue-500/20 font-medium flex-shrink-0 mt-0.5",children:"BETA"})]}),n.jsx("p",{className:"text-xs text-muted-foreground leading-snug",children:r.description})]})]}),!r.isActive&&n.jsx(rr,{className:"h-3.5 w-3.5 text-muted-foreground ml-2 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]}),r.isActive&&n.jsx("div",{className:"absolute top-2.5 right-2.5 w-1.5 h-1.5 bg-primary rounded-full"})]},r.id))}),n.jsx("div",{className:"mt-4 pt-3 border-t border-border/50",children:n.jsx("div",{className:"text-xs text-muted-foreground text-center",children:t.name})})]})})]})}function Zl({className:a,...e}){return n.jsx(pn,{"data-slot":"tabs",className:C("flex flex-col gap-2",a),...e})}function ec({className:a,...e}){return n.jsx(fn,{"data-slot":"tabs-list",className:C("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",a),...e})}function bt({className:a,...e}){return n.jsx(gn,{"data-slot":"tabs-trigger",className:C("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...e})}function At({className:a,...e}){return n.jsx(mn,{"data-slot":"tabs-content",className:C("flex-1 outline-none",a),...e})}function tc(a,e){return g.useReducer((t,r)=>e[t][r]??t,a)}var Fr="ScrollArea",[mo]=ks(Fr),[rc,xe]=mo(Fr),vo=g.forwardRef((a,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...l}=a,[c,d]=g.useState(null),[h,f]=g.useState(null),[u,p]=g.useState(null),[v,y]=g.useState(null),[x,A]=g.useState(null),[I,R]=g.useState(0),[m,k]=g.useState(0),[F,$]=g.useState(!1),[w,b]=g.useState(!1),S=_e(e,z=>d(z)),N=vn(s);return n.jsx(rc,{scope:t,type:r,dir:N,scrollHideDelay:i,scrollArea:c,viewport:h,onViewportChange:f,content:u,onContentChange:p,scrollbarX:v,onScrollbarXChange:y,scrollbarXEnabled:F,onScrollbarXEnabledChange:$,scrollbarY:x,onScrollbarYChange:A,scrollbarYEnabled:w,onScrollbarYEnabledChange:b,onCornerWidthChange:R,onCornerHeightChange:k,children:n.jsx(We.div,{dir:N,...l,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":I+"px","--radix-scroll-area-corner-height":m+"px",...a.style}})})});vo.displayName=Fr;var wo="ScrollAreaViewport",yo=g.forwardRef((a,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=a,l=xe(wo,t),c=g.useRef(null),d=_e(e,c,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(We.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...a.style},children:n.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});yo.displayName=wo;var Ie="ScrollAreaScrollbar",xo=g.forwardRef((a,e)=>{const{forceMount:t,...r}=a,s=xe(Ie,a.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,c=a.orientation==="horizontal";return g.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),s.type==="hover"?n.jsx(sc,{...r,ref:e,forceMount:t}):s.type==="scroll"?n.jsx(oc,{...r,ref:e,forceMount:t}):s.type==="auto"?n.jsx(bo,{...r,ref:e,forceMount:t}):s.type==="always"?n.jsx(Lr,{...r,ref:e}):null});xo.displayName=Ie;var sc=g.forwardRef((a,e)=>{const{forceMount:t,...r}=a,s=xe(Ie,a.__scopeScrollArea),[i,l]=g.useState(!1);return g.useEffect(()=>{const c=s.scrollArea;let d=0;if(c){const h=()=>{window.clearTimeout(d),l(!0)},f=()=>{d=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),n.jsx(et,{present:t||i,children:n.jsx(bo,{"data-state":i?"visible":"hidden",...r,ref:e})})}),oc=g.forwardRef((a,e)=>{const{forceMount:t,...r}=a,s=xe(Ie,a.__scopeScrollArea),i=a.orientation==="horizontal",l=Bt(()=>d("SCROLL_END"),100),[c,d]=tc("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,s.scrollHideDelay,d]),g.useEffect(()=>{const h=s.viewport,f=i?"scrollLeft":"scrollTop";if(h){let u=h[f];const p=()=>{const v=h[f];u!==v&&(d("SCROLL"),l()),u=v};return h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[s.viewport,i,d,l]),n.jsx(et,{present:t||c!=="hidden",children:n.jsx(Lr,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ye(a.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ye(a.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),bo=g.forwardRef((a,e)=>{const t=xe(Ie,a.__scopeScrollArea),{forceMount:r,...s}=a,[i,l]=g.useState(!1),c=a.orientation==="horizontal",d=Bt(()=>{if(t.viewport){const h=t.viewport.offsetWidth<t.viewport.scrollWidth,f=t.viewport.offsetHeight<t.viewport.scrollHeight;l(c?h:f)}},10);return Ze(t.viewport,d),Ze(t.content,d),n.jsx(et,{present:r||i,children:n.jsx(Lr,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Lr=g.forwardRef((a,e)=>{const{orientation:t="vertical",...r}=a,s=xe(Ie,a.__scopeScrollArea),i=g.useRef(null),l=g.useRef(0),[c,d]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=ko(c.viewport,c.content),f={...r,sizes:c,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:p=>l.current=p};function u(p,v){return dc(p,l.current,c,v)}return t==="horizontal"?n.jsx(nc,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,v=ms(p,c,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=u(p,s.dir))}}):t==="vertical"?n.jsx(ac,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,v=ms(p,c);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=u(p))}}):null}),nc=g.forwardRef((a,e)=>{const{sizes:t,onSizesChange:r,...s}=a,i=xe(Ie,a.__scopeScrollArea),[l,c]=g.useState(),d=g.useRef(null),h=_e(e,d,i.onScrollbarXChange);return g.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(Po,{"data-orientation":"horizontal",...s,ref:h,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ut(t)+"px",...a.style},onThumbPointerDown:f=>a.onThumbPointerDown(f.x),onDragScroll:f=>a.onDragScroll(f.x),onWheelScroll:(f,u)=>{if(i.viewport){const p=i.viewport.scrollLeft+f.deltaX;a.onWheelScroll(p),Ro(p,u)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:_t(l.paddingLeft),paddingEnd:_t(l.paddingRight)}})}})}),ac=g.forwardRef((a,e)=>{const{sizes:t,onSizesChange:r,...s}=a,i=xe(Ie,a.__scopeScrollArea),[l,c]=g.useState(),d=g.useRef(null),h=_e(e,d,i.onScrollbarYChange);return g.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(Po,{"data-orientation":"vertical",...s,ref:h,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ut(t)+"px",...a.style},onThumbPointerDown:f=>a.onThumbPointerDown(f.y),onDragScroll:f=>a.onDragScroll(f.y),onWheelScroll:(f,u)=>{if(i.viewport){const p=i.viewport.scrollTop+f.deltaY;a.onWheelScroll(p),Ro(p,u)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:_t(l.paddingTop),paddingEnd:_t(l.paddingBottom)}})}})}),[ic,Ao]=mo(Ie),Po=g.forwardRef((a,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:f,onResize:u,...p}=a,v=xe(Ie,t),[y,x]=g.useState(null),A=_e(e,S=>x(S)),I=g.useRef(null),R=g.useRef(""),m=v.viewport,k=r.content-r.viewport,F=Le(f),$=Le(d),w=Bt(u,10);function b(S){if(I.current){const N=S.clientX-I.current.left,z=S.clientY-I.current.top;h({x:N,y:z})}}return g.useEffect(()=>{const S=N=>{const z=N.target;y?.contains(z)&&F(N,k)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[m,y,k,F]),g.useEffect($,[r,$]),Ze(y,w),Ze(v.content,w),n.jsx(ic,{scope:t,scrollbar:y,hasThumb:s,onThumbChange:Le(i),onThumbPointerUp:Le(l),onThumbPositionChange:$,onThumbPointerDown:Le(c),children:n.jsx(We.div,{...p,ref:A,style:{position:"absolute",...p.style},onPointerDown:ye(a.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),I.current=y.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),b(S))}),onPointerMove:ye(a.onPointerMove,b),onPointerUp:ye(a.onPointerUp,S=>{const N=S.target;N.hasPointerCapture(S.pointerId)&&N.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=R.current,v.viewport&&(v.viewport.style.scrollBehavior=""),I.current=null})})})}),Lt="ScrollAreaThumb",So=g.forwardRef((a,e)=>{const{forceMount:t,...r}=a,s=Ao(Lt,a.__scopeScrollArea);return n.jsx(et,{present:t||s.hasThumb,children:n.jsx(lc,{ref:e,...r})})}),lc=g.forwardRef((a,e)=>{const{__scopeScrollArea:t,style:r,...s}=a,i=xe(Lt,t),l=Ao(Lt,t),{onThumbPositionChange:c}=l,d=_e(e,u=>l.onThumbChange(u)),h=g.useRef(void 0),f=Bt(()=>{h.current&&(h.current(),h.current=void 0)},100);return g.useEffect(()=>{const u=i.viewport;if(u){const p=()=>{if(f(),!h.current){const v=uc(u,c);h.current=v,c()}};return c(),u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,f,c]),n.jsx(We.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ye(a.onPointerDownCapture,u=>{const v=u.target.getBoundingClientRect(),y=u.clientX-v.left,x=u.clientY-v.top;l.onThumbPointerDown({x:y,y:x})}),onPointerUp:ye(a.onPointerUp,l.onThumbPointerUp)})});So.displayName=Lt;var _r="ScrollAreaCorner",Io=g.forwardRef((a,e)=>{const t=xe(_r,a.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?n.jsx(cc,{...a,ref:e}):null});Io.displayName=_r;var cc=g.forwardRef((a,e)=>{const{__scopeScrollArea:t,...r}=a,s=xe(_r,t),[i,l]=g.useState(0),[c,d]=g.useState(0),h=!!(i&&c);return Ze(s.scrollbarX,()=>{const f=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(f),d(f)}),Ze(s.scrollbarY,()=>{const f=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(f),l(f)}),h?n.jsx(We.div,{...r,ref:e,style:{width:i,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...a.style}}):null});function _t(a){return a?parseInt(a,10):0}function ko(a,e){const t=a/e;return isNaN(t)?0:t}function Ut(a){const e=ko(a.viewport,a.content),t=a.scrollbar.paddingStart+a.scrollbar.paddingEnd,r=(a.scrollbar.size-t)*e;return Math.max(r,18)}function dc(a,e,t,r="ltr"){const s=Ut(t),i=s/2,l=e||i,c=s-l,d=t.scrollbar.paddingStart+l,h=t.scrollbar.size-t.scrollbar.paddingEnd-c,f=t.content-t.viewport,u=r==="ltr"?[0,f]:[f*-1,0];return jo([d,h],u)(a)}function ms(a,e,t="ltr"){const r=Ut(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,l=e.content-e.viewport,c=i-r,d=t==="ltr"?[0,l]:[l*-1,0],h=wn(a,d);return jo([0,l],[0,c])(h)}function jo(a,e){return t=>{if(a[0]===a[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(a[1]-a[0]);return e[0]+r*(t-a[0])}}function Ro(a,e){return a>0&&a<e}var uc=(a,e=()=>{})=>{let t={left:a.scrollLeft,top:a.scrollTop},r=0;return(function s(){const i={left:a.scrollLeft,top:a.scrollTop},l=t.left!==i.left,c=t.top!==i.top;(l||c)&&e(),t=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Bt(a,e){const t=Le(a),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Ze(a,e){const t=Le(e);Nt(()=>{let r=0;if(a){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(a),()=>{window.cancelAnimationFrame(r),s.unobserve(a)}}},[a,t])}var hc=vo,pc=yo,fc=Io;function gc({className:a,children:e,...t}){return n.jsxs(hc,{"data-slot":"scroll-area",className:C("relative",a),...t,children:[n.jsx(pc,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),n.jsx(mc,{}),n.jsx(fc,{})]})}function mc({className:a,orientation:e="vertical",...t}){return n.jsx(xo,{"data-slot":"scroll-area-scrollbar",orientation:e,className:C("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",a),...t,children:n.jsx(So,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const vc=a=>{switch(a){case"critical":return n.jsx(pr,{className:"h-4 w-4 text-destructive"});case"non-critical":return n.jsx(Ue,{className:"h-4 w-4 text-warning"});case"information":return n.jsx(Et,{className:"h-4 w-4 text-info"});default:return n.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})}},wc=a=>{switch(a){case"critical":return"Critical";case"non-critical":return"Non-Critical";case"information":return"Information";default:return"Unknown"}};function yc(){const[a,e]=g.useState(!1),[t,r]=g.useState(""),[s,i]=g.useState([]),[l,c]=g.useState(!1),d=s.filter(w=>!w.isRead).length,h=s.length,f=s.filter(w=>w.type==="critical").length,u=s.filter(w=>w.type==="non-critical").length,p=s.filter(w=>w.type==="information").length;g.useEffect(()=>{v()},[]);const v=async()=>{c(!0);try{const w=await y(),b=await x(),S=await A(),N=[...w,...b,...S];i(N)}catch{i([])}finally{c(!1)}},y=async()=>{try{const w=await B.makeAuthenticatedRequest("/v1/alerts",{method:"GET"},5e3);if(!w.ok)throw new Error(`Failed to fetch alerts: ${w.status}`);const b=await w.json();return Array.isArray(b)?b.map((S,N)=>({id:S.id||`alert-${N}`,type:S.severity==="high"?"critical":S.severity==="medium"?"non-critical":"information",title:S.title||S.name||"Alert",message:S.description||S.message||"System alert notification",timestamp:S.timestamp?I(S.timestamp):"Recent",isRead:S.acknowledged||!1})):[]}catch{return[]}},x=async()=>{try{const w=await B.makeAuthenticatedRequest("/v1/events",{method:"GET"},5e3);if(!w.ok)throw new Error(`Failed to fetch events: ${w.status}`);const b=await w.json();return Array.isArray(b)?b.slice(0,10).map((S,N)=>({id:S.id||`event-${N}`,type:"information",title:S.title||S.type||"System Event",message:S.description||S.message||"System event notification",timestamp:S.timestamp?I(S.timestamp):"Recent",isRead:!0})):[]}catch{return[]}},A=async()=>{try{const w=await B.makeAuthenticatedRequest("/v1/notifications",{method:"GET"},5e3);if(!w.ok)throw new Error(`Failed to fetch notifications: ${w.status}`);const b=await w.json();return Array.isArray(b)?b.map((S,N)=>({id:S.id||`notification-${N}`,type:S.type||"information",title:S.title||"Notification",message:S.message||S.description||"System notification",timestamp:S.timestamp?I(S.timestamp):"Recent",isRead:S.isRead||S.read||!1})):[]}catch{return[]}},I=w=>{try{const b=new Date(w),N=new Date().getTime()-b.getTime(),z=Math.floor(N/6e4),E=Math.floor(N/36e5),G=Math.floor(N/864e5);return z<1?"Just now":z<60?`${z} minute${z>1?"s":""} ago`:E<24?`${E} hour${E>1?"s":""} ago`:G<7?`${G} day${G>1?"s":""} ago`:b.toLocaleDateString()}catch{return"Recent"}},R=async()=>{try{await B.makeAuthenticatedRequest("/v1/notifications/mark-all-read",{method:"POST"},5e3)}catch{}i(s.map(w=>({...w,isRead:!0})))},m=async w=>{try{await B.makeAuthenticatedRequest(`/v1/notifications/${w}/read`,{method:"POST"},5e3)}catch{}i(s.map(b=>b.id===w?{...b,isRead:!0}:b))},k=s.filter(w=>w.title.toLowerCase().includes(t.toLowerCase())||w.message.toLowerCase().includes(t.toLowerCase())),F=w=>w?k.filter(b=>b.type===w):k,$=w=>n.jsx("div",{className:`
        p-4 rounded-lg border transition-all duration-200 cursor-pointer
        ${w.isRead?"bg-background border-border/50 hover:border-border":"bg-accent/20 border-accent hover:border-accent/50"}
      `,onClick:()=>m(w.id),children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:vc(w.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[n.jsx("h4",{className:`
              font-medium text-sm leading-tight
              ${w.isRead?"text-muted-foreground":"text-foreground"}
            `,children:w.title}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!w.isRead&&n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),n.jsx(ne,{variant:"outline",className:`
                  text-xs px-2 py-0.5 font-medium
                  ${w.type==="critical"?"bg-destructive/10 text-destructive border-destructive/20":w.type==="non-critical"?"bg-warning/10 text-warning border-warning/20":"bg-info/10 text-info border-info/20"}
                `,children:wc(w.type)})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed mb-2",children:w.message}),n.jsx("p",{className:"text-xs text-muted-foreground/70",children:w.timestamp})]})]})},w.id);return n.jsxs(Nr,{open:a,onOpenChange:e,children:[n.jsx(po,{asChild:!0,children:n.jsxs(q,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 flex items-center justify-center relative",title:"Notifications",children:[n.jsx(jt,{className:"h-4 w-4"}),d>0&&n.jsx(ne,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs bg-destructive text-destructive-foreground border-background",children:d>9?"9+":d})]})}),n.jsx(Cr,{className:"w-96 surface-4dp border-border/50 p-0",side:"right",children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs(Er,{className:"p-4 pb-3 border-b border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jt,{className:"h-5 w-5 text-primary"}),n.jsx($r,{className:"text-lg font-medium",children:d})]}),d>0&&n.jsx(q,{variant:"outline",size:"sm",onClick:R,className:"text-xs",children:"Mark All Read"})]}),n.jsx(Tr,{children:"View and manage your system notifications including alerts, events, and status updates."}),n.jsxs("div",{className:"text-left mt-2",children:[n.jsx("h3",{className:"font-medium text-foreground mb-1",children:"Notifications"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[d," unread of ",h," total"]})]})]}),n.jsx("div",{className:"p-4 pb-3",children:n.jsxs("div",{className:"relative",children:[n.jsx(Dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Be,{placeholder:"Search notifications...",value:t,onChange:w=>r(w.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"px-4 pb-3",children:n.jsxs(Zl,{defaultValue:"all",className:"w-full",children:[n.jsxs(ec,{className:"grid grid-cols-4 w-full",children:[n.jsx(bt,{value:"all",className:"text-xs",children:n.jsxs("span",{className:"flex items-center gap-1",children:["All",n.jsx(ne,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:h})]})}),n.jsx(bt,{value:"critical",className:"text-xs",children:n.jsxs("span",{className:"flex items-center gap-1",children:["Critical",n.jsx(ne,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:f})]})}),n.jsx(bt,{value:"non-critical",className:"text-xs",children:n.jsxs("span",{className:"flex items-center gap-1",children:["Non-Critical",n.jsx(ne,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:u})]})}),n.jsx(bt,{value:"information",className:"text-xs",children:n.jsxs("span",{className:"flex items-center gap-1",children:["Information",n.jsx(ne,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:p})]})})]}),n.jsx("div",{className:"mt-4",children:n.jsxs(gc,{className:"h-[calc(100vh-280px)]",children:[n.jsx(At,{value:"all",className:"mt-0",children:n.jsx("div",{className:"space-y-3 pr-4",children:l?n.jsx("div",{className:"space-y-3 pr-4",children:[1,2,3].map(w=>n.jsxs("div",{className:"p-4 rounded-lg border animate-pulse",children:[n.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-muted rounded w-full mb-1"}),n.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},w))}):n.jsxs(n.Fragment,{children:[F().map($),F().length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(jt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No notifications found"}),n.jsx("p",{className:"text-xs mt-1",children:"Notifications will appear here when system events occur"})]})]})})}),n.jsx(At,{value:"critical",className:"mt-0",children:n.jsx("div",{className:"space-y-3 pr-4",children:l?n.jsx("div",{className:"space-y-3 pr-4",children:[1,2].map(w=>n.jsxs("div",{className:"p-4 rounded-lg border animate-pulse",children:[n.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-muted rounded w-full mb-1"}),n.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},w))}):n.jsxs(n.Fragment,{children:[F("critical").map($),F("critical").length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(pr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No critical notifications"})]})]})})}),n.jsx(At,{value:"non-critical",className:"mt-0",children:n.jsx("div",{className:"space-y-3 pr-4",children:l?n.jsx("div",{className:"space-y-3 pr-4",children:[1,2].map(w=>n.jsxs("div",{className:"p-4 rounded-lg border animate-pulse",children:[n.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-muted rounded w-full mb-1"}),n.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},w))}):n.jsxs(n.Fragment,{children:[F("non-critical").map($),F("non-critical").length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Ue,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No non-critical notifications"})]})]})})}),n.jsx(At,{value:"information",className:"mt-0",children:n.jsx("div",{className:"space-y-3 pr-4",children:l?n.jsx("div",{className:"space-y-3 pr-4",children:[1,2,3].map(w=>n.jsxs("div",{className:"p-4 rounded-lg border animate-pulse",children:[n.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-muted rounded w-full mb-1"}),n.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},w))}):n.jsxs(n.Fragment,{children:[F("information").map($),F("information").length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Et,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No information notifications"})]})]})})})]})})]})}),n.jsx("div",{className:"mt-auto border-t border-border/50 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(q,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>Ye.info("Feature coming soon",{description:"Notification settings will be available in a future update."}),children:[n.jsx(hr,{className:"h-4 w-4"}),"Notification Settings"]}),n.jsxs(q,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:v,disabled:l,children:[l?n.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):n.jsx(Jn,{className:"h-4 w-4"}),"Refresh"]})]})})]})})]})}var se=function(){return se=Object.assign||function(a){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s])}return a},se.apply(this,arguments)},vs={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},ws={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Pt={width:"20px",height:"20px",position:"absolute",zIndex:1},xc={top:se(se({},vs),{top:"-5px"}),right:se(se({},ws),{left:void 0,right:"-5px"}),bottom:se(se({},vs),{top:void 0,bottom:"-5px"}),left:se(se({},ws),{left:"-5px"}),topRight:se(se({},Pt),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:se(se({},Pt),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:se(se({},Pt),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:se(se({},Pt),{left:"-10px",top:"-10px",cursor:"nw-resize"})},bc=g.memo(function(a){var e=a.onResizeStart,t=a.direction,r=a.children,s=a.replaceStyles,i=a.className,l=g.useCallback(function(h){e(h,t)},[e,t]),c=g.useCallback(function(h){e(h,t)},[e,t]),d=g.useMemo(function(){return se(se({position:"absolute",userSelect:"none"},xc[t]),s??{})},[s,t]);return n.jsx("div",{className:i||void 0,style:d,onMouseDown:l,onTouchStart:c,children:r})}),Ac=(function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},a(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Se=function(){return Se=Object.assign||function(a){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s])}return a},Se.apply(this,arguments)},Pc={width:"auto",height:"auto"},St=function(a,e,t){return Math.max(Math.min(a,t),e)},ys=function(a,e,t){var r=Math.round(a/e);return r*e+t*(r-1)},Je=function(a,e){return new RegExp(a,"i").test(e)},It=function(a){return!!(a.touches&&a.touches.length)},Sc=function(a){return!!((a.clientX||a.clientX===0)&&(a.clientY||a.clientY===0))},xs=function(a,e,t){t===void 0&&(t=0);var r=e.reduce(function(i,l,c){return Math.abs(l-a)<Math.abs(e[i]-a)?c:i},0),s=Math.abs(e[r]-a);return t===0||s<t?e[r]:a},er=function(a){return a=a.toString(),a==="auto"||a.endsWith("px")||a.endsWith("%")||a.endsWith("vh")||a.endsWith("vw")||a.endsWith("vmax")||a.endsWith("vmin")?a:"".concat(a,"px")},kt=function(a,e,t,r){if(a&&typeof a=="string"){if(a.endsWith("px"))return Number(a.replace("px",""));if(a.endsWith("%")){var s=Number(a.replace("%",""))/100;return e*s}if(a.endsWith("vw")){var s=Number(a.replace("vw",""))/100;return t*s}if(a.endsWith("vh")){var s=Number(a.replace("vh",""))/100;return r*s}}return a},Ic=function(a,e,t,r,s,i,l){return r=kt(r,a.width,e,t),s=kt(s,a.height,e,t),i=kt(i,a.width,e,t),l=kt(l,a.height,e,t),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof i>"u"?void 0:Number(i),minHeight:typeof l>"u"?void 0:Number(l)}},kc=function(a){return Array.isArray(a)?a:[a,a]},jc=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],bs="__resizable_base__",Rc=(function(a){Ac(e,a);function e(t){var r,s,i,l,c=a.call(this,t)||this;return c.ratio=1,c.resizable=null,c.parentLeft=0,c.parentTop=0,c.resizableLeft=0,c.resizableRight=0,c.resizableTop=0,c.resizableBottom=0,c.targetLeft=0,c.targetTop=0,c.delta={width:0,height:0},c.appendBase=function(){if(!c.resizable||!c.window)return null;var d=c.parentNode;if(!d)return null;var h=c.window.document.createElement("div");return h.style.width="100%",h.style.height="100%",h.style.position="absolute",h.style.transform="scale(0, 0)",h.style.left="0",h.style.flex="0 0 100%",h.classList?h.classList.add(bs):h.className+=bs,d.appendChild(h),h},c.removeBase=function(d){var h=c.parentNode;h&&h.removeChild(d)},c.state={isResizing:!1,width:(s=(r=c.propsSize)===null||r===void 0?void 0:r.width)!==null&&s!==void 0?s:"auto",height:(l=(i=c.propsSize)===null||i===void 0?void 0:i.height)!==null&&l!==void 0?l:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},c.onResizeStart=c.onResizeStart.bind(c),c.onMouseMove=c.onMouseMove.bind(c),c.onMouseUp=c.onMouseUp.bind(c),c}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Pc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var t=0,r=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,i=this.resizable.offsetHeight,l=this.resizable.style.position;l!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:i,this.resizable.style.position=l}return{width:t,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var t=this,r=this.props.size,s=function(c){var d;if(typeof t.state[c]>"u"||t.state[c]==="auto")return"auto";if(t.propsSize&&t.propsSize[c]&&(!((d=t.propsSize[c])===null||d===void 0)&&d.toString().endsWith("%"))){if(t.state[c].toString().endsWith("%"))return t.state[c].toString();var h=t.getParentSize(),f=Number(t.state[c].toString().replace("px","")),u=f/h[c]*100;return"".concat(u,"%")}return er(t.state[c])},i=r&&typeof r.width<"u"&&!this.state.isResizing?er(r.width):s("width"),l=r&&typeof r.height<"u"&&!this.state.isResizing?er(r.height):s("height");return{width:i,height:l}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var r=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var i={width:t.offsetWidth,height:t.offsetHeight};return r&&(this.parentNode.style.flexWrap=s),this.removeBase(t),i},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(t,r){var s=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===t&&(typeof s>"u"||s==="auto")?"auto":t},e.prototype.calculateNewMaxFromBoundary=function(t,r){var s=this.props.boundsByDirection,i=this.state.direction,l=s&&Je("left",i),c=s&&Je("top",i),d,h;if(this.props.bounds==="parent"){var f=this.parentNode;f&&(d=l?this.resizableRight-this.parentLeft:f.offsetWidth+(this.parentLeft-this.resizableLeft),h=c?this.resizableBottom-this.parentTop:f.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(d=l?this.resizableRight:this.window.innerWidth-this.resizableLeft,h=c?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(d=l?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),h=c?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return d&&Number.isFinite(d)&&(t=t&&t<d?t:d),h&&Number.isFinite(h)&&(r=r&&r<h?r:h),{maxWidth:t,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(t,r){var s=this.props.scale||1,i=kc(this.props.resizeRatio||1),l=i[0],c=i[1],d=this.state,h=d.direction,f=d.original,u=this.props,p=u.lockAspectRatio,v=u.lockAspectRatioExtraHeight,y=u.lockAspectRatioExtraWidth,x=f.width,A=f.height,I=v||0,R=y||0;return Je("right",h)&&(x=f.width+(t-f.x)*l/s,p&&(A=(x-R)/this.ratio+I)),Je("left",h)&&(x=f.width-(t-f.x)*l/s,p&&(A=(x-R)/this.ratio+I)),Je("bottom",h)&&(A=f.height+(r-f.y)*c/s,p&&(x=(A-I)*this.ratio+R)),Je("top",h)&&(A=f.height-(r-f.y)*c/s,p&&(x=(A-I)*this.ratio+R)),{newWidth:x,newHeight:A}},e.prototype.calculateNewSizeFromAspectRatio=function(t,r,s,i){var l=this.props,c=l.lockAspectRatio,d=l.lockAspectRatioExtraHeight,h=l.lockAspectRatioExtraWidth,f=typeof i.width>"u"?10:i.width,u=typeof s.width>"u"||s.width<0?t:s.width,p=typeof i.height>"u"?10:i.height,v=typeof s.height>"u"||s.height<0?r:s.height,y=d||0,x=h||0;if(c){var A=(p-y)*this.ratio+x,I=(v-y)*this.ratio+x,R=(f-x)/this.ratio+y,m=(u-x)/this.ratio+y,k=Math.max(f,A),F=Math.min(u,I),$=Math.max(p,R),w=Math.min(v,m);t=St(t,k,F),r=St(r,$,w)}else t=St(t,f,u),r=St(r,p,v);return{newWidth:t,newHeight:r}},e.prototype.setBoundingClientRect=function(){var t=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var s=r.getBoundingClientRect();this.parentLeft=s.left*t,this.parentTop=s.top*t}}if(this.props.bounds&&typeof this.props.bounds!="string"){var i=this.props.bounds.getBoundingClientRect();this.targetLeft=i.left*t,this.targetTop=i.top*t}if(this.resizable){var l=this.resizable.getBoundingClientRect(),c=l.left,d=l.top,h=l.right,f=l.bottom;this.resizableLeft=c*t,this.resizableRight=h*t,this.resizableTop=d*t,this.resizableBottom=f*t}},e.prototype.onResizeStart=function(t,r){if(!(!this.resizable||!this.window)){var s=0,i=0;if(t.nativeEvent&&Sc(t.nativeEvent)?(s=t.nativeEvent.clientX,i=t.nativeEvent.clientY):t.nativeEvent&&It(t.nativeEvent)&&(s=t.nativeEvent.touches[0].clientX,i=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var l=this.props.onResizeStart(t,r,this.resizable);if(l===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var c,d=this.window.getComputedStyle(this.resizable);if(d.flexBasis!=="auto"){var h=this.parentNode;if(h){var f=this.window.getComputedStyle(h).flexDirection;this.flexDir=f.startsWith("row")?"row":"column",c=d.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var u={original:{x:s,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Se(Se({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:r,flexBasis:c};this.setState(u)}},e.prototype.onMouseMove=function(t){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&It(t))try{t.preventDefault(),t.stopPropagation()}catch{}var s=this.props,i=s.maxWidth,l=s.maxHeight,c=s.minWidth,d=s.minHeight,h=It(t)?t.touches[0].clientX:t.clientX,f=It(t)?t.touches[0].clientY:t.clientY,u=this.state,p=u.direction,v=u.original,y=u.width,x=u.height,A=this.getParentSize(),I=Ic(A,this.window.innerWidth,this.window.innerHeight,i,l,c,d);i=I.maxWidth,l=I.maxHeight,c=I.minWidth,d=I.minHeight;var R=this.calculateNewSizeFromDirection(h,f),m=R.newHeight,k=R.newWidth,F=this.calculateNewMaxFromBoundary(i,l);this.props.snap&&this.props.snap.x&&(k=xs(k,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(m=xs(m,this.props.snap.y,this.props.snapGap));var $=this.calculateNewSizeFromAspectRatio(k,m,{width:F.maxWidth,height:F.maxHeight},{width:c,height:d});if(k=$.newWidth,m=$.newHeight,this.props.grid){var w=ys(k,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),b=ys(m,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),S=this.props.snapGap||0,N=S===0||Math.abs(w-k)<=S?w:k,z=S===0||Math.abs(b-m)<=S?b:m;k=N,m=z}var E={width:k-v.width,height:m-v.height};if(this.delta=E,y&&typeof y=="string"){if(y.endsWith("%")){var G=k/A.width*100;k="".concat(G,"%")}else if(y.endsWith("vw")){var J=k/this.window.innerWidth*100;k="".concat(J,"vw")}else if(y.endsWith("vh")){var te=k/this.window.innerHeight*100;k="".concat(te,"vh")}}if(x&&typeof x=="string"){if(x.endsWith("%")){var G=m/A.height*100;m="".concat(G,"%")}else if(x.endsWith("vw")){var J=m/this.window.innerWidth*100;m="".concat(J,"vw")}else if(x.endsWith("vh")){var te=m/this.window.innerHeight*100;m="".concat(te,"vh")}}var T={width:this.createSizeForCssProperty(k,"width"),height:this.createSizeForCssProperty(m,"height")};this.flexDir==="row"?T.flexBasis=T.width:this.flexDir==="column"&&(T.flexBasis=T.height);var H=this.state.width!==T.width,re=this.state.height!==T.height,Z=this.state.flexBasis!==T.flexBasis,ee=H||re||Z;ee&&yn.flushSync(function(){r.setState(T)}),this.props.onResize&&ee&&this.props.onResize(t,p,this.resizable,E)}},e.prototype.onMouseUp=function(t){var r,s,i=this.state,l=i.isResizing,c=i.direction;i.original,!(!l||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(t,c,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Se(Se({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(t){var r,s;this.setState({width:(r=t.width)!==null&&r!==void 0?r:"auto",height:(s=t.height)!==null&&s!==void 0?s:"auto"})},e.prototype.renderResizer=function(){var t=this,r=this.props,s=r.enable,i=r.handleStyles,l=r.handleClasses,c=r.handleWrapperStyle,d=r.handleWrapperClass,h=r.handleComponent;if(!s)return null;var f=Object.keys(s).map(function(u){return s[u]!==!1?n.jsx(bc,{direction:u,onResizeStart:t.onResizeStart,replaceStyles:i&&i[u],className:l&&l[u],children:h&&h[u]?h[u]:null},u):null});return n.jsx("div",{className:d,style:c,children:f})},e.prototype.render=function(){var t=this,r=Object.keys(this.props).reduce(function(l,c){return jc.indexOf(c)!==-1||(l[c]=t.props[c]),l},{}),s=Se(Se(Se({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var i=this.props.as||"div";return n.jsxs(i,Se({style:s,className:this.props.className},r,{ref:function(l){l&&(t.resizable=l)},children:[this.state.isResizing&&n.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e})(g.PureComponent);function Nc({isOpen:a,onClose:e,apiLogs:t,onClearLogs:r,onHeightChange:s}){const[i,l]=g.useState(null),[c,d]=g.useState(!0),[h,f]=g.useState(400),u=g.useRef(null);if(g.useEffect(()=>{c&&u.current&&(u.current.scrollTop=u.current.scrollHeight)},[t,c]),g.useEffect(()=>{s&&s(a?h:0)},[h,a,s]),!a)return null;const p=m=>m?m>=200&&m<300?"text-green-500":m>=400&&m<500?"text-yellow-500":m>=500?"text-red-500":"text-muted-foreground":"text-muted-foreground",v=m=>m.isPending?n.jsx(Ct,{className:"h-4 w-4 animate-spin text-blue-500"}):m.error?n.jsx(Ls,{className:"h-4 w-4 text-red-500"}):m.status&&m.status>=200&&m.status<300?n.jsx(Kn,{className:"h-4 w-4 text-green-500"}):m.status&&m.status>=400?n.jsx(Ue,{className:"h-4 w-4 text-yellow-500"}):n.jsx(qe,{className:"h-4 w-4 text-muted-foreground"}),y=m=>{switch(m){case"GET":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"POST":return"bg-green-500/20 text-green-400 border-green-500/30";case"PUT":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"PATCH":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"DELETE":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-muted-foreground/20 text-muted-foreground border-muted-foreground/30"}},x=m=>{const k=m.getHours().toString().padStart(2,"0"),F=m.getMinutes().toString().padStart(2,"0"),$=m.getSeconds().toString().padStart(2,"0"),w=m.getMilliseconds().toString().padStart(3,"0");return`${k}:${F}:${$}.${w}`},A=m=>{navigator.clipboard.writeText(m).then(()=>{})},I=()=>{const m=JSON.stringify(t,null,2),k=new Blob([m],{type:"application/json"}),F=URL.createObjectURL(k),$=document.createElement("a");$.href=F,$.download=`api-logs-${new Date().toISOString()}.json`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(F)},R=m=>{l(i===m?null:m)};return n.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border bg-background shadow-2xl",children:n.jsx(Rc,{size:{width:"100%",height:h},minHeight:150,maxHeight:window.innerHeight-100,enable:{top:!0,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},onResizeStop:(m,k,F,$)=>{f(h+$.height)},handleStyles:{top:{height:"8px",top:"-4px",cursor:"ns-resize",zIndex:10}},handleComponent:{top:n.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 flex items-center justify-center group hover:bg-primary/10 transition-colors cursor-ns-resize",children:n.jsx("div",{className:"bg-border group-hover:bg-primary/50 rounded-full h-1 w-16 transition-colors"})})},children:n.jsxs(zt,{className:"rounded-none border-0 border-t border-border h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-border bg-card flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(qe,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-sm text-card-foreground",children:"Developer Mode - API Monitor"}),n.jsxs(ne,{variant:"secondary",className:"text-xs",children:[t.length," ",t.length===1?"call":"calls"]}),t.some(m=>m.isPending)&&n.jsxs(ne,{variant:"outline",className:"text-xs",children:[n.jsx(Ct,{className:"h-3 w-3 mr-1 animate-spin"}),t.filter(m=>m.isPending).length," pending"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{variant:"ghost",size:"sm",onClick:()=>d(!c),className:"text-xs",title:c?"Disable auto-scroll":"Enable auto-scroll",children:c?"Auto-scroll: ON":"Auto-scroll: OFF"}),n.jsx(q,{variant:"ghost",size:"sm",onClick:I,disabled:t.length===0,title:"Export logs as JSON",children:n.jsx(Ts,{className:"h-4 w-4"})}),n.jsx(q,{variant:"ghost",size:"sm",onClick:r,disabled:t.length===0,title:"Clear all logs",children:n.jsx(Qn,{className:"h-4 w-4"})}),n.jsx(q,{variant:"ghost",size:"sm",onClick:e,title:"Close developer mode",children:n.jsx(dt,{className:"h-4 w-4"})})]})]}),n.jsx("div",{ref:u,className:"flex-1 overflow-y-auto bg-card/50 font-mono text-xs",children:t.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:n.jsxs("div",{className:"text-center",children:[n.jsx(qe,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No API calls yet"}),n.jsx("p",{className:"text-xs mt-1",children:"Use the UI to see API requests appear here"})]})}):n.jsx("div",{className:"divide-y divide-border/50",children:t.map(m=>n.jsxs("div",{className:"hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-start gap-3 px-4 py-2 cursor-pointer",onClick:()=>R(m.id),children:[n.jsx("div",{className:"mt-1 flex-shrink-0",children:v(m)}),n.jsx("div",{className:"flex-shrink-0 text-muted-foreground w-24",children:x(m.timestamp)}),n.jsx(ne,{variant:"outline",className:C("flex-shrink-0 w-16 justify-center border",y(m.method)),children:m.method}),n.jsx("div",{className:"flex-1 text-card-foreground truncate",children:m.endpoint}),m.status&&n.jsx("div",{className:C("flex-shrink-0 w-12 text-right",p(m.status)),children:m.status}),m.duration!==void 0&&n.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1 text-muted-foreground w-20 text-right",children:[n.jsx(Xn,{className:"h-3 w-3"}),m.duration,"ms"]}),n.jsx("div",{className:"flex-shrink-0",children:i===m.id?n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Xe,{className:"h-4 w-4 text-muted-foreground"})})]}),i===m.id&&n.jsxs("div",{className:"px-4 pb-3 space-y-3 bg-background/50",children:[m.requestBody&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Request Body"}),n.jsx(q,{variant:"ghost",size:"sm",onClick:k=>{k.stopPropagation(),A(JSON.stringify(m.requestBody,null,2))},className:"h-6 px-2",children:n.jsx(Vr,{className:"h-3 w-3"})})]}),n.jsx("pre",{className:"bg-background border border-border rounded p-2 overflow-x-auto text-xs",children:JSON.stringify(m.requestBody,null,2)})]}),m.responseBody&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Response Body"}),n.jsx(q,{variant:"ghost",size:"sm",onClick:k=>{k.stopPropagation(),A(JSON.stringify(m.responseBody,null,2))},className:"h-6 px-2",children:n.jsx(Vr,{className:"h-3 w-3"})})]}),n.jsx("pre",{className:"bg-background border border-border rounded p-2 overflow-x-auto text-xs max-h-64",children:JSON.stringify(m.responseBody,null,2)})]}),m.error&&n.jsxs("div",{children:[n.jsx("span",{className:"text-red-500 text-xs uppercase tracking-wide",children:"Error"}),n.jsx("pre",{className:"bg-red-950/20 border border-red-500/30 rounded p-2 overflow-x-auto text-xs text-red-400 mt-1",children:m.error})]}),n.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground pt-2 border-t border-border/50",children:[n.jsxs("span",{children:["ID: ",m.id]}),n.jsxs("span",{children:["Full Timestamp: ",m.timestamp.toISOString()]}),m.duration!==void 0&&n.jsxs("span",{children:["Duration: ",m.duration,"ms"]})]})]})]},m.id))})})]})})})}function Cc({className:a,position:e="bottom-left",expandable:t=!0}){const[r,s]=g.useState(!1),i="v567.61bceea",l="61bceea",c="567",d="main",h=new Date("2026-01-31T02:00:00.765Z").toLocaleString(),f={"bottom-left":"bottom-4 left-4","bottom-right":"bottom-4 right-4"};return n.jsx("div",{className:C("fixed z-50 transition-all duration-300",f[e],a),children:n.jsxs("div",{className:C("bg-sidebar/95 backdrop-blur-sm border border-sidebar-border rounded-lg shadow-lg","text-sidebar-foreground text-xs","transition-all duration-300",r?"p-3 space-y-2 min-w-[240px]":"px-3 py-1.5"),children:[n.jsxs("div",{className:C("flex items-center gap-2 cursor-pointer select-none",t&&"hover:text-sidebar-accent-foreground"),onClick:()=>t&&s(!r),children:[n.jsx(Hr,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"font-mono font-medium",children:i}),t&&(r?n.jsx(Xe,{className:"h-3 w-3 ml-auto text-muted-foreground"}):n.jsx(fr,{className:"h-3 w-3 ml-auto text-muted-foreground"}))]}),r&&t&&n.jsxs("div",{className:"space-y-1.5 pt-1 border-t border-sidebar-border",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(Zn,{className:"h-3 w-3"}),n.jsx("span",{className:"font-mono",children:l})]}),n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(Hr,{className:"h-3 w-3"}),n.jsx("span",{children:d})]}),n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(ea,{className:"h-3 w-3"}),n.jsx("span",{className:"text-[10px]",children:h})]}),n.jsxs("div",{className:"text-[10px] text-muted-foreground/70 pt-1",children:["Build #",c]})]})]})})}const Ec=g.lazy(()=>W(()=>import("./DashboardEnhanced-DzfzkWjs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(a=>({default:a.DashboardEnhanced}))),$c=g.lazy(()=>W(()=>import("./AccessPoints-B-02vLMl.js"),__vite__mapDeps([14,1,2,15,6,16,9,17,8])).then(a=>({default:a.AccessPoints}))),Tc=g.lazy(()=>W(()=>import("./TrafficStatsConnectedClients-CDwMViiM.js"),__vite__mapDeps([18,1,2,15,19,6,17,9,13,8])).then(a=>({default:a.TrafficStatsConnectedClients}))),Fc=()=>{setTimeout(()=>{W(()=>import("./AccessPoints-B-02vLMl.js"),__vite__mapDeps([14,1,2,15,6,16,9,17,8])),W(()=>import("./TrafficStatsConnectedClients-CDwMViiM.js"),__vite__mapDeps([18,1,2,15,19,6,17,9,13,8])),W(()=>import("./ReportWidgets-B5DuSDsa.js"),__vite__mapDeps([20,1,2,7,6,8]))},2e3)};g.lazy(()=>W(()=>import("./ServiceLevelsEnhanced-B2k_o4G6.js"),__vite__mapDeps([21,1,2,3,4,5,6,22,23,8])).then(a=>({default:a.ServiceLevelsEnhanced})));g.lazy(()=>W(()=>import("./AlertsEventsEnhanced-DEyDQMh8.js"),__vite__mapDeps([24,1,2,15,6,8])).then(a=>({default:a.AlertsEventsEnhanced})));const Lc=g.lazy(()=>W(()=>import("./ReportWidgets-B5DuSDsa.js"),__vite__mapDeps([20,1,2,7,6,8])).then(a=>({default:a.ReportWidgets}))),_c=g.lazy(()=>W(()=>import("./ConfigureNetworks-CdlFGBKu.js"),__vite__mapDeps([25,1,2,15,17,6,16,26,9,19,8])).then(a=>({default:a.ConfigureNetworks}))),Dc=g.lazy(()=>W(()=>import("./ConfigureSites-DlTS4Ngg.js"),__vite__mapDeps([27,1,2,15,19,6,28,17,5,26,8])).then(a=>({default:a.ConfigureSites}))),Oc=g.lazy(()=>W(()=>import("./ConfigurePolicy-8JJZPa6N.js"),__vite__mapDeps([29,1,2,19,6,16,26,8])).then(a=>({default:a.ConfigurePolicy}))),zc=g.lazy(()=>W(()=>import("./ConfigureAAAPolicies-BxgxgA7j.js"),__vite__mapDeps([30,1,2,16,15,19,6,8])).then(a=>({default:a.ConfigureAAAPolicies}))),Mc=g.lazy(()=>W(()=>import("./ConfigureAdoptionRules-DTkP0zl7.js"),__vite__mapDeps([31,1,2,19,6,16,15,8])).then(a=>({default:a.ConfigureAdoptionRules}))),qc=g.lazy(()=>W(()=>import("./ConfigureGuest-DxhEyOUn.js"),__vite__mapDeps([32,1,2,15,6,8])).then(a=>({default:a.ConfigureGuest}))),Uc=g.lazy(()=>W(()=>import("./Administration-CjJ4tlK-.js"),__vite__mapDeps([33,1,2,16,6,15,7,8])).then(a=>({default:a.Administration}))),Bc=g.lazy(()=>W(()=>import("./Tools-Cz8cTqFE.js"),__vite__mapDeps([34,1,2,15,6,35,26,8,17])).then(a=>({default:a.Tools}))),Wc=g.lazy(()=>W(()=>import("./ApiTestTool-BvMyl68F.js"),__vite__mapDeps([35,1,2,26,6,8])).then(a=>({default:a.ApiTestTool}))),Gc=g.lazy(()=>W(()=>import("./AccessPointDetail-B0gJCdMV.js"),__vite__mapDeps([10,1,2,6,11,8])).then(a=>({default:a.AccessPointDetail}))),Vc=g.lazy(()=>W(()=>import("./ClientDetail-Cp0Sh9yq.js"),__vite__mapDeps([12,1,2,6,11,8,13,7])).then(a=>({default:a.ClientDetail}))),Hc=g.lazy(()=>W(()=>import("./SiteDetail-DFwCC6gk.js"),__vite__mapDeps([36,1,2,6,8])).then(a=>({default:a.SiteDetail}))),Jc=g.lazy(()=>W(()=>import("./NetworkChatbot-BX6NU1U6.js"),__vite__mapDeps([37,1,2,6,8])).then(a=>({default:a.NetworkChatbot}))),Yc=g.lazy(()=>W(()=>import("./AppInsights-mtkLx82w.js"),__vite__mapDeps([38,1,2,7,6,8])).then(a=>({default:a.AppInsights}))),Qc=g.lazy(()=>W(()=>import("./PCIReport-92ps7LmK.js"),__vite__mapDeps([39,1,2,6,8])).then(a=>({default:a.PCIReport}))),Xc=g.lazy(()=>W(()=>import("./SystemBackupManager-gP7aRMjp.js"),__vite__mapDeps([40,1,2,19,6,41,8])).then(a=>({default:a.SystemBackupManager}))),Kc=g.lazy(()=>W(()=>import("./LicenseDashboard-UkIwPykt.js"),__vite__mapDeps([42,1,2,41,19,6,8])).then(a=>({default:a.LicenseDashboard}))),Zc=g.lazy(()=>W(()=>import("./APFirmwareManager-D-__Vot-.js"),__vite__mapDeps([43,1,2,17,6,19,41,8])).then(a=>({default:a.APFirmwareManager}))),ed=g.lazy(()=>W(()=>import("./NetworkDiagnostics-C9TRSsmn.js"),__vite__mapDeps([44,1,2,6,8])).then(a=>({default:a.NetworkDiagnostics}))),td=g.lazy(()=>W(()=>import("./EventAlarmDashboard-B-jkndmQ.js"),__vite__mapDeps([45,1,2,6,8])).then(a=>({default:a.EventAlarmDashboard}))),rd=g.lazy(()=>W(()=>import("./SecurityDashboard-aQ0m7kc3.js"),__vite__mapDeps([46,1,2,6,8])).then(a=>({default:a.SecurityDashboard}))),sd=g.lazy(()=>W(()=>import("./GuestManagement-D5SnYV6u.js"),__vite__mapDeps([47,1,2,19,6,8])).then(a=>({default:a.GuestManagement}))),od=g.lazy(()=>W(()=>import("./ApiDocumentation-BbpP8phw.js"),__vite__mapDeps([48,1,2,4,5,6,8])).then(a=>({default:a.ApiDocumentation}))),tr={"service-levels":{title:"Contextual Insights",description:"Context-aware network monitoring and analytics"},"app-insights":{title:"App Insights",description:"Application visibility and traffic analytics"},"connected-clients":{title:"Connected Clients",description:"View and manage connected devices"},"access-points":{title:"Access Points",description:"Manage and monitor wireless access points"},"sites-overview":{title:"Sites Overview",description:"View and manage network sites"},"configure-aaa":{title:"AAA Policies",description:"Configure authentication, authorization, and accounting"},"configure-devices":{title:"Devices",description:"Configure switches and access points"},"configure-policy":{title:"Policies",description:"Configure network policies"},"configure-guest":{title:"Guest Access",description:"Configure guest network settings"},"performance-analytics":{title:"Performance Analytics",description:"Analyze network performance and trends"},"network-visualization":{title:"Network Visualization",description:"Visualize network topology and connections"},"report-widgets":{title:"Report Widgets",description:"Real-time analytics and monitoring widgets"},"pci-report":{title:"PCI DSS Report",description:"Generate PCI DSS compliance reports for cardholder data environments"},"system-backup":{title:"Backup & Storage",description:"Manage configuration backups and flash memory storage"},"license-dashboard":{title:"License Management",description:"View and manage system licenses"},"firmware-manager":{title:"Firmware Manager",description:"Manage AP firmware upgrades and schedules"},"network-diagnostics":{title:"Network Diagnostics",description:"Test network connectivity with ping, traceroute, and DNS"},"event-alarm-dashboard":{title:"Events & Alarms",description:"Monitor system events and manage alarms"},"security-dashboard":{title:"Security Dashboard",description:"Rogue AP detection and security threat monitoring"},"guest-management":{title:"Guest Access",description:"Manage guest wireless access accounts"},administration:{title:"Administration",description:"System administration, users, applications, and licensing"},"api-test":{title:"API Test Tool",description:"Test and explore EDGE API endpoints"},"api-documentation":{title:"API Documentation",description:"EDGE Platform REST API reference"},"configure-sites":{title:"Sites",description:"Manage and configure network sites and locations"},"configure-networks":{title:"Configure Networks",description:"Set up and manage network configurations"}};function nd(){const[a,e]=g.useState(!1),[t,r]=g.useState("service-levels"),[s,i]=g.useState(null),[l,c]=g.useState(!1),[d,h]=g.useState(!1),[f,u]=g.useState("system"),[p,v]=g.useState({isOpen:!1,type:null,data:null}),[y,x]=g.useState(!1),[A,I]=g.useState(()=>localStorage.getItem("networkAssistantEnabled")==="true"),[R,m]=g.useState(!1),[k,F]=g.useState([]),[$,w]=g.useState(0),[b,S]=g.useState(""),{filters:N,updateFilter:z}=ia(),E=qt(),G=g.useMemo(()=>{if(p.isOpen&&p.type&&p.data){if(p.type==="client")return{type:"client",entityId:p.data.macAddress,entityName:p.data.hostName||p.data.macAddress,siteId:N.site!=="all"?N.site:void 0,siteName:b||void 0,timeRange:N.timeRange};if(p.type==="access-point")return{type:"access-point",entityId:p.data.serialNumber,entityName:p.data.displayName||p.data.serialNumber,siteId:N.site!=="all"?N.site:void 0,siteName:b||void 0,timeRange:N.timeRange};if(p.type==="site")return{type:"site",entityId:p.data.siteId,entityName:p.data.siteName,siteId:p.data.siteId,siteName:p.data.siteName,timeRange:N.timeRange}}if(N.site&&N.site!=="all")return{type:"site",siteId:N.site,siteName:b||void 0,timeRange:N.timeRange}},[p,N,b]);g.useEffect(()=>{const L=()=>{const P=localStorage.getItem("theme")||"system";u(P),te(P)},V=async()=>{if(B.isAuthenticated()){console.log("[App] ✅ Found valid session - restoring authentication"),e(!0),i(B.getAdminRole());try{const P=await B.getSiteById("c7395471-aa5c-46dc-9211-3ed24c5789bd");if(P){const oe=P.displayName||P.name||P.siteName||"Production Site";S(oe)}else{const oe=await B.getSites();if(oe&&oe.length>0){const ge=oe[0],Wt=ge.displayName||ge.name||ge.siteName||"Site";S(Wt)}}}catch(M){console.error("[App] Failed to load site name:",M),S("Production Site")}console.log("[App] Starting SLE data collection service"),Zt.startCollection()}else console.log("[App] No valid session found - showing login screen"),e(!1)};L(),V();const ce=B.subscribeToApiLogs(()=>{F(B.getApiLogs())});F(B.getApiLogs());const pe=window.matchMedia("(prefers-color-scheme: dark)"),Oe=M=>{const P=localStorage.getItem("theme");if(!P||P==="system"){const oe=M.matches?"dark":"light";J(oe)}};pe.addEventListener("change",Oe);const rt=setInterval(async()=>{if(a){const M=localStorage.getItem("access_token"),P=localStorage.getItem("refresh_token");if(!M||!P){console.log("[Auth] Authentication tokens missing - logging out"),Ge();return}}},3e5),Ge=()=>{console.log("Session expired - logging out user"),e(!1),i(null),r("service-levels"),B.cancelAllRequests(),Ye.error("Session expired",{description:"Please login again to continue."})};B.setSessionExpiredHandler(Ge);const st=()=>{document.hidden&&(console.log("Page hidden, canceling pending requests"),B.cancelAllRequests())};document.addEventListener("visibilitychange",st);const Ne=()=>{B.cancelAllRequests()};window.addEventListener("beforeunload",Ne);const ot=M=>{const P=M.message||"";if(["errorDetails is not defined","Failed to parse error response","Error reading response text","ReferenceError: errorDetails is not defined","Message getPage","getPage (id:","response timed out after","SUPPRESSED_ANALYTICS_ERROR","SUPPRESSED_NON_CRITICAL_ERROR","Failed to load roles","Network error for /v1/roles","Network error for /v1/clients","/v1/clients","/v1/sites","Network error for /v1/sites","/v1/applications","Network error for /v1/applications","NetworkVisualization","fetching topology","Unable to connect to Extreme Platform ONE","/v1/system/time","/v1/system/info","/v1/system/logging","/v1/system/maintenance","/v3/topologies","Network error for /v3/topologies","/v3/cos","Network error for /v3/cos","/api/sle/metrics/timeseries","Network error for /api/sle/metrics/timeseries","/v1/dashboard","/v1/reports/dashboard","/v1/aps/reports/dashboard","/v1/aps/report","Dashboard endpoint not available","Can not find AP","All dashboard loading methods failed","Dashboard endpoints unavailable","[Dashboard]","/v1/aps timed out","Request to /v1/aps timed out","Error loading filter options","Error loading access points","timeout","timed out","15000ms","30000ms","[SLE Collection]","SLE Collection","No access token available","not authenticated","/v1/notifications","Network error for /v1/notifications","/v1/services","Network error for /v1/services","Request to /v1/aps failed","Request to /v1/notifications failed","Request to /v1/services failed","Session expired. Please login again."].some(ge=>P.includes(ge)))return M.preventDefault(),!1;P.toLowerCase().includes("timeout")||console.log("Global error caught:",P)};window.addEventListener("error",ot),window.addEventListener("unhandledrejection",M=>{if(M.reason){const P=typeof M.reason=="object"&&M.reason.message?M.reason.message:String(M.reason);if(P.includes("Session expired")&&(P.includes("/v1/services")||P.includes("/v1/roles")||P.includes("/v1/networks")||P.includes("Failed to load services")||P.includes("Failed to load roles"))){console.log("Critical session expiration detected:",P);return}if(["timeout","TIMEOUT","timed out","TIMED OUT","Message getPage","getPage (id:","response timed out after","SUPPRESSED_ANALYTICS_ERROR","SUPPRESSED_NON_CRITICAL_ERROR","errorDetails is not defined","Failed to parse error response","Error reading response text","Countries API not available","/v1/bestpractices","bestpractices","/bestpractices/evaluate","/v1/clients","Network error for /v1/clients","/v1/sites","Network error for /v1/sites","/v1/applications","Network error for /v1/applications","NetworkVisualization","fetching topology","Unable to connect to Extreme Platform ONE","6000ms","30000ms","15000ms","/v1/system/time","/v1/system/info","/v1/system/logging","/v1/system/maintenance","/v3/topologies","Network error for /v3/topologies","/v3/cos","Network error for /v3/cos","/api/sle/metrics/timeseries","Network error for /api/sle/metrics/timeseries","/v1/dashboard","/v1/reports/dashboard","/v1/aps/reports/dashboard","/v1/aps/report","Dashboard endpoint not available","Can not find AP","All dashboard loading methods failed","Dashboard endpoints unavailable","[Dashboard]","/v1/aps timed out","Request to /v1/aps timed out","Error loading filter options","Error loading access points"].some(ge=>P.toLowerCase().includes(ge.toLowerCase()))){M.preventDefault();return}}if(M.reason&&typeof M.reason=="object"&&M.reason.message){const P=M.reason.message;if((P.includes("Session expired")||P.includes("Authentication required"))&&(P.includes("/v1/aps")&&!P.includes("/v1/aps/report")||P.includes("/v1/aps/query/columns")||P.includes("/v1/services")||P.includes("/v1/roles")||P.includes("/v1/networks")||P.includes("Error loading access points for site")||P.includes("Failed to load services")||P.includes("Failed to load roles"))){console.log("Session expired for core endpoint - forcing logout:",P),Ge(),M.preventDefault();return}if((P.includes("timed out")||P.includes("timeout"))&&!P.includes("SUPPRESSED_ANALYTICS_ERROR")&&!P.includes("SUPPRESSED_NON_CRITICAL_ERROR")&&!P.includes("/v1/roles")&&!P.includes("/v1/events")&&!P.includes("/v1/countries")&&!P.includes("/v1/sites")&&!P.includes("/v1/applications")&&!P.includes("Message getPage")){console.warn("Request timeout detected:",P),Ye.error("Request timed out",{description:"The Extreme Platform ONE took too long to respond.",duration:4e3}),M.preventDefault();return}if((P.includes("Network")||P.includes("Failed to fetch"))&&!P.includes("SUPPRESSED_ANALYTICS_ERROR")&&!P.includes("SUPPRESSED_NON_CRITICAL_ERROR")&&!P.includes("/v1/events")&&!P.includes("/v1/countries")&&!P.includes("/v1/bestpractices")&&!P.includes("/v1/clients")&&!P.includes("/v1/sites")&&!P.includes("/v1/applications")&&!P.includes("/v1/system/time")&&!P.includes("/v1/system/info")&&!P.includes("/v1/system/logging")&&!P.includes("/v1/system/maintenance")&&!P.includes("NetworkVisualization")&&!document.hidden){console.warn("Network error:",P),M.preventDefault();return}}if(M.reason&&typeof M.reason=="string"){const P=M.reason;if(P.includes("Session expired")&&(P.includes("/v1/aps")||P.includes("/v1/services")||P.includes("/v1/roles")||P.includes("/v1/networks"))){console.log("Session expired for core endpoint - forcing logout:",P),Ge(),M.preventDefault();return}}});const fe=console.error,nt=console.warn;return console.error=(...M)=>{const P=M.join(" ");if(P.includes("Session expired")&&(P.includes("/v1/services")||P.includes("/v1/roles")||P.includes("/v1/networks")||P.includes("Failed to load services")||P.includes("Failed to load roles"))){fe.apply(console,M);return}["SUPPRESSED_ANALYTICS_ERROR","SUPPRESSED_NON_CRITICAL_ERROR","Message getPage","getPage (id:","Countries API not available","/v1/events","/v1/countries","/v1/bestpractices","errorDetails is not defined","/v1/clients","Network error for /v1/clients","/v1/sites","Network error for /v1/sites","/v1/applications","Network error for /v1/applications","NetworkVisualization","fetching topology","Unable to connect to Extreme Platform ONE","/v1/system/time","/v1/system/info","/v1/system/logging","/v1/system/maintenance","/v3/topologies","Network error for /v3/topologies","/v3/cos","Network error for /v3/cos","/api/sle/metrics/timeseries","Network error for /api/sle/metrics/timeseries","/v1/dashboard","/v1/reports/dashboard","/v1/aps/reports/dashboard","/v1/aps/report","Dashboard endpoint not available","Can not find AP","All dashboard loading methods failed","Dashboard endpoints unavailable","[Dashboard]","/v1/aps timed out","Request to /v1/aps timed out","Error loading filter options","Error loading access points","timeout","timed out","15000ms","30000ms"].some(ge=>P.includes(ge))||fe.apply(console,M)},console.warn=(...M)=>{const P=M.join(" ");if(P.includes("Session expired")&&(P.includes("/v1/services")||P.includes("/v1/roles")||P.includes("/v1/networks")||P.includes("Failed to load services")||P.includes("Failed to load roles"))){nt.apply(console,M);return}["SUPPRESSED_ANALYTICS_ERROR","SUPPRESSED_NON_CRITICAL_ERROR","/v1/events","/v1/countries","/v1/bestpractices","Countries API not available","/v1/clients","Network error for /v1/clients","/v1/sites","Network error for /v1/sites","/v1/applications","Network error for /v1/applications","NetworkVisualization","fetching topology","Unable to connect to Extreme Platform ONE","/v1/system/time","/v1/system/info","/v1/system/logging","/v1/system/maintenance","/v3/topologies","Network error for /v3/topologies","/v3/cos","Network error for /v3/cos","/api/sle/metrics/timeseries","Network error for /api/sle/metrics/timeseries","/v1/dashboard","/v1/reports/dashboard","/v1/aps/reports/dashboard","/v1/aps/report","Dashboard endpoint not available","Can not find AP","All dashboard loading methods failed","Dashboard endpoints unavailable","[Dashboard]","/v1/aps timed out","Request to /v1/aps timed out","Error loading filter options","Error loading access points","timeout","timed out","15000ms","30000ms"].some(ge=>P.includes(ge))||nt.apply(console,M)},()=>{document.removeEventListener("visibilitychange",st),window.removeEventListener("beforeunload",Ne),console.error=fe,console.warn=nt,window.removeEventListener("error",ot),pe.removeEventListener("change",Oe),clearInterval(rt),B.cancelAllRequests(),ce()}},[]);const J=L=>{const V=document.documentElement;gi(L==="light"?"default":L),V.classList.remove("light","dark"),V.classList.add(L),V.setAttribute("data-theme",L),document.body.classList.remove("light","dark"),document.body.classList.add(L)},te=L=>{if(L==="system"){const V=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";J(V)}else J(L)},T=()=>{const L=f==="light"?"dark":f==="dark"?"system":"light";u(L),te(L),localStorage.setItem("theme",L);const V=L==="system"?"System (Auto)":L.charAt(0).toUpperCase()+L.slice(1),ce=L==="system"?"The interface will now follow your system preference.":`The interface is now using ${L} theme.`;Ye.success(`Switched to ${V} mode`,{description:ce,duration:2e3})},H=async()=>{e(!0),i(B.getAdminRole()),c(!0),setTimeout(()=>c(!1),5e3),Fc();try{const V=await B.getSiteById("c7395471-aa5c-46dc-9211-3ed24c5789bd");if(V){const ce=V.displayName||V.name||V.siteName||"Production Site";console.log("[App] Loaded site:",ce),S(ce)}else{const ce=await B.getSites();if(ce&&ce.length>0){const pe=ce[0],Oe=pe.displayName||pe.name||pe.siteName||"Site";console.log("[App] Fallback to first site:",Oe),S(Oe)}}}catch(L){console.error("[App] Failed to load site name:",L),S("Production Site")}console.log("[App] Starting SLE data collection service after login"),Zt.startCollection()},re=async()=>{console.log("[App] Stopping SLE data collection service on logout"),Zt.stopCollection(),await B.logout(),e(!1),i(null),r("service-levels")},Z=L=>{console.log(`Switching to page: ${L}, canceling pending requests`),B.cancelAllRequests(),r(L),v({isOpen:!1,type:null,data:null})},ee=(L,V)=>{v({isOpen:!0,type:"access-point",data:{serialNumber:L,displayName:V}})},O=(L,V)=>{v({isOpen:!0,type:"client",data:{macAddress:L,hostName:V}})},he=(L,V)=>{v({isOpen:!0,type:"site",data:{siteId:L,siteName:V}})},U=L=>{I(L),localStorage.setItem("networkAssistantEnabled",String(L)),L||x(!1)},Q=()=>{v({isOpen:!1,type:null,data:null})},K=()=>{m(!R),R||Ye.info("Developer mode enabled",{description:"API calls will now be tracked in real-time",duration:2e3})},de=()=>{B.clearApiLogs(),F([]),Ye.success("API logs cleared")};if(!a)return n.jsx(li,{onLoginSuccess:H,theme:f,onThemeToggle:T});const Re=()=>{switch(t){case"service-levels":return n.jsx(Ec,{});case"app-insights":return n.jsx(Yc,{api:B});case"access-points":return n.jsx($c,{onShowDetail:ee});case"connected-clients":return n.jsx(Tc,{onShowDetail:O});case"performance-analytics":const L=tr["performance-analytics"];return n.jsx(Kt,{title:L.title,description:L.description});case"report-widgets":return n.jsx(Lc,{});case"pci-report":return n.jsx(Qc,{});case"system-backup":return n.jsx(Fe,{fallbackTitle:"System Backup Error",children:n.jsx(Xc,{})});case"license-dashboard":return n.jsx(Fe,{fallbackTitle:"License Dashboard Error",children:n.jsx(Kc,{})});case"firmware-manager":return n.jsx(Fe,{fallbackTitle:"Firmware Manager Error",children:n.jsx(Zc,{})});case"network-diagnostics":return n.jsx(Fe,{fallbackTitle:"Network Diagnostics Error",children:n.jsx(ed,{})});case"event-alarm-dashboard":return n.jsx(Fe,{fallbackTitle:"Events & Alarms Error",children:n.jsx(td,{})});case"security-dashboard":return n.jsx(Fe,{fallbackTitle:"Security Dashboard Error",children:n.jsx(rd,{})});case"guest-management":return n.jsx(Fe,{fallbackTitle:"Guest Management Error",children:n.jsx(sd,{})});case"configure-networks":return n.jsx(_c,{});case"configure-policy":return n.jsx(Oc,{});case"configure-aaa-policies":return n.jsx(zc,{});case"configure-adoption-rules":return n.jsx(Mc,{});case"configure-guest":return n.jsx(qc,{});case"configure-sites":return n.jsx(Dc,{onShowDetail:he});case"tools":return n.jsx(Bc,{});case"administration":return n.jsx(Uc,{networkAssistantEnabled:A,onToggleNetworkAssistant:U});case"api-test":return n.jsx(Wc,{});case"api-documentation":return n.jsx(od,{onNavigateBack:()=>r("service-levels")});default:const V=tr[t];return V?n.jsx(Kt,{title:V.title,description:V.description}):(r("service-levels"),n.jsx(Kt,{title:"Page Not Found",description:"The requested page is not available. Redirecting to Service Levels."}))}},Y=()=>{if(!p.isOpen||!p.type||!p.data)return null;switch(p.type){case"access-point":return n.jsx(Xt,{isOpen:p.isOpen,onClose:Q,title:p.data.displayName||`Access Point ${p.data.serialNumber}`,description:"Detailed access point information and management",width:"xl",children:n.jsx(g.Suspense,{fallback:n.jsx("div",{className:"flex items-center justify-center p-8",children:"Loading..."}),children:n.jsx(Gc,{serialNumber:p.data.serialNumber})})});case"client":return n.jsx(Xt,{isOpen:p.isOpen,onClose:Q,title:p.data.hostName||`Client ${p.data.macAddress}`,description:"Detailed client information and management",width:"lg",children:n.jsx(g.Suspense,{fallback:n.jsx("div",{className:"flex items-center justify-center p-8",children:"Loading..."}),children:n.jsx(Vc,{macAddress:p.data.macAddress})})});case"site":return n.jsx(Xt,{isOpen:p.isOpen,onClose:Q,title:p.data.siteName,description:"Site overview, statistics, and management",width:"lg",children:n.jsx(g.Suspense,{fallback:n.jsx("div",{className:"flex items-center justify-center p-8",children:"Loading..."}),children:n.jsx(Hc,{siteId:p.data.siteId,siteName:p.data.siteName})})});default:return null}};return E.isMobile?n.jsx(fl,{theme:f,onThemeToggle:T,onLogout:re,userEmail:localStorage.getItem("user_email")||void 0,currentSite:N.site,onSiteChange:L=>{z("site",L)}}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"h-screen flex bg-background",children:[n.jsx(zi,{onLogout:re,adminRole:s,currentPage:t,onPageChange:Z,theme:f,onThemeToggle:T}),n.jsx("main",{className:"flex-1 overflow-auto transition-all duration-200",style:{paddingBottom:R?`${$}px`:"0"},children:n.jsxs("div",{className:"p-4 sm:p-6 pt-16 sm:pt-6",children:[n.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4 sm:mb-6",children:[n.jsx("h2",{className:"text-base sm:text-lg font-semibold text-[rgba(255,255,255,1)] truncate flex-1",children:tr[t]?.title||"Mobility Engine"}),n.jsxs("div",{className:"flex items-center gap-2",children:[!E.isMobile&&n.jsxs(n.Fragment,{children:[n.jsx(q,{variant:R?"default":"secondary",size:"sm",onClick:K,className:"flex items-center",title:"Toggle Developer Mode",children:n.jsx(ta,{className:"h-4 w-4"})}),n.jsx(q,{variant:t==="api-test"?"default":"secondary",size:"sm",onClick:()=>r("api-test"),className:"flex items-center",title:"API Test Tool",children:n.jsx(ra,{className:"h-4 w-4"})}),n.jsx(yc,{}),n.jsx(Kl,{})]}),n.jsx(ho,{onLogout:re,theme:f,onThemeToggle:T,userEmail:localStorage.getItem("user_email")||void 0,onNavigateTo:Z})]})]}),n.jsx("div",{children:n.jsx(g.Suspense,{fallback:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status",children:n.jsx("span",{className:"sr-only",children:"Loading..."})}),n.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading page..."})]})}),children:Re()})})]})}),!E.isMobile&&n.jsx(Yl,{}),Y()]}),A&&n.jsx(Jc,{isOpen:y,onToggle:()=>x(!y),context:G,onShowClientDetail:O,onShowAccessPointDetail:ee,onShowSiteDetail:he}),!E.isMobile&&n.jsx(Nc,{isOpen:R,onClose:()=>m(!1),apiLogs:k,onClearLogs:de,onHeightChange:w}),n.jsx(Cc,{position:"bottom-left"})]})}const lt="v567.61bceea",Rt=1067,As="app_version",Ps="cache_version";async function ad(){if("indexedDB"in window)try{if("databases"in indexedDB){const e=(await indexedDB.databases()).map(t=>new Promise((r,s)=>{const i=indexedDB.deleteDatabase(t.name);i.onsuccess=()=>r(),i.onerror=()=>s(i.error),i.onblocked=()=>{console.warn(`[VersionGate] IndexedDB ${t.name} delete blocked`),r()}}));await Promise.allSettled(e)}}catch(a){console.warn("[VersionGate] Failed to clear IndexedDB:",a)}}async function id(){if("caches"in window)try{const a=await caches.keys(),e=a.map(t=>caches.delete(t));await Promise.allSettled(e),console.log(`[VersionGate] Deleted ${a.length} cache(s)`)}catch(a){console.warn("[VersionGate] Failed to clear Cache Storage:",a)}}async function ld(){if("serviceWorker"in navigator)try{const a=await navigator.serviceWorker.getRegistrations(),e=a.map(t=>t.unregister());await Promise.allSettled(e),console.log(`[VersionGate] Unregistered ${a.length} service worker(s)`)}catch(a){console.warn("[VersionGate] Failed to unregister service workers:",a)}}function cd(){try{const a=[];for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&a.push(t)}a.forEach(e=>localStorage.removeItem(e)),console.log(`[VersionGate] Cleared ${a.length} localStorage item(s)`)}catch(a){console.warn("[VersionGate] Failed to clear localStorage:",a)}try{const a=sessionStorage.length;sessionStorage.clear(),console.log(`[VersionGate] Cleared ${a} sessionStorage item(s)`)}catch(a){console.warn("[VersionGate] Failed to clear sessionStorage:",a)}}function dd(){const a=["session_v1","session_v2"];try{document.cookie.split(";").forEach(t=>{const[r]=t.split("=").map(s=>s.trim());a.some(s=>r.startsWith(s))&&(document.cookie=`${r}=; path=/; max-age=0; secure; samesite=lax`,console.log(`[VersionGate] Expired cookie: ${r}`))})}catch(e){console.warn("[VersionGate] Failed to expire old cookies:",e)}}async function ud(){console.log("[VersionGate] Performing full state cleanup..."),cd(),dd(),await Promise.allSettled([ad(),id(),ld()]),console.log("[VersionGate] State cleanup complete")}async function hd(){const a=localStorage.getItem(As),e=localStorage.getItem(Ps),t=a!==lt,r=e!==String(Rt);return t||r?(console.log("[VersionGate] Version mismatch detected"),console.log(`  Stored: ${a} (cache: ${e})`),console.log(`  Current: ${lt} (cache: ${Rt})`),await ud(),localStorage.setItem(As,lt),localStorage.setItem(Ps,String(Rt)),console.log("[VersionGate] Forcing full page reload..."),!0):(console.log(`[VersionGate] Version OK: ${lt}`),!1)}async function pd(){try{await hd()&&window.location.reload()}catch(a){console.error("[VersionGate] Error during version check:",a)}}function fd(){return lt}function gd(){return Rt}async function md(){await pd(),oa.createRoot(document.getElementById("root")).render(n.jsx(Fe,{children:n.jsx(nd,{})})),vd()}function vd(){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const a=await navigator.serviceWorker.register("/service-worker.js");console.log(`[SW] Registered: ${a.scope}`),a.addEventListener("updatefound",()=>{const e=a.installing;e&&(console.log("[SW] Update found, installing..."),e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New version installed, activating..."),e.postMessage({type:"SKIP_WAITING"}))}))}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("[SW] Controller changed, reloading..."),window.location.reload()}),navigator.serviceWorker.addEventListener("message",e=>{e.data?.type==="SW_ACTIVATED"&&console.log(`[SW] Activated version ${e.data.version}`),e.data?.type==="CACHES_CLEARED"&&console.log("[SW] All caches cleared")})}catch(a){console.log("[SW] Registration failed:",a)}})}console.log(`[App] Version: ${fd()} (cache: ${gd()})`);md();export{Za as A,q as B,zt as C,Xt as D,Cr as E,Er as F,$r as G,Tr as H,Be as I,Sd as J,qt as K,es as L,br as P,gc as S,Zl as T,W as _,B as a,vr as b,wr as c,yr as d,ne as e,C as f,Ha as g,Vs as h,ec as i,bt as j,At as k,ei as l,ol as m,al as n,nl as o,il as p,hs as q,Ar as r,Pr as s,ps as t,ia as u,nr as v,Ye as w,Ot as x,Pd as y,Nr as z};
